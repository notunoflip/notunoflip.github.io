function rx(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(t,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function iw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ef={exports:{}},Eo={};var Rv;function ix(){if(Rv)return Eo;Rv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(i,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:t,type:i,key:c,ref:o!==void 0?o:null,props:u}}return Eo.Fragment=e,Eo.jsx=r,Eo.jsxs=r,Eo}var Av;function sx(){return Av||(Av=1,Ef.exports=ix()),Ef.exports}var V=sx(),xf={exports:{}},Ne={};var Cv;function ox(){if(Cv)return Ne;Cv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function w(_){return _===null||typeof _!="object"?null:(_=v&&_[v]||_["@@iterator"],typeof _=="function"?_:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function C(_,z,$){this.props=_,this.context=z,this.refs=A,this.updater=$||S}C.prototype.isReactComponent={},C.prototype.setState=function(_,z){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,z,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function D(){}D.prototype=C.prototype;function k(_,z,$){this.props=_,this.context=z,this.refs=A,this.updater=$||S}var J=k.prototype=new D;J.constructor=k,T(J,C.prototype),J.isPureReactComponent=!0;var Z=Array.isArray;function G(){}var x={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function Y(_,z,$){var X=$.ref;return{$$typeof:t,type:_,key:z,ref:X!==void 0?X:null,props:$}}function fe(_,z){return Y(_.type,z,_.props)}function ye(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function Ae(_){var z={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function($){return z[$]})}var $e=/\/+/g;function Ue(_,z){return typeof _=="object"&&_!==null&&_.key!=null?Ae(""+_.key):z.toString(36)}function xe(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(G,G):(_.status="pending",_.then(function(z){_.status==="pending"&&(_.status="fulfilled",_.value=z)},function(z){_.status==="pending"&&(_.status="rejected",_.reason=z)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function B(_,z,$,X,te){var ie=typeof _;(ie==="undefined"||ie==="boolean")&&(_=null);var se=!1;if(_===null)se=!0;else switch(ie){case"bigint":case"string":case"number":se=!0;break;case"object":switch(_.$$typeof){case t:case e:se=!0;break;case y:return se=_._init,B(se(_._payload),z,$,X,te)}}if(se)return te=te(_),se=X===""?"."+Ue(_,0):X,Z(te)?($="",se!=null&&($=se.replace($e,"$&/")+"/"),B(te,z,$,"",function(Ye){return Ye})):te!=null&&(ye(te)&&(te=fe(te,$+(te.key==null||_&&_.key===te.key?"":(""+te.key).replace($e,"$&/")+"/")+se)),z.push(te)),1;se=0;var le=X===""?".":X+":";if(Z(_))for(var Se=0;Se<_.length;Se++)X=_[Se],ie=le+Ue(X,Se),se+=B(X,z,$,ie,te);else if(Se=w(_),typeof Se=="function")for(_=Se.call(_),Se=0;!(X=_.next()).done;)X=X.value,ie=le+Ue(X,Se++),se+=B(X,z,$,ie,te);else if(ie==="object"){if(typeof _.then=="function")return B(xe(_),z,$,X,te);throw z=String(_),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return se}function W(_,z,$){if(_==null)return _;var X=[],te=0;return B(_,X,"","",function(ie){return z.call($,ie,te++)}),X}function re(_){if(_._status===-1){var z=_._result;z=z(),z.then(function($){(_._status===0||_._status===-1)&&(_._status=1,_._result=$)},function($){(_._status===0||_._status===-1)&&(_._status=2,_._result=$)}),_._status===-1&&(_._status=0,_._result=z)}if(_._status===1)return _._result.default;throw _._result}var pe=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},L={map:W,forEach:function(_,z,$){W(_,function(){z.apply(this,arguments)},$)},count:function(_){var z=0;return W(_,function(){z++}),z},toArray:function(_){return W(_,function(z){return z})||[]},only:function(_){if(!ye(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Ne.Activity=g,Ne.Children=L,Ne.Component=C,Ne.Fragment=r,Ne.Profiler=o,Ne.PureComponent=k,Ne.StrictMode=i,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(_){return x.H.useMemoCache(_)}},Ne.cache=function(_){return function(){return _.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(_,z,$){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var X=T({},_.props),te=_.key;if(z!=null)for(ie in z.key!==void 0&&(te=""+z.key),z)!j.call(z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&z.ref===void 0||(X[ie]=z[ie]);var ie=arguments.length-2;if(ie===1)X.children=$;else if(1<ie){for(var se=Array(ie),le=0;le<ie;le++)se[le]=arguments[le+2];X.children=se}return Y(_.type,te,X)},Ne.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:u,_context:_},_},Ne.createElement=function(_,z,$){var X,te={},ie=null;if(z!=null)for(X in z.key!==void 0&&(ie=""+z.key),z)j.call(z,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(te[X]=z[X]);var se=arguments.length-2;if(se===1)te.children=$;else if(1<se){for(var le=Array(se),Se=0;Se<se;Se++)le[Se]=arguments[Se+2];te.children=le}if(_&&_.defaultProps)for(X in se=_.defaultProps,se)te[X]===void 0&&(te[X]=se[X]);return Y(_,ie,te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(_){return{$$typeof:f,render:_}},Ne.isValidElement=ye,Ne.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:re}},Ne.memo=function(_,z){return{$$typeof:m,type:_,compare:z===void 0?null:z}},Ne.startTransition=function(_){var z=x.T,$={};x.T=$;try{var X=_(),te=x.S;te!==null&&te($,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(G,pe)}catch(ie){pe(ie)}finally{z!==null&&$.types!==null&&(z.types=$.types),x.T=z}},Ne.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ne.use=function(_){return x.H.use(_)},Ne.useActionState=function(_,z,$){return x.H.useActionState(_,z,$)},Ne.useCallback=function(_,z){return x.H.useCallback(_,z)},Ne.useContext=function(_){return x.H.useContext(_)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(_,z){return x.H.useDeferredValue(_,z)},Ne.useEffect=function(_,z){return x.H.useEffect(_,z)},Ne.useEffectEvent=function(_){return x.H.useEffectEvent(_)},Ne.useId=function(){return x.H.useId()},Ne.useImperativeHandle=function(_,z,$){return x.H.useImperativeHandle(_,z,$)},Ne.useInsertionEffect=function(_,z){return x.H.useInsertionEffect(_,z)},Ne.useLayoutEffect=function(_,z){return x.H.useLayoutEffect(_,z)},Ne.useMemo=function(_,z){return x.H.useMemo(_,z)},Ne.useOptimistic=function(_,z){return x.H.useOptimistic(_,z)},Ne.useReducer=function(_,z,$){return x.H.useReducer(_,z,$)},Ne.useRef=function(_){return x.H.useRef(_)},Ne.useState=function(_){return x.H.useState(_)},Ne.useSyncExternalStore=function(_,z,$){return x.H.useSyncExternalStore(_,z,$)},Ne.useTransition=function(){return x.H.useTransition()},Ne.version="19.2.3",Ne}var Ov;function Fh(){return Ov||(Ov=1,xf.exports=ox()),xf.exports}var R=Fh();const ue=iw(R),lx=rx({__proto__:null,default:ue},[R]);var Tf={exports:{}},xo={},Rf={exports:{}},Af={};var kv;function ux(){return kv||(kv=1,(function(t){function e(B,W){var re=B.length;B.push(W);e:for(;0<re;){var pe=re-1>>>1,L=B[pe];if(0<o(L,W))B[pe]=W,B[re]=L,re=pe;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var W=B[0],re=B.pop();if(re!==W){B[0]=re;e:for(var pe=0,L=B.length,_=L>>>1;pe<_;){var z=2*(pe+1)-1,$=B[z],X=z+1,te=B[X];if(0>o($,re))X<L&&0>o(te,$)?(B[pe]=te,B[X]=re,pe=X):(B[pe]=$,B[z]=re,pe=z);else if(X<L&&0>o(te,re))B[pe]=te,B[X]=re,pe=X;else break e}}return W}function o(B,W){var re=B.sortIndex-W.sortIndex;return re!==0?re:B.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],m=[],y=1,g=null,v=3,w=!1,S=!1,T=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function J(B){for(var W=r(m);W!==null;){if(W.callback===null)i(m);else if(W.startTime<=B)i(m),W.sortIndex=W.expirationTime,e(h,W);else break;W=r(m)}}function Z(B){if(T=!1,J(B),!S)if(r(h)!==null)S=!0,G||(G=!0,Ae());else{var W=r(m);W!==null&&xe(Z,W.startTime-B)}}var G=!1,x=-1,j=5,Y=-1;function fe(){return A?!0:!(t.unstable_now()-Y<j)}function ye(){if(A=!1,G){var B=t.unstable_now();Y=B;var W=!0;try{e:{S=!1,T&&(T=!1,D(x),x=-1),w=!0;var re=v;try{t:{for(J(B),g=r(h);g!==null&&!(g.expirationTime>B&&fe());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,v=g.priorityLevel;var L=pe(g.expirationTime<=B);if(B=t.unstable_now(),typeof L=="function"){g.callback=L,J(B),W=!0;break t}g===r(h)&&i(h),J(B)}else i(h);g=r(h)}if(g!==null)W=!0;else{var _=r(m);_!==null&&xe(Z,_.startTime-B),W=!1}}break e}finally{g=null,v=re,w=!1}W=void 0}}finally{W?Ae():G=!1}}}var Ae;if(typeof k=="function")Ae=function(){k(ye)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Ue=$e.port2;$e.port1.onmessage=ye,Ae=function(){Ue.postMessage(null)}}else Ae=function(){C(ye,0)};function xe(B,W){x=C(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(B){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var re=v;v=W;try{return B()}finally{v=re}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var re=v;v=B;try{return W()}finally{v=re}},t.unstable_scheduleCallback=function(B,W,re){var pe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?pe+re:pe):re=pe,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=re+L,B={id:y++,callback:W,priorityLevel:B,startTime:re,expirationTime:L,sortIndex:-1},re>pe?(B.sortIndex=re,e(m,B),r(h)===null&&B===r(m)&&(T?(D(x),x=-1):T=!0,xe(Z,re-pe))):(B.sortIndex=L,e(h,B),S||w||(S=!0,G||(G=!0,Ae()))),B},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(B){var W=v;return function(){var re=v;v=W;try{return B.apply(this,arguments)}finally{v=re}}}})(Af)),Af}var Mv;function cx(){return Mv||(Mv=1,Rf.exports=ux()),Rf.exports}var Cf={exports:{}},mn={};var Dv;function dx(){if(Dv)return mn;Dv=1;var t=Fh();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(h,m,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:h,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(h,m,null,y)},mn.flushSync=function(h){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=m,i.p=y,i.d.f()}},mn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},mn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},mn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,g=f(y,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:w}):y==="script"&&i.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},mn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,g=f(y,m.crossOrigin);i.d.L(h,y,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mn.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},mn.requestFormReset=function(h){i.d.r(h)},mn.unstable_batchedUpdates=function(h,m){return h(m)},mn.useFormState=function(h,m,y){return c.H.useFormState(h,m,y)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var jv;function sw(){if(jv)return Cf.exports;jv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cf.exports=dx(),Cf.exports}var Nv;function fx(){if(Nv)return xo;Nv=1;var t=cx(),e=Fh(),r=sw();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var a=n,s=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(s=a.return),n=a.return;while(n)}return a.tag===3?s:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function f(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(u(n)!==n)throw Error(i(188))}function m(n){var a=n.alternate;if(!a){if(a=u(n),a===null)throw Error(i(188));return a!==n?null:n}for(var s=n,l=a;;){var d=s.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===s)return h(d),n;if(p===l)return h(d),a;p=p.sibling}throw Error(i(188))}if(s.return!==l.return)s=d,l=p;else{for(var b=!1,E=d.child;E;){if(E===s){b=!0,s=d,l=p;break}if(E===l){b=!0,l=d,s=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===s){b=!0,s=p,l=d;break}if(E===l){b=!0,l=p,s=d;break}E=E.sibling}if(!b)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?n:a}function y(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=y(n),a!==null)return a;n=n.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Ae(n){return n===null||typeof n!="object"?null:(n=ye&&n[ye]||n["@@iterator"],typeof n=="function"?n:null)}var $e=Symbol.for("react.client.reference");function Ue(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===$e?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case Z:return"Suspense";case G:return"SuspenseList";case Y:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case k:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case J:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return a=n.displayName||null,a!==null?a:Ue(n.type)||"Memo";case j:a=n._payload,n=n._init;try{return Ue(n(a))}catch{}}return null}var xe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},pe=[],L=-1;function _(n){return{current:n}}function z(n){0>L||(n.current=pe[L],pe[L]=null,L--)}function $(n,a){L++,pe[L]=n.current,n.current=a}var X=_(null),te=_(null),ie=_(null),se=_(null);function le(n,a){switch($(ie,a),$(te,n),$(X,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?Xy(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=Xy(a),n=Jy(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}z(X),$(X,n)}function Se(){z(X),z(te),z(ie)}function Ye(n){n.memoizedState!==null&&$(se,n);var a=X.current,s=Jy(a,n.type);a!==s&&($(te,n),$(X,s))}function He(n){te.current===n&&(z(X),z(te)),se.current===n&&(z(se),bo._currentValue=re)}var Oe,at;function je(n){if(Oe===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Oe=a&&a[1]||"",at=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+n+at}var Tt=!1;function ct(n,a){if(!n||Tt)return"";Tt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(F){var I=F}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(F){I=F}n.call(ne.prototype)}}else{try{throw Error()}catch(F){I=F}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(F){if(F&&I&&typeof F.stack=="string")return[F.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),b=p[0],E=p[1];if(b&&E){var M=b.split(`
`),q=E.split(`
`);for(d=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===M.length||d===q.length)for(l=M.length-1,d=q.length-1;1<=l&&0<=d&&M[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(M[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||M[l]!==q[d]){var Q=`
`+M[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=d);break}}}finally{Tt=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?je(s):""}function jt(n,a){switch(n.tag){case 26:case 27:case 5:return je(n.type);case 16:return je("Lazy");case 13:return n.child!==a&&a!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return ct(n.type,!1);case 11:return ct(n.type.render,!1);case 1:return ct(n.type,!0);case 31:return je("Activity");default:return""}}function an(n){try{var a="",s=null;do a+=jt(n,s),s=n,n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Qt=t.unstable_scheduleCallback,Va=t.unstable_cancelCallback,Kt=t.unstable_shouldYield,Jn=t.unstable_requestPaint,dt=t.unstable_now,ma=t.unstable_getCurrentPriorityLevel,jn=t.unstable_ImmediatePriority,Oa=t.unstable_UserBlockingPriority,Yt=t.unstable_NormalPriority,Zt=t.unstable_LowPriority,vn=t.unstable_IdlePriority,ka=t.log,Sn=t.unstable_setDisableYieldValue,pa=null,pt=null;function En(n){if(typeof ka=="function"&&Sn(n),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(pa,n)}catch{}}var Ft=Math.clz32?Math.clz32:Nn,Oi=Math.log,Xr=Math.LN2;function Nn(n){return n>>>=0,n===0?32:31-(Oi(n)/Xr|0)|0}var ga=256,$a=262144,ya=4194304;function Wn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function De(n,a,s){var l=n.pendingLanes;if(l===0)return 0;var d=0,p=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var E=l&134217727;return E!==0?(l=E&~p,l!==0?d=Wn(l):(b&=E,b!==0?d=Wn(b):s||(s=E&~n,s!==0&&(d=Wn(s))))):(E=l&~p,E!==0?d=Wn(E):b!==0?d=Wn(b):s||(s=l&~n,s!==0&&(d=Wn(s)))),d===0?0:a!==0&&a!==d&&(a&p)===0&&(p=d&-d,s=a&-a,p>=s||p===32&&(s&4194048)!==0)?a:d}function ft(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Nt(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var n=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),n}function Ln(n){for(var a=[],s=0;31>s;s++)a.push(n);return a}function ht(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function hn(n,a,s,l,d,p){var b=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var E=n.entanglements,M=n.expirationTimes,q=n.hiddenUpdates;for(s=b&~s;0<s;){var Q=31-Ft(s),ne=1<<Q;E[Q]=0,M[Q]=-1;var I=q[Q];if(I!==null)for(q[Q]=null,Q=0;Q<I.length;Q++){var F=I[Q];F!==null&&(F.lane&=-536870913)}s&=~ne}l!==0&&Ha(n,l,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(b&~a))}function Ha(n,a,s){n.pendingLanes|=a,n.suspendedLanes&=~a;var l=31-Ft(a);n.entangledLanes|=a,n.entanglements[l]=n.entanglements[l]|1073741824|s&261930}function O(n,a){var s=n.entangledLanes|=a;for(n=n.entanglements;s;){var l=31-Ft(s),d=1<<l;d&a|n[l]&a&&(n[l]|=a),s&=~d}}function U(n,a){var s=a&-a;return s=(s&42)!==0?1:K(s),(s&(n.suspendedLanes|a))!==0?0:s}function K(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ae(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function oe(){var n=W.p;return n!==0?n:(n=window.event,n===void 0?32:bv(n.type))}function we(n,a){var s=W.p;try{return W.p=n,a()}finally{W.p=s}}var de=Math.random().toString(36).slice(2),ce="__reactFiber$"+de,he="__reactProps$"+de,be="__reactContainer$"+de,Re="__reactEvents$"+de,Ee="__reactListeners$"+de,Ze="__reactHandles$"+de,Fe="__reactResources$"+de,St="__reactMarker$"+de;function Rt(n){delete n[ce],delete n[he],delete n[Re],delete n[Ee],delete n[Ze]}function At(n){var a=n[ce];if(a)return a;for(var s=n.parentNode;s;){if(a=s[be]||s[ce]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(n=av(n);n!==null;){if(s=n[ce])return s;n=av(n)}return a}n=s,s=n.parentNode}return null}function Xe(n){if(n=n[ce]||n[be]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function en(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function xn(n){var a=n[Fe];return a||(a=n[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function wt(n){n[St]=!0}var va=new Set,Un={};function ba(n,a){Qn(n,a),Qn(n+"Capture",a)}function Qn(n,a){for(Un[n]=a,n=0;n<a.length;n++)va.add(a[n])}var qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},Wr={};function Je(n){return bt.call(Wr,n)?!0:bt.call(Jr,n)?!1:qa.test(n)?Wr[n]=!0:(Jr[n]=!0,!1)}function Ut(n,a,s){if(Je(a))if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+s)}}function wa(n,a,s){if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+s)}}function rn(n,a,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(a,s,""+l)}}function We(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qr(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function dl(n,a,s){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,p=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return d.call(this)},set:function(b){s=""+b,p.call(this,b)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Ns(n){if(!n._valueTracker){var a=Qr(n)?"checked":"value";n._valueTracker=dl(n,a,""+n[a])}}function Hm(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return n&&(l=Qr(n)?n.checked?"true":"false":n.value),n=l,n!==s?(a.setValue(n),!0):!1}function fl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var QS=/[\n"\\]/g;function Zn(n){return n.replace(QS,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function gc(n,a,s,l,d,p,b,E){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),a!=null?b==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+We(a)):n.value!==""+We(a)&&(n.value=""+We(a)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),a!=null?yc(n,b,We(a)):s!=null?yc(n,b,We(s)):l!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+We(E):n.removeAttribute("name")}function qm(n,a,s,l,d,p,b,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Ns(n);return}s=s!=null?""+We(s):"",a=a!=null?""+We(a):s,E||a===n.value||(n.value=a),n.defaultValue=a}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=E?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),Ns(n)}function yc(n,a,s){a==="number"&&fl(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function ki(n,a,s,l){if(n=n.options,a){a={};for(var d=0;d<s.length;d++)a["$"+s[d]]=!0;for(s=0;s<n.length;s++)d=a.hasOwnProperty("$"+n[s].value),n[s].selected!==d&&(n[s].selected=d),d&&l&&(n[s].defaultSelected=!0)}else{for(s=""+We(s),a=null,d=0;d<n.length;d++){if(n[d].value===s){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}a!==null||n[d].disabled||(a=n[d])}a!==null&&(a.selected=!0)}}function Im(n,a,s){if(a!=null&&(a=""+We(a),a!==n.value&&(n.value=a),s==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=s!=null?""+We(s):""}function Gm(n,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(i(92));if(xe(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=We(a),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l),Ns(n)}function Mi(n,a){if(a){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=a;return}}n.textContent=a}var ZS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Km(n,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":l?n.setProperty(a,s):typeof s!="number"||s===0||ZS.has(a)?a==="float"?n.cssFloat=s:n[a]=(""+s).trim():n[a]=s+"px"}function Ym(n,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in a)l=a[d],a.hasOwnProperty(d)&&s[d]!==l&&Km(n,d,l)}else for(var p in a)a.hasOwnProperty(p)&&Km(n,p,a[p])}function vc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),t1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(n){return t1.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ia(){}var bc=null;function wc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Di=null,ji=null;function Fm(n){var a=Xe(n);if(a&&(n=a.stateNode)){var s=n[he]||null;e:switch(n=a.stateNode,a.type){case"input":if(gc(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Zn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==n&&l.form===n.form){var d=l[he]||null;if(!d)throw Error(i(90));gc(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===n.form&&Hm(l)}break e;case"textarea":Im(n,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ki(n,!!s.multiple,a,!1)}}}var _c=!1;function Xm(n,a,s){if(_c)return n(a,s);_c=!0;try{var l=n(a);return l}finally{if(_c=!1,(Di!==null||ji!==null)&&(eu(),Di&&(a=Di,n=ji,ji=Di=null,Fm(a),n)))for(a=0;a<n.length;a++)Fm(n[a])}}function Ls(n,a){var s=n.stateNode;if(s===null)return null;var l=s[he]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=!1;if(Ga)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Sc=!1}var hr=null,Ec=null,ml=null;function Jm(){if(ml)return ml;var n,a=Ec,s=a.length,l,d="value"in hr?hr.value:hr.textContent,p=d.length;for(n=0;n<s&&a[n]===d[n];n++);var b=s-n;for(l=1;l<=b&&a[s-l]===d[p-l];l++);return ml=d.slice(n,1<l?1-l:void 0)}function pl(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function gl(){return!0}function Wm(){return!1}function Tn(n){function a(s,l,d,p,b){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(s=n[E],this[E]=s?s(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?gl:Wm,this.isPropagationStopped=Wm,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),a}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Tn(Zr),zs=g({},Zr,{view:0,detail:0}),n1=Tn(zs),xc,Tc,Bs,vl=g({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bs&&(Bs&&n.type==="mousemove"?(xc=n.screenX-Bs.screenX,Tc=n.screenY-Bs.screenY):Tc=xc=0,Bs=n),xc)},movementY:function(n){return"movementY"in n?n.movementY:Tc}}),Qm=Tn(vl),a1=g({},vl,{dataTransfer:0}),r1=Tn(a1),i1=g({},zs,{relatedTarget:0}),Rc=Tn(i1),s1=g({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),o1=Tn(s1),l1=g({},Zr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u1=Tn(l1),c1=g({},Zr,{data:0}),Zm=Tn(c1),d1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m1(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=h1[n])?!!a[n]:!1}function Ac(){return m1}var p1=g({},zs,{key:function(n){if(n.key){var a=d1[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=pl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?f1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(n){return n.type==="keypress"?pl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),g1=Tn(p1),y1=g({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ep=Tn(y1),v1=g({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),b1=Tn(v1),w1=g({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_1=Tn(w1),S1=g({},vl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),E1=Tn(S1),x1=g({},Zr,{newState:0,oldState:0}),T1=Tn(x1),R1=[9,13,27,32],Cc=Ga&&"CompositionEvent"in window,Ps=null;Ga&&"documentMode"in document&&(Ps=document.documentMode);var A1=Ga&&"TextEvent"in window&&!Ps,tp=Ga&&(!Cc||Ps&&8<Ps&&11>=Ps),np=" ",ap=!1;function rp(n,a){switch(n){case"keyup":return R1.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ni=!1;function C1(n,a){switch(n){case"compositionend":return ip(a);case"keypress":return a.which!==32?null:(ap=!0,np);case"textInput":return n=a.data,n===np&&ap?null:n;default:return null}}function O1(n,a){if(Ni)return n==="compositionend"||!Cc&&rp(n,a)?(n=Jm(),ml=Ec=hr=null,Ni=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return tp&&a.locale!=="ko"?null:a.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sp(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!k1[n.type]:a==="textarea"}function op(n,a,s,l){Di?ji?ji.push(l):ji=[l]:Di=l,a=ou(a,"onChange"),0<a.length&&(s=new yl("onChange","change",null,s,l),n.push({event:s,listeners:a}))}var Vs=null,$s=null;function M1(n){qy(n,0)}function bl(n){var a=en(n);if(Hm(a))return n}function lp(n,a){if(n==="change")return a}var up=!1;if(Ga){var Oc;if(Ga){var kc="oninput"in document;if(!kc){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),kc=typeof cp.oninput=="function"}Oc=kc}else Oc=!1;up=Oc&&(!document.documentMode||9<document.documentMode)}function dp(){Vs&&(Vs.detachEvent("onpropertychange",fp),$s=Vs=null)}function fp(n){if(n.propertyName==="value"&&bl($s)){var a=[];op(a,$s,n,wc(n)),Xm(M1,a)}}function D1(n,a,s){n==="focusin"?(dp(),Vs=a,$s=s,Vs.attachEvent("onpropertychange",fp)):n==="focusout"&&dp()}function j1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bl($s)}function N1(n,a){if(n==="click")return bl(a)}function L1(n,a){if(n==="input"||n==="change")return bl(a)}function U1(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var zn=typeof Object.is=="function"?Object.is:U1;function Hs(n,a){if(zn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var s=Object.keys(n),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!bt.call(a,d)||!zn(n[d],a[d]))return!1}return!0}function hp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mp(n,a){var s=hp(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=a&&l>=a)return{node:s,offset:a-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=hp(s)}}function pp(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?pp(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function gp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=fl(n.document);a instanceof n.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)n=a.contentWindow;else break;a=fl(n.document)}return a}function Mc(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var z1=Ga&&"documentMode"in document&&11>=document.documentMode,Li=null,Dc=null,qs=null,jc=!1;function yp(n,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jc||Li==null||Li!==fl(l)||(l=Li,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qs&&Hs(qs,l)||(qs=l,l=ou(Dc,"onSelect"),0<l.length&&(a=new yl("onSelect","select",null,a,s),n.push({event:a,listeners:l}),a.target=Li)))}function ei(n,a){var s={};return s[n.toLowerCase()]=a.toLowerCase(),s["Webkit"+n]="webkit"+a,s["Moz"+n]="moz"+a,s}var Ui={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},Nc={},vp={};Ga&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function ti(n){if(Nc[n])return Nc[n];if(!Ui[n])return n;var a=Ui[n],s;for(s in a)if(a.hasOwnProperty(s)&&s in vp)return Nc[n]=a[s];return n}var bp=ti("animationend"),wp=ti("animationiteration"),_p=ti("animationstart"),B1=ti("transitionrun"),P1=ti("transitionstart"),V1=ti("transitioncancel"),Sp=ti("transitionend"),Ep=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function _a(n,a){Ep.set(n,a),ba(a,[n])}var wl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ea=[],zi=0,Uc=0;function _l(){for(var n=zi,a=Uc=zi=0;a<n;){var s=ea[a];ea[a++]=null;var l=ea[a];ea[a++]=null;var d=ea[a];ea[a++]=null;var p=ea[a];if(ea[a++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}p!==0&&xp(s,d,p)}}function Sl(n,a,s,l){ea[zi++]=n,ea[zi++]=a,ea[zi++]=s,ea[zi++]=l,Uc|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function zc(n,a,s,l){return Sl(n,a,s,l),El(n)}function ni(n,a){return Sl(n,null,null,a),El(n)}function xp(n,a,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var d=!1,p=n.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&a!==null&&(d=31-Ft(s),n=p.hiddenUpdates,l=n[d],l===null?n[d]=[a]:l.push(a),a.lane=s|536870912),p):null}function El(n){if(50<fo)throw fo=0,Kd=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Bi={};function $1(n,a,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,a,s,l){return new $1(n,a,s,l)}function Bc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ka(n,a){var s=n.alternate;return s===null?(s=Bn(n.tag,a,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=a,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,a=n.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Tp(n,a){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,a=s.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function xl(n,a,s,l,d,p){var b=0;if(l=n,typeof n=="function")Bc(n)&&(b=1);else if(typeof n=="string")b=KE(n,s,X.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Y:return n=Bn(31,s,a,d),n.elementType=Y,n.lanes=p,n;case T:return ai(s.children,d,p,a);case A:b=8,d|=24;break;case C:return n=Bn(12,s,a,d|2),n.elementType=C,n.lanes=p,n;case Z:return n=Bn(13,s,a,d),n.elementType=Z,n.lanes=p,n;case G:return n=Bn(19,s,a,d),n.elementType=G,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:b=10;break e;case D:b=9;break e;case J:b=11;break e;case x:b=14;break e;case j:b=16,l=null;break e}b=29,s=Error(i(130,n===null?"null":typeof n,"")),l=null}return a=Bn(b,s,a,d),a.elementType=n,a.type=l,a.lanes=p,a}function ai(n,a,s,l){return n=Bn(7,n,l,a),n.lanes=s,n}function Pc(n,a,s){return n=Bn(6,n,null,a),n.lanes=s,n}function Rp(n){var a=Bn(18,null,null,0);return a.stateNode=n,a}function Vc(n,a,s){return a=Bn(4,n.children!==null?n.children:[],n.key,a),a.lanes=s,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Ap=new WeakMap;function ta(n,a){if(typeof n=="object"&&n!==null){var s=Ap.get(n);return s!==void 0?s:(a={value:n,source:a,stack:an(a)},Ap.set(n,a),a)}return{value:n,source:a,stack:an(a)}}var Pi=[],Vi=0,Tl=null,Is=0,na=[],aa=0,mr=null,Ma=1,Da="";function Ya(n,a){Pi[Vi++]=Is,Pi[Vi++]=Tl,Tl=n,Is=a}function Cp(n,a,s){na[aa++]=Ma,na[aa++]=Da,na[aa++]=mr,mr=n;var l=Ma;n=Da;var d=32-Ft(l)-1;l&=~(1<<d),s+=1;var p=32-Ft(a)+d;if(30<p){var b=d-d%5;p=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Ma=1<<32-Ft(a)+d|s<<d|l,Da=p+n}else Ma=1<<p|s<<d|l,Da=n}function $c(n){n.return!==null&&(Ya(n,1),Cp(n,1,0))}function Hc(n){for(;n===Tl;)Tl=Pi[--Vi],Pi[Vi]=null,Is=Pi[--Vi],Pi[Vi]=null;for(;n===mr;)mr=na[--aa],na[aa]=null,Da=na[--aa],na[aa]=null,Ma=na[--aa],na[aa]=null}function Op(n,a){na[aa++]=Ma,na[aa++]=Da,na[aa++]=mr,Ma=a.id,Da=a.overflow,mr=n}var sn=null,gt=null,Qe=!1,pr=null,ra=!1,qc=Error(i(519));function gr(n){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gs(ta(a,n)),qc}function kp(n){var a=n.stateNode,s=n.type,l=n.memoizedProps;switch(a[ce]=n,a[he]=l,s){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(s=0;s<mo.length;s++)Ie(mo[s],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":Ie("invalid",a),qm(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",a);break;case"textarea":Ie("invalid",a),Gm(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||Yy(a.textContent,s)?(l.popover!=null&&(Ie("beforetoggle",a),Ie("toggle",a)),l.onScroll!=null&&Ie("scroll",a),l.onScrollEnd!=null&&Ie("scrollend",a),l.onClick!=null&&(a.onclick=Ia),a=!0):a=!1,a||gr(n,!0)}function Mp(n){for(sn=n.return;sn;)switch(sn.tag){case 5:case 31:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:sn=sn.return}}function $i(n){if(n!==sn)return!1;if(!Qe)return Mp(n),Qe=!0,!1;var a=n.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||lf(n.type,n.memoizedProps)),s=!s),s&&gt&&gr(n),Mp(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));gt=nv(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));gt=nv(n)}else a===27?(a=gt,kr(n.type)?(n=hf,hf=null,gt=n):gt=a):gt=sn?sa(n.stateNode.nextSibling):null;return!0}function ri(){gt=sn=null,Qe=!1}function Ic(){var n=pr;return n!==null&&(On===null?On=n:On.push.apply(On,n),pr=null),n}function Gs(n){pr===null?pr=[n]:pr.push(n)}var Gc=_(null),ii=null,Fa=null;function yr(n,a,s){$(Gc,a._currentValue),a._currentValue=s}function Xa(n){n._currentValue=Gc.current,z(Gc)}function Kc(n,a,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),n===s)break;n=n.return}}function Yc(n,a,s,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var b=d.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=d;for(var M=0;M<a.length;M++)if(E.context===a[M]){p.lanes|=s,E=p.alternate,E!==null&&(E.lanes|=s),Kc(p.return,s,n),l||(b=null);break e}p=E.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=s,p=b.alternate,p!==null&&(p.lanes|=s),Kc(b,s,n),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===n){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Hi(n,a,s,l){n=null;for(var d=a,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=d.type;zn(d.pendingProps.value,b.value)||(n!==null?n.push(E):n=[E])}}else if(d===se.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(bo):n=[bo])}d=d.return}n!==null&&Yc(a,n,s,l),a.flags|=262144}function Rl(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function si(n){ii=n,Fa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return Dp(ii,n)}function Al(n,a){return ii===null&&si(n),Dp(n,a)}function Dp(n,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Fa===null){if(n===null)throw Error(i(308));Fa=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Fa=Fa.next=a;return s}var H1=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){a.aborted=!0,n.forEach(function(s){return s()})}},q1=t.unstable_scheduleCallback,I1=t.unstable_NormalPriority,Vt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new H1,data:new Map,refCount:0}}function Ks(n){n.refCount--,n.refCount===0&&q1(I1,function(){n.controller.abort()})}var Ys=null,Xc=0,qi=0,Ii=null;function G1(n,a){if(Ys===null){var s=Ys=[];Xc=0,qi=Qd(),Ii={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Xc++,a.then(jp,jp),a}function jp(){if(--Xc===0&&Ys!==null){Ii!==null&&(Ii.status="fulfilled");var n=Ys;Ys=null,qi=0,Ii=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function K1(n,a){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return n.then(function(){l.status="fulfilled",l.value=a;for(var d=0;d<s.length;d++)(0,s[d])(a)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var Np=B.S;B.S=function(n,a){yy=dt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&G1(n,a),Np!==null&&Np(n,a)};var oi=_(null);function Jc(){var n=oi.current;return n!==null?n:ut.pooledCache}function Cl(n,a){a===null?$(oi,oi.current):$(oi,a.pool)}function Lp(){var n=Jc();return n===null?null:{parent:Vt._currentValue,pool:n}}var Gi=Error(i(460)),Wc=Error(i(474)),Ol=Error(i(542)),kl={then:function(){}};function Up(n){return n=n.status,n==="fulfilled"||n==="rejected"}function zp(n,a,s){switch(s=n[s],s===void 0?n.push(a):s!==a&&(a.then(Ia,Ia),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Pp(n),n;default:if(typeof a.status=="string")a.then(Ia,Ia);else{if(n=ut,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(l){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=l}},function(l){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Pp(n),n}throw ui=a,Gi}}function li(n){try{var a=n._init;return a(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ui=s,Gi):s}}var ui=null;function Bp(){if(ui===null)throw Error(i(459));var n=ui;return ui=null,n}function Pp(n){if(n===Gi||n===Ol)throw Error(i(483))}var Ki=null,Fs=0;function Ml(n){var a=Fs;return Fs+=1,Ki===null&&(Ki=[]),zp(Ki,n,a)}function Xs(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Dl(n,a){throw a.$$typeof===v?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Vp(n){function a(P,N){if(n){var H=P.deletions;H===null?(P.deletions=[N],P.flags|=16):H.push(N)}}function s(P,N){if(!n)return null;for(;N!==null;)a(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function d(P,N){return P=Ka(P,N),P.index=0,P.sibling=null,P}function p(P,N,H){return P.index=H,n?(H=P.alternate,H!==null?(H=H.index,H<N?(P.flags|=67108866,N):H):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function b(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function E(P,N,H,ee){return N===null||N.tag!==6?(N=Pc(H,P.mode,ee),N.return=P,N):(N=d(N,H),N.return=P,N)}function M(P,N,H,ee){var Te=H.type;return Te===T?Q(P,N,H.props.children,ee,H.key):N!==null&&(N.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===j&&li(Te)===N.type)?(N=d(N,H.props),Xs(N,H),N.return=P,N):(N=xl(H.type,H.key,H.props,null,P.mode,ee),Xs(N,H),N.return=P,N)}function q(P,N,H,ee){return N===null||N.tag!==4||N.stateNode.containerInfo!==H.containerInfo||N.stateNode.implementation!==H.implementation?(N=Vc(H,P.mode,ee),N.return=P,N):(N=d(N,H.children||[]),N.return=P,N)}function Q(P,N,H,ee,Te){return N===null||N.tag!==7?(N=ai(H,P.mode,ee,Te),N.return=P,N):(N=d(N,H),N.return=P,N)}function ne(P,N,H){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Pc(""+N,P.mode,H),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return H=xl(N.type,N.key,N.props,null,P.mode,H),Xs(H,N),H.return=P,H;case S:return N=Vc(N,P.mode,H),N.return=P,N;case j:return N=li(N),ne(P,N,H)}if(xe(N)||Ae(N))return N=ai(N,P.mode,H,null),N.return=P,N;if(typeof N.then=="function")return ne(P,Ml(N),H);if(N.$$typeof===k)return ne(P,Al(P,N),H);Dl(P,N)}return null}function I(P,N,H,ee){var Te=N!==null?N.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:E(P,N,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===Te?M(P,N,H,ee):null;case S:return H.key===Te?q(P,N,H,ee):null;case j:return H=li(H),I(P,N,H,ee)}if(xe(H)||Ae(H))return Te!==null?null:Q(P,N,H,ee,null);if(typeof H.then=="function")return I(P,N,Ml(H),ee);if(H.$$typeof===k)return I(P,N,Al(P,H),ee);Dl(P,H)}return null}function F(P,N,H,ee,Te){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return P=P.get(H)||null,E(N,P,""+ee,Te);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return P=P.get(ee.key===null?H:ee.key)||null,M(N,P,ee,Te);case S:return P=P.get(ee.key===null?H:ee.key)||null,q(N,P,ee,Te);case j:return ee=li(ee),F(P,N,H,ee,Te)}if(xe(ee)||Ae(ee))return P=P.get(H)||null,Q(N,P,ee,Te,null);if(typeof ee.then=="function")return F(P,N,H,Ml(ee),Te);if(ee.$$typeof===k)return F(P,N,H,Al(N,ee),Te);Dl(N,ee)}return null}function ge(P,N,H,ee){for(var Te=null,et=null,ve=N,Be=N=0,Ke=null;ve!==null&&Be<H.length;Be++){ve.index>Be?(Ke=ve,ve=null):Ke=ve.sibling;var tt=I(P,ve,H[Be],ee);if(tt===null){ve===null&&(ve=Ke);break}n&&ve&&tt.alternate===null&&a(P,ve),N=p(tt,N,Be),et===null?Te=tt:et.sibling=tt,et=tt,ve=Ke}if(Be===H.length)return s(P,ve),Qe&&Ya(P,Be),Te;if(ve===null){for(;Be<H.length;Be++)ve=ne(P,H[Be],ee),ve!==null&&(N=p(ve,N,Be),et===null?Te=ve:et.sibling=ve,et=ve);return Qe&&Ya(P,Be),Te}for(ve=l(ve);Be<H.length;Be++)Ke=F(ve,P,Be,H[Be],ee),Ke!==null&&(n&&Ke.alternate!==null&&ve.delete(Ke.key===null?Be:Ke.key),N=p(Ke,N,Be),et===null?Te=Ke:et.sibling=Ke,et=Ke);return n&&ve.forEach(function(Lr){return a(P,Lr)}),Qe&&Ya(P,Be),Te}function Ce(P,N,H,ee){if(H==null)throw Error(i(151));for(var Te=null,et=null,ve=N,Be=N=0,Ke=null,tt=H.next();ve!==null&&!tt.done;Be++,tt=H.next()){ve.index>Be?(Ke=ve,ve=null):Ke=ve.sibling;var Lr=I(P,ve,tt.value,ee);if(Lr===null){ve===null&&(ve=Ke);break}n&&ve&&Lr.alternate===null&&a(P,ve),N=p(Lr,N,Be),et===null?Te=Lr:et.sibling=Lr,et=Lr,ve=Ke}if(tt.done)return s(P,ve),Qe&&Ya(P,Be),Te;if(ve===null){for(;!tt.done;Be++,tt=H.next())tt=ne(P,tt.value,ee),tt!==null&&(N=p(tt,N,Be),et===null?Te=tt:et.sibling=tt,et=tt);return Qe&&Ya(P,Be),Te}for(ve=l(ve);!tt.done;Be++,tt=H.next())tt=F(ve,P,Be,tt.value,ee),tt!==null&&(n&&tt.alternate!==null&&ve.delete(tt.key===null?Be:tt.key),N=p(tt,N,Be),et===null?Te=tt:et.sibling=tt,et=tt);return n&&ve.forEach(function(ax){return a(P,ax)}),Qe&&Ya(P,Be),Te}function lt(P,N,H,ee){if(typeof H=="object"&&H!==null&&H.type===T&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var Te=H.key;N!==null;){if(N.key===Te){if(Te=H.type,Te===T){if(N.tag===7){s(P,N.sibling),ee=d(N,H.props.children),ee.return=P,P=ee;break e}}else if(N.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===j&&li(Te)===N.type){s(P,N.sibling),ee=d(N,H.props),Xs(ee,H),ee.return=P,P=ee;break e}s(P,N);break}else a(P,N);N=N.sibling}H.type===T?(ee=ai(H.props.children,P.mode,ee,H.key),ee.return=P,P=ee):(ee=xl(H.type,H.key,H.props,null,P.mode,ee),Xs(ee,H),ee.return=P,P=ee)}return b(P);case S:e:{for(Te=H.key;N!==null;){if(N.key===Te)if(N.tag===4&&N.stateNode.containerInfo===H.containerInfo&&N.stateNode.implementation===H.implementation){s(P,N.sibling),ee=d(N,H.children||[]),ee.return=P,P=ee;break e}else{s(P,N);break}else a(P,N);N=N.sibling}ee=Vc(H,P.mode,ee),ee.return=P,P=ee}return b(P);case j:return H=li(H),lt(P,N,H,ee)}if(xe(H))return ge(P,N,H,ee);if(Ae(H)){if(Te=Ae(H),typeof Te!="function")throw Error(i(150));return H=Te.call(H),Ce(P,N,H,ee)}if(typeof H.then=="function")return lt(P,N,Ml(H),ee);if(H.$$typeof===k)return lt(P,N,Al(P,H),ee);Dl(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,N!==null&&N.tag===6?(s(P,N.sibling),ee=d(N,H),ee.return=P,P=ee):(s(P,N),ee=Pc(H,P.mode,ee),ee.return=P,P=ee),b(P)):s(P,N)}return function(P,N,H,ee){try{Fs=0;var Te=lt(P,N,H,ee);return Ki=null,Te}catch(ve){if(ve===Gi||ve===Ol)throw ve;var et=Bn(29,ve,null,P.mode);return et.lanes=ee,et.return=P,et}}}var ci=Vp(!0),$p=Vp(!1),vr=!1;function Qc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function br(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function wr(n,a,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var d=l.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a,a=El(n),xp(n,null,s),a}return Sl(n,l,a,s),El(n)}function Js(n,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=n.pendingLanes,s|=l,a.lanes=s,O(n,s)}}function ed(n,a){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?d=p=b:p=p.next=b,s=s.next}while(s!==null);p===null?d=p=a:p=p.next=a}else d=p=a;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=a:n.next=a,s.lastBaseUpdate=a}var td=!1;function Ws(){if(td){var n=Ii;if(n!==null)throw n}}function Qs(n,a,s,l){td=!1;var d=n.updateQueue;vr=!1;var p=d.firstBaseUpdate,b=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var M=E,q=M.next;M.next=null,b===null?p=q:b.next=q,b=M;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==b&&(E===null?Q.firstBaseUpdate=q:E.next=q,Q.lastBaseUpdate=M))}if(p!==null){var ne=d.baseState;b=0,Q=q=M=null,E=p;do{var I=E.lane&-536870913,F=I!==E.lane;if(F?(Ge&I)===I:(l&I)===I){I!==0&&I===qi&&(td=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ge=n,Ce=E;I=a;var lt=s;switch(Ce.tag){case 1:if(ge=Ce.payload,typeof ge=="function"){ne=ge.call(lt,ne,I);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ce.payload,I=typeof ge=="function"?ge.call(lt,ne,I):ge,I==null)break e;ne=g({},ne,I);break e;case 2:vr=!0}}I=E.callback,I!==null&&(n.flags|=64,F&&(n.flags|=8192),F=d.callbacks,F===null?d.callbacks=[I]:F.push(I))}else F={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(q=Q=F,M=ne):Q=Q.next=F,b|=I;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;F=E,E=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);Q===null&&(M=ne),d.baseState=M,d.firstBaseUpdate=q,d.lastBaseUpdate=Q,p===null&&(d.shared.lanes=0),Tr|=b,n.lanes=b,n.memoizedState=ne}}function Hp(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function qp(n,a){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Hp(s[n],a)}var Yi=_(null),jl=_(0);function Ip(n,a){n=rr,$(jl,n),$(Yi,a),rr=n|a.baseLanes}function nd(){$(jl,rr),$(Yi,Yi.current)}function ad(){rr=jl.current,z(Yi),z(jl)}var Pn=_(null),ia=null;function _r(n){var a=n.alternate;$(zt,zt.current&1),$(Pn,n),ia===null&&(a===null||Yi.current!==null||a.memoizedState!==null)&&(ia=n)}function rd(n){$(zt,zt.current),$(Pn,n),ia===null&&(ia=n)}function Gp(n){n.tag===22?($(zt,zt.current),$(Pn,n),ia===null&&(ia=n)):Sr()}function Sr(){$(zt,zt.current),$(Pn,Pn.current)}function Vn(n){z(Pn),ia===n&&(ia=null),z(zt)}var zt=_(0);function Nl(n){for(var a=n;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||df(s)||ff(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ja=0,ze=null,st=null,$t=null,Ll=!1,Fi=!1,di=!1,Ul=0,Zs=0,Xi=null,Y1=0;function Ct(){throw Error(i(321))}function id(n,a){if(a===null)return!1;for(var s=0;s<a.length&&s<n.length;s++)if(!zn(n[s],a[s]))return!1;return!0}function sd(n,a,s,l,d,p){return Ja=p,ze=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=n===null||n.memoizedState===null?Cg:_d,di=!1,p=s(l,d),di=!1,Fi&&(p=Yp(a,s,l,d)),Kp(n),p}function Kp(n){B.H=no;var a=st!==null&&st.next!==null;if(Ja=0,$t=st=ze=null,Ll=!1,Zs=0,Xi=null,a)throw Error(i(300));n===null||Ht||(n=n.dependencies,n!==null&&Rl(n)&&(Ht=!0))}function Yp(n,a,s,l){ze=n;var d=0;do{if(Fi&&(Xi=null),Zs=0,Fi=!1,25<=d)throw Error(i(301));if(d+=1,$t=st=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=Og,p=a(s,l)}while(Fi);return p}function F1(){var n=B.H,a=n.useState()[0];return a=typeof a.then=="function"?eo(a):a,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(ze.flags|=1024),a}function od(){var n=Ul!==0;return Ul=0,n}function ld(n,a,s){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~s}function ud(n){if(Ll){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ll=!1}Ja=0,$t=st=ze=null,Fi=!1,Zs=Ul=0,Xi=null}function bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ze.memoizedState=$t=n:$t=$t.next=n,$t}function Bt(){if(st===null){var n=ze.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var a=$t===null?ze.memoizedState:$t.next;if(a!==null)$t=a,st=n;else{if(n===null)throw ze.alternate===null?Error(i(467)):Error(i(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},$t===null?ze.memoizedState=$t=n:$t=$t.next=n}return $t}function zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(n){var a=Zs;return Zs+=1,Xi===null&&(Xi=[]),n=zp(Xi,n,a),a=ze,($t===null?a.memoizedState:$t.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Cg:_d),n}function Bl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return eo(n);if(n.$$typeof===k)return on(n)}throw Error(i(438,String(n)))}function cd(n){var a=null,s=ze.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=zl(),ze.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(n),l=0;l<n;l++)s[l]=fe;return a.index++,s}function Wa(n,a){return typeof a=="function"?a(n):a}function Pl(n){var a=Bt();return dd(a,st,n)}function dd(n,a,s){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=n.baseQueue,p=l.pending;if(p!==null){if(d!==null){var b=d.next;d.next=p.next,p.next=b}a.baseQueue=d=p,l.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{a=d.next;var E=b=null,M=null,q=a,Q=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(Ge&ne)===ne:(Ja&ne)===ne){var I=q.revertLane;if(I===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===qi&&(Q=!0);else if((Ja&I)===I){q=q.next,I===qi&&(Q=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(E=M=ne,b=p):M=M.next=ne,ze.lanes|=I,Tr|=I;ne=q.action,di&&s(p,ne),p=q.hasEagerState?q.eagerState:s(p,ne)}else I={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(E=M=I,b=p):M=M.next=I,ze.lanes|=ne,Tr|=ne;q=q.next}while(q!==null&&q!==a);if(M===null?b=p:M.next=E,!zn(p,n.memoizedState)&&(Ht=!0,Q&&(s=Ii,s!==null)))throw s;n.memoizedState=p,n.baseState=b,n.baseQueue=M,l.lastRenderedState=p}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function fd(n){var a=Bt(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=n;var l=s.dispatch,d=s.pending,p=a.memoizedState;if(d!==null){s.pending=null;var b=d=d.next;do p=n(p,b.action),b=b.next;while(b!==d);zn(p,a.memoizedState)||(Ht=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),s.lastRenderedState=p}return[p,l]}function Fp(n,a,s){var l=ze,d=Bt(),p=Qe;if(p){if(s===void 0)throw Error(i(407));s=s()}else s=a();var b=!zn((st||d).memoizedState,s);if(b&&(d.memoizedState=s,Ht=!0),d=d.queue,pd(Wp.bind(null,l,d,n),[n]),d.getSnapshot!==a||b||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Ji(9,{destroy:void 0},Jp.bind(null,l,d,s,a),null),ut===null)throw Error(i(349));p||(Ja&127)!==0||Xp(l,a,s)}return s}function Xp(n,a,s){n.flags|=16384,n={getSnapshot:a,value:s},a=ze.updateQueue,a===null?(a=zl(),ze.updateQueue=a,a.stores=[n]):(s=a.stores,s===null?a.stores=[n]:s.push(n))}function Jp(n,a,s,l){a.value=s,a.getSnapshot=l,Qp(a)&&Zp(n)}function Wp(n,a,s){return s(function(){Qp(a)&&Zp(n)})}function Qp(n){var a=n.getSnapshot;n=n.value;try{var s=a();return!zn(n,s)}catch{return!0}}function Zp(n){var a=ni(n,2);a!==null&&kn(a,n,2)}function hd(n){var a=bn();if(typeof n=="function"){var s=n;if(n=s(),di){En(!0);try{s()}finally{En(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:n},a}function eg(n,a,s,l){return n.baseState=s,dd(n,st,typeof l=="function"?l:Wa)}function X1(n,a,s,l,d){if(Hl(n))throw Error(i(485));if(n=a.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};B.T!==null?s(!0):p.isTransition=!1,l(p),s=a.pending,s===null?(p.next=a.pending=p,tg(a,p)):(p.next=s.next,a.pending=s.next=p)}}function tg(n,a){var s=a.action,l=a.payload,d=n.state;if(a.isTransition){var p=B.T,b={};B.T=b;try{var E=s(d,l),M=B.S;M!==null&&M(b,E),ng(n,a,E)}catch(q){md(n,a,q)}finally{p!==null&&b.types!==null&&(p.types=b.types),B.T=p}}else try{p=s(d,l),ng(n,a,p)}catch(q){md(n,a,q)}}function ng(n,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ag(n,a,l)},function(l){return md(n,a,l)}):ag(n,a,s)}function ag(n,a,s){a.status="fulfilled",a.value=s,rg(a),n.state=s,a=n.pending,a!==null&&(s=a.next,s===a?n.pending=null:(s=s.next,a.next=s,tg(n,s)))}function md(n,a,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,rg(a),a=a.next;while(a!==l)}n.action=null}function rg(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function ig(n,a){return a}function sg(n,a){if(Qe){var s=ut.formState;if(s!==null){e:{var l=ze;if(Qe){if(gt){t:{for(var d=gt,p=ra;d.nodeType!==8;){if(!p){d=null;break t}if(d=sa(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){gt=sa(d.nextSibling),l=d.data==="F!";break e}}gr(l)}l=!1}l&&(a=s[0])}}return s=bn(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ig,lastRenderedState:a},s.queue=l,s=Tg.bind(null,ze,l),l.dispatch=s,l=hd(!1),p=wd.bind(null,ze,!1,l.queue),l=bn(),d={state:a,dispatch:null,action:n,pending:null},l.queue=d,s=X1.bind(null,ze,d,p,s),d.dispatch=s,l.memoizedState=n,[a,s,!1]}function og(n){var a=Bt();return lg(a,st,n)}function lg(n,a,s){if(a=dd(n,a,ig)[0],n=Pl(Wa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=eo(a)}catch(b){throw b===Gi?Ol:b}else l=a;a=Bt();var d=a.queue,p=d.dispatch;return s!==a.memoizedState&&(ze.flags|=2048,Ji(9,{destroy:void 0},J1.bind(null,d,s),null)),[l,p,n]}function J1(n,a){n.action=a}function ug(n){var a=Bt(),s=st;if(s!==null)return lg(a,s,n);Bt(),a=a.memoizedState,s=Bt();var l=s.queue.dispatch;return s.memoizedState=n,[a,l,!1]}function Ji(n,a,s,l){return n={tag:n,create:s,deps:l,inst:a,next:null},a=ze.updateQueue,a===null&&(a=zl(),ze.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,a.lastEffect=n),n}function cg(){return Bt().memoizedState}function Vl(n,a,s,l){var d=bn();ze.flags|=n,d.memoizedState=Ji(1|a,{destroy:void 0},s,l===void 0?null:l)}function $l(n,a,s,l){var d=Bt();l=l===void 0?null:l;var p=d.memoizedState.inst;st!==null&&l!==null&&id(l,st.memoizedState.deps)?d.memoizedState=Ji(a,p,s,l):(ze.flags|=n,d.memoizedState=Ji(1|a,p,s,l))}function dg(n,a){Vl(8390656,8,n,a)}function pd(n,a){$l(2048,8,n,a)}function W1(n){ze.flags|=4;var a=ze.updateQueue;if(a===null)a=zl(),ze.updateQueue=a,a.events=[n];else{var s=a.events;s===null?a.events=[n]:s.push(n)}}function fg(n){var a=Bt().memoizedState;return W1({ref:a,nextImpl:n}),function(){if((nt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function hg(n,a){return $l(4,2,n,a)}function mg(n,a){return $l(4,4,n,a)}function pg(n,a){if(typeof a=="function"){n=n();var s=a(n);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function gg(n,a,s){s=s!=null?s.concat([n]):null,$l(4,4,pg.bind(null,a,n),s)}function gd(){}function yg(n,a){var s=Bt();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&id(a,l[1])?l[0]:(s.memoizedState=[n,a],n)}function vg(n,a){var s=Bt();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&id(a,l[1]))return l[0];if(l=n(),di){En(!0);try{n()}finally{En(!1)}}return s.memoizedState=[l,a],l}function yd(n,a,s){return s===void 0||(Ja&1073741824)!==0&&(Ge&261930)===0?n.memoizedState=a:(n.memoizedState=s,n=by(),ze.lanes|=n,Tr|=n,s)}function bg(n,a,s,l){return zn(s,a)?s:Yi.current!==null?(n=yd(n,s,l),zn(n,a)||(Ht=!0),n):(Ja&42)===0||(Ja&1073741824)!==0&&(Ge&261930)===0?(Ht=!0,n.memoizedState=s):(n=by(),ze.lanes|=n,Tr|=n,a)}function wg(n,a,s,l,d){var p=W.p;W.p=p!==0&&8>p?p:8;var b=B.T,E={};B.T=E,wd(n,!1,a,s);try{var M=d(),q=B.S;if(q!==null&&q(E,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=K1(M,l);to(n,a,Q,qn(n))}else to(n,a,l,qn(n))}catch(ne){to(n,a,{then:function(){},status:"rejected",reason:ne},qn())}finally{W.p=p,b!==null&&E.types!==null&&(b.types=E.types),B.T=b}}function Q1(){}function vd(n,a,s,l){if(n.tag!==5)throw Error(i(476));var d=_g(n).queue;wg(n,d,a,re,s===null?Q1:function(){return Sg(n),s(l)})}function _g(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:re},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:s},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Sg(n){var a=_g(n);a.next===null&&(a=n.alternate.memoizedState),to(n,a.next.queue,{},qn())}function bd(){return on(bo)}function Eg(){return Bt().memoizedState}function xg(){return Bt().memoizedState}function Z1(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var s=qn();n=br(s);var l=wr(a,n,s);l!==null&&(kn(l,a,s),Js(l,a,s)),a={cache:Fc()},n.payload=a;return}a=a.return}}function eE(n,a,s){var l=qn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hl(n)?Rg(a,s):(s=zc(n,a,s,l),s!==null&&(kn(s,n,l),Ag(s,a,l)))}function Tg(n,a,s){var l=qn();to(n,a,s,l)}function to(n,a,s,l){var d={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hl(n))Rg(a,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,E=p(b,s);if(d.hasEagerState=!0,d.eagerState=E,zn(E,b))return Sl(n,a,d,0),ut===null&&_l(),!1}catch{}if(s=zc(n,a,d,l),s!==null)return kn(s,n,l),Ag(s,a,l),!0}return!1}function wd(n,a,s,l){if(l={lane:2,revertLane:Qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hl(n)){if(a)throw Error(i(479))}else a=zc(n,s,l,2),a!==null&&kn(a,n,2)}function Hl(n){var a=n.alternate;return n===ze||a!==null&&a===ze}function Rg(n,a){Fi=Ll=!0;var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}function Ag(n,a,s){if((s&4194048)!==0){var l=a.lanes;l&=n.pendingLanes,s|=l,a.lanes=s,O(n,s)}}var no={readContext:on,use:Bl,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};no.useEffectEvent=Ct;var Cg={readContext:on,use:Bl,useCallback:function(n,a){return bn().memoizedState=[n,a===void 0?null:a],n},useContext:on,useEffect:dg,useImperativeHandle:function(n,a,s){s=s!=null?s.concat([n]):null,Vl(4194308,4,pg.bind(null,a,n),s)},useLayoutEffect:function(n,a){return Vl(4194308,4,n,a)},useInsertionEffect:function(n,a){Vl(4,2,n,a)},useMemo:function(n,a){var s=bn();a=a===void 0?null:a;var l=n();if(di){En(!0);try{n()}finally{En(!1)}}return s.memoizedState=[l,a],l},useReducer:function(n,a,s){var l=bn();if(s!==void 0){var d=s(a);if(di){En(!0);try{s(a)}finally{En(!1)}}}else d=a;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=eE.bind(null,ze,n),[l.memoizedState,n]},useRef:function(n){var a=bn();return n={current:n},a.memoizedState=n},useState:function(n){n=hd(n);var a=n.queue,s=Tg.bind(null,ze,a);return a.dispatch=s,[n.memoizedState,s]},useDebugValue:gd,useDeferredValue:function(n,a){var s=bn();return yd(s,n,a)},useTransition:function(){var n=hd(!1);return n=wg.bind(null,ze,n.queue,!0,!1),bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,s){var l=ze,d=bn();if(Qe){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),ut===null)throw Error(i(349));(Ge&127)!==0||Xp(l,a,s)}d.memoizedState=s;var p={value:s,getSnapshot:a};return d.queue=p,dg(Wp.bind(null,l,p,n),[n]),l.flags|=2048,Ji(9,{destroy:void 0},Jp.bind(null,l,p,s,a),null),s},useId:function(){var n=bn(),a=ut.identifierPrefix;if(Qe){var s=Da,l=Ma;s=(l&~(1<<32-Ft(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Ul++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=Y1++,a="_"+a+"r_"+s.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:bd,useFormState:sg,useActionState:sg,useOptimistic:function(n){var a=bn();a.memoizedState=a.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=wd.bind(null,ze,!0,s),s.dispatch=a,[n,a]},useMemoCache:cd,useCacheRefresh:function(){return bn().memoizedState=Z1.bind(null,ze)},useEffectEvent:function(n){var a=bn(),s={impl:n};return a.memoizedState=s,function(){if((nt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},_d={readContext:on,use:Bl,useCallback:yg,useContext:on,useEffect:pd,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:mg,useMemo:vg,useReducer:Pl,useRef:cg,useState:function(){return Pl(Wa)},useDebugValue:gd,useDeferredValue:function(n,a){var s=Bt();return bg(s,st.memoizedState,n,a)},useTransition:function(){var n=Pl(Wa)[0],a=Bt().memoizedState;return[typeof n=="boolean"?n:eo(n),a]},useSyncExternalStore:Fp,useId:Eg,useHostTransitionStatus:bd,useFormState:og,useActionState:og,useOptimistic:function(n,a){var s=Bt();return eg(s,st,n,a)},useMemoCache:cd,useCacheRefresh:xg};_d.useEffectEvent=fg;var Og={readContext:on,use:Bl,useCallback:yg,useContext:on,useEffect:pd,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:mg,useMemo:vg,useReducer:fd,useRef:cg,useState:function(){return fd(Wa)},useDebugValue:gd,useDeferredValue:function(n,a){var s=Bt();return st===null?yd(s,n,a):bg(s,st.memoizedState,n,a)},useTransition:function(){var n=fd(Wa)[0],a=Bt().memoizedState;return[typeof n=="boolean"?n:eo(n),a]},useSyncExternalStore:Fp,useId:Eg,useHostTransitionStatus:bd,useFormState:ug,useActionState:ug,useOptimistic:function(n,a){var s=Bt();return st!==null?eg(s,st,n,a):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:cd,useCacheRefresh:xg};Og.useEffectEvent=fg;function Sd(n,a,s,l){a=n.memoizedState,s=s(l,a),s=s==null?a:g({},a,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Ed={enqueueSetState:function(n,a,s){n=n._reactInternals;var l=qn(),d=br(l);d.payload=a,s!=null&&(d.callback=s),a=wr(n,d,l),a!==null&&(kn(a,n,l),Js(a,n,l))},enqueueReplaceState:function(n,a,s){n=n._reactInternals;var l=qn(),d=br(l);d.tag=1,d.payload=a,s!=null&&(d.callback=s),a=wr(n,d,l),a!==null&&(kn(a,n,l),Js(a,n,l))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var s=qn(),l=br(s);l.tag=2,a!=null&&(l.callback=a),a=wr(n,l,s),a!==null&&(kn(a,n,s),Js(a,n,s))}};function kg(n,a,s,l,d,p,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,b):a.prototype&&a.prototype.isPureReactComponent?!Hs(s,l)||!Hs(d,p):!0}function Mg(n,a,s,l){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==n&&Ed.enqueueReplaceState(a,a.state,null)}function fi(n,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(n=n.defaultProps){s===a&&(s=g({},s));for(var d in n)s[d]===void 0&&(s[d]=n[d])}return s}function Dg(n){wl(n)}function jg(n){console.error(n)}function Ng(n){wl(n)}function ql(n,a){try{var s=n.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(n,a,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xd(n,a,s){return s=br(s),s.tag=3,s.payload={element:null},s.callback=function(){ql(n,a)},s}function Ug(n){return n=br(n),n.tag=3,n}function zg(n,a,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;n.payload=function(){return d(p)},n.callback=function(){Lg(a,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){Lg(a,s,l),typeof d!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function tE(n,a,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&Hi(a,s,d,!0),s=Pn.current,s!==null){switch(s.tag){case 31:case 13:return ia===null?tu():s.alternate===null&&Ot===0&&(Ot=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===kl?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),Xd(n,l,d)),!1;case 22:return s.flags|=65536,l===kl?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),Xd(n,l,d)),!1}throw Error(i(435,s.tag))}return Xd(n,l,d),tu(),!1}if(Qe)return a=Pn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,l!==qc&&(n=Error(i(422),{cause:l}),Gs(ta(n,s)))):(l!==qc&&(a=Error(i(423),{cause:l}),Gs(ta(a,s))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=ta(l,s),d=xd(n.stateNode,l,d),ed(n,d),Ot!==4&&(Ot=2)),!1;var p=Error(i(520),{cause:l});if(p=ta(p,s),co===null?co=[p]:co.push(p),Ot!==4&&(Ot=2),a===null)return!0;l=ta(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,n=d&-d,s.lanes|=n,n=xd(s.stateNode,l,n),ed(s,n),!1;case 1:if(a=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Rr===null||!Rr.has(p))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Ug(d),zg(d,n,s,l),ed(s,d),!1}s=s.return}while(s!==null);return!1}var Td=Error(i(461)),Ht=!1;function ln(n,a,s,l){a.child=n===null?$p(a,null,s,l):ci(a,n.child,s,l)}function Bg(n,a,s,l,d){s=s.render;var p=a.ref;if("ref"in l){var b={};for(var E in l)E!=="ref"&&(b[E]=l[E])}else b=l;return si(a),l=sd(n,a,s,b,p,d),E=od(),n!==null&&!Ht?(ld(n,a,d),Qa(n,a,d)):(Qe&&E&&$c(a),a.flags|=1,ln(n,a,l,d),a.child)}function Pg(n,a,s,l,d){if(n===null){var p=s.type;return typeof p=="function"&&!Bc(p)&&p.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=p,Vg(n,a,p,l,d)):(n=xl(s.type,null,l,a,a.mode,d),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!jd(n,d)){var b=p.memoizedProps;if(s=s.compare,s=s!==null?s:Hs,s(b,l)&&n.ref===a.ref)return Qa(n,a,d)}return a.flags|=1,n=Ka(p,l),n.ref=a.ref,n.return=a,a.child=n}function Vg(n,a,s,l,d){if(n!==null){var p=n.memoizedProps;if(Hs(p,l)&&n.ref===a.ref)if(Ht=!1,a.pendingProps=l=p,jd(n,d))(n.flags&131072)!==0&&(Ht=!0);else return a.lanes=n.lanes,Qa(n,a,d)}return Rd(n,a,s,l,d)}function $g(n,a,s,l){var d=l.children,p=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,n!==null){for(l=a.child=n.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~p}else l=0,a.child=null;return Hg(n,a,p,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Cl(a,p!==null?p.cachePool:null),p!==null?Ip(a,p):nd(),Gp(a);else return l=a.lanes=536870912,Hg(n,a,p!==null?p.baseLanes|s:s,s,l)}else p!==null?(Cl(a,p.cachePool),Ip(a,p),Sr(),a.memoizedState=null):(n!==null&&Cl(a,null),nd(),Sr());return ln(n,a,d,s),a.child}function ao(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Hg(n,a,s,l,d){var p=Jc();return p=p===null?null:{parent:Vt._currentValue,pool:p},a.memoizedState={baseLanes:s,cachePool:p},n!==null&&Cl(a,null),nd(),Gp(a),n!==null&&Hi(n,a,l,!0),a.childLanes=d,null}function Il(n,a){return a=Kl({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function qg(n,a,s){return ci(a,n.child,null,s),n=Il(a,a.pendingProps),n.flags|=2,Vn(a),a.memoizedState=null,n}function nE(n,a,s){var l=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Qe){if(l.mode==="hidden")return n=Il(a,l),a.lanes=536870912,ao(null,n);if(rd(a),(n=gt)?(n=tv(n,ra),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:mr!==null?{id:Ma,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},s=Rp(n),s.return=a,a.child=s,sn=a,gt=null)):n=null,n===null)throw gr(a);return a.lanes=536870912,null}return Il(a,l)}var p=n.memoizedState;if(p!==null){var b=p.dehydrated;if(rd(a),d)if(a.flags&256)a.flags&=-257,a=qg(n,a,s);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ht||Hi(n,a,s,!1),d=(s&n.childLanes)!==0,Ht||d){if(l=ut,l!==null&&(b=U(l,s),b!==0&&b!==p.retryLane))throw p.retryLane=b,ni(n,b),kn(l,n,b),Td;tu(),a=qg(n,a,s)}else n=p.treeContext,gt=sa(b.nextSibling),sn=a,Qe=!0,pr=null,ra=!1,n!==null&&Op(a,n),a=Il(a,l),a.flags|=4096;return a}return n=Ka(n.child,{mode:l.mode,children:l.children}),n.ref=a.ref,a.child=n,n.return=a,n}function Gl(n,a){var s=a.ref;if(s===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(n===null||n.ref!==s)&&(a.flags|=4194816)}}function Rd(n,a,s,l,d){return si(a),s=sd(n,a,s,l,void 0,d),l=od(),n!==null&&!Ht?(ld(n,a,d),Qa(n,a,d)):(Qe&&l&&$c(a),a.flags|=1,ln(n,a,s,d),a.child)}function Ig(n,a,s,l,d,p){return si(a),a.updateQueue=null,s=Yp(a,l,s,d),Kp(n),l=od(),n!==null&&!Ht?(ld(n,a,p),Qa(n,a,p)):(Qe&&l&&$c(a),a.flags|=1,ln(n,a,s,p),a.child)}function Gg(n,a,s,l,d){if(si(a),a.stateNode===null){var p=Bi,b=s.contextType;typeof b=="object"&&b!==null&&(p=on(b)),p=new s(l,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ed,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=l,p.state=a.memoizedState,p.refs={},Qc(a),b=s.contextType,p.context=typeof b=="object"&&b!==null?on(b):Bi,p.state=a.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Sd(a,s,b,l),p.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Ed.enqueueReplaceState(p,p.state,null),Qs(a,l,p,d),Ws(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(n===null){p=a.stateNode;var E=a.memoizedProps,M=fi(s,E);p.props=M;var q=p.context,Q=s.contextType;b=Bi,typeof Q=="object"&&Q!==null&&(b=on(Q));var ne=s.getDerivedStateFromProps;Q=typeof ne=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=a.pendingProps!==E,Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||q!==b)&&Mg(a,p,l,b),vr=!1;var I=a.memoizedState;p.state=I,Qs(a,l,p,d),Ws(),q=a.memoizedState,E||I!==q||vr?(typeof ne=="function"&&(Sd(a,s,ne,l),q=a.memoizedState),(M=vr||kg(a,s,M,l,I,q,b))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=q),p.props=l,p.state=q,p.context=b,l=M):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{p=a.stateNode,Zc(n,a),b=a.memoizedProps,Q=fi(s,b),p.props=Q,ne=a.pendingProps,I=p.context,q=s.contextType,M=Bi,typeof q=="object"&&q!==null&&(M=on(q)),E=s.getDerivedStateFromProps,(q=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ne||I!==M)&&Mg(a,p,l,M),vr=!1,I=a.memoizedState,p.state=I,Qs(a,l,p,d),Ws();var F=a.memoizedState;b!==ne||I!==F||vr||n!==null&&n.dependencies!==null&&Rl(n.dependencies)?(typeof E=="function"&&(Sd(a,s,E,l),F=a.memoizedState),(Q=vr||kg(a,s,Q,l,I,F,M)||n!==null&&n.dependencies!==null&&Rl(n.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,F,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,F,M)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&I===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&I===n.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=F),p.props=l,p.state=F,p.context=M,l=Q):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&I===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&I===n.memoizedState||(a.flags|=1024),l=!1)}return p=l,Gl(n,a),l=(a.flags&128)!==0,p||l?(p=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&l?(a.child=ci(a,n.child,null,d),a.child=ci(a,null,s,d)):ln(n,a,s,d),a.memoizedState=p.state,n=a.child):n=Qa(n,a,d),n}function Kg(n,a,s,l){return ri(),a.flags|=256,ln(n,a,s,l),a.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(n){return{baseLanes:n,cachePool:Lp()}}function Od(n,a,s){return n=n!==null?n.childLanes&~s:0,a&&(n|=Hn),n}function Yg(n,a,s){var l=a.pendingProps,d=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=n!==null&&n.memoizedState===null?!1:(zt.current&2)!==0),b&&(d=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,n===null){if(Qe){if(d?_r(a):Sr(),(n=gt)?(n=tv(n,ra),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:mr!==null?{id:Ma,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},s=Rp(n),s.return=a,a.child=s,sn=a,gt=null)):n=null,n===null)throw gr(a);return ff(n)?a.lanes=32:a.lanes=536870912,null}var E=l.children;return l=l.fallback,d?(Sr(),d=a.mode,E=Kl({mode:"hidden",children:E},d),l=ai(l,d,s,null),E.return=a,l.return=a,E.sibling=l,a.child=E,l=a.child,l.memoizedState=Cd(s),l.childLanes=Od(n,b,s),a.memoizedState=Ad,ao(null,l)):(_r(a),kd(a,E))}var M=n.memoizedState;if(M!==null&&(E=M.dehydrated,E!==null)){if(p)a.flags&256?(_r(a),a.flags&=-257,a=Md(n,a,s)):a.memoizedState!==null?(Sr(),a.child=n.child,a.flags|=128,a=null):(Sr(),E=l.fallback,d=a.mode,l=Kl({mode:"visible",children:l.children},d),E=ai(E,d,s,null),E.flags|=2,l.return=a,E.return=a,l.sibling=E,a.child=l,ci(a,n.child,null,s),l=a.child,l.memoizedState=Cd(s),l.childLanes=Od(n,b,s),a.memoizedState=Ad,a=ao(null,l));else if(_r(a),ff(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var q=b.dgst;b=q,l=Error(i(419)),l.stack="",l.digest=b,Gs({value:l,source:null,stack:null}),a=Md(n,a,s)}else if(Ht||Hi(n,a,s,!1),b=(s&n.childLanes)!==0,Ht||b){if(b=ut,b!==null&&(l=U(b,s),l!==0&&l!==M.retryLane))throw M.retryLane=l,ni(n,l),kn(b,n,l),Td;df(E)||tu(),a=Md(n,a,s)}else df(E)?(a.flags|=192,a.child=n.child,a=null):(n=M.treeContext,gt=sa(E.nextSibling),sn=a,Qe=!0,pr=null,ra=!1,n!==null&&Op(a,n),a=kd(a,l.children),a.flags|=4096);return a}return d?(Sr(),E=l.fallback,d=a.mode,M=n.child,q=M.sibling,l=Ka(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,q!==null?E=Ka(q,E):(E=ai(E,d,s,null),E.flags|=2),E.return=a,l.return=a,l.sibling=E,a.child=l,ao(null,l),l=a.child,E=n.child.memoizedState,E===null?E=Cd(s):(d=E.cachePool,d!==null?(M=Vt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Lp(),E={baseLanes:E.baseLanes|s,cachePool:d}),l.memoizedState=E,l.childLanes=Od(n,b,s),a.memoizedState=Ad,ao(n.child,l)):(_r(a),s=n.child,n=s.sibling,s=Ka(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,n!==null&&(b=a.deletions,b===null?(a.deletions=[n],a.flags|=16):b.push(n)),a.child=s,a.memoizedState=null,s)}function kd(n,a){return a=Kl({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Kl(n,a){return n=Bn(22,n,null,a),n.lanes=0,n}function Md(n,a,s){return ci(a,n.child,null,s),n=kd(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Fg(n,a,s){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a),Kc(n.return,a,s)}function Dd(n,a,s,l,d,p){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=d,b.treeForkCount=p)}function Xg(n,a,s){var l=a.pendingProps,d=l.revealOrder,p=l.tail;l=l.children;var b=zt.current,E=(b&2)!==0;if(E?(b=b&1|2,a.flags|=128):b&=1,$(zt,b),ln(n,a,l,s),l=Qe?Is:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Fg(n,s,a);else if(n.tag===19)Fg(n,s,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(s=a.child,d=null;s!==null;)n=s.alternate,n!==null&&Nl(n)===null&&(d=s),s=s.sibling;s=d,s===null?(d=a.child,a.child=null):(d=s.sibling,s.sibling=null),Dd(a,!1,d,s,p,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=a.child,a.child=null;d!==null;){if(n=d.alternate,n!==null&&Nl(n)===null){a.child=d;break}n=d.sibling,d.sibling=s,s=d,d=n}Dd(a,!0,s,null,p,l);break;case"together":Dd(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function Qa(n,a,s){if(n!==null&&(a.dependencies=n.dependencies),Tr|=a.lanes,(s&a.childLanes)===0)if(n!==null){if(Hi(n,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,s=Ka(n,n.pendingProps),a.child=s,s.return=a;n.sibling!==null;)n=n.sibling,s=s.sibling=Ka(n,n.pendingProps),s.return=a;s.sibling=null}return a.child}function jd(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Rl(n)))}function aE(n,a,s){switch(a.tag){case 3:le(a,a.stateNode.containerInfo),yr(a,Vt,n.memoizedState.cache),ri();break;case 27:case 5:Ye(a);break;case 4:le(a,a.stateNode.containerInfo);break;case 10:yr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,rd(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Yg(n,a,s):(_r(a),n=Qa(n,a,s),n!==null?n.sibling:null);_r(a);break;case 19:var d=(n.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(Hi(n,a,s,!1),l=(s&a.childLanes)!==0),d){if(l)return Xg(n,a,s);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(zt,zt.current),l)break;return null;case 22:return a.lanes=0,$g(n,a,s,a.pendingProps);case 24:yr(a,Vt,n.memoizedState.cache)}return Qa(n,a,s)}function Jg(n,a,s){if(n!==null)if(n.memoizedProps!==a.pendingProps)Ht=!0;else{if(!jd(n,s)&&(a.flags&128)===0)return Ht=!1,aE(n,a,s);Ht=(n.flags&131072)!==0}else Ht=!1,Qe&&(a.flags&1048576)!==0&&Cp(a,Is,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(n=li(a.elementType),a.type=n,typeof n=="function")Bc(n)?(l=fi(n,l),a.tag=1,a=Gg(null,a,n,l,s)):(a.tag=0,a=Rd(null,a,n,l,s));else{if(n!=null){var d=n.$$typeof;if(d===J){a.tag=11,a=Bg(null,a,n,l,s);break e}else if(d===x){a.tag=14,a=Pg(null,a,n,l,s);break e}}throw a=Ue(n)||n,Error(i(306,a,""))}}return a;case 0:return Rd(n,a,a.type,a.pendingProps,s);case 1:return l=a.type,d=fi(l,a.pendingProps),Gg(n,a,l,d,s);case 3:e:{if(le(a,a.stateNode.containerInfo),n===null)throw Error(i(387));l=a.pendingProps;var p=a.memoizedState;d=p.element,Zc(n,a),Qs(a,l,null,s);var b=a.memoizedState;if(l=b.cache,yr(a,Vt,l),l!==p.cache&&Yc(a,[Vt],s,!0),Ws(),l=b.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Kg(n,a,l,s);break e}else if(l!==d){d=ta(Error(i(424)),a),Gs(d),a=Kg(n,a,l,s);break e}else for(n=a.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,gt=sa(n.firstChild),sn=a,Qe=!0,pr=null,ra=!0,s=$p(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ri(),l===d){a=Qa(n,a,s);break e}ln(n,a,l,s)}a=a.child}return a;case 26:return Gl(n,a),n===null?(s=ov(a.type,null,a.pendingProps,null))?a.memoizedState=s:Qe||(s=a.type,n=a.pendingProps,l=lu(ie.current).createElement(s),l[ce]=a,l[he]=n,un(l,s,n),wt(l),a.stateNode=l):a.memoizedState=ov(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Ye(a),n===null&&Qe&&(l=a.stateNode=rv(a.type,a.pendingProps,ie.current),sn=a,ra=!0,d=gt,kr(a.type)?(hf=d,gt=sa(l.firstChild)):gt=d),ln(n,a,a.pendingProps.children,s),Gl(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Qe&&((d=l=gt)&&(l=jE(l,a.type,a.pendingProps,ra),l!==null?(a.stateNode=l,sn=a,gt=sa(l.firstChild),ra=!1,d=!0):d=!1),d||gr(a)),Ye(a),d=a.type,p=a.pendingProps,b=n!==null?n.memoizedProps:null,l=p.children,lf(d,p)?l=null:b!==null&&lf(d,b)&&(a.flags|=32),a.memoizedState!==null&&(d=sd(n,a,F1,null,null,s),bo._currentValue=d),Gl(n,a),ln(n,a,l,s),a.child;case 6:return n===null&&Qe&&((n=s=gt)&&(s=NE(s,a.pendingProps,ra),s!==null?(a.stateNode=s,sn=a,gt=null,n=!0):n=!1),n||gr(a)),null;case 13:return Yg(n,a,s);case 4:return le(a,a.stateNode.containerInfo),l=a.pendingProps,n===null?a.child=ci(a,null,l,s):ln(n,a,l,s),a.child;case 11:return Bg(n,a,a.type,a.pendingProps,s);case 7:return ln(n,a,a.pendingProps,s),a.child;case 8:return ln(n,a,a.pendingProps.children,s),a.child;case 12:return ln(n,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,yr(a,a.type,l.value),ln(n,a,l.children,s),a.child;case 9:return d=a.type._context,l=a.pendingProps.children,si(a),d=on(d),l=l(d),a.flags|=1,ln(n,a,l,s),a.child;case 14:return Pg(n,a,a.type,a.pendingProps,s);case 15:return Vg(n,a,a.type,a.pendingProps,s);case 19:return Xg(n,a,s);case 31:return nE(n,a,s);case 22:return $g(n,a,s,a.pendingProps);case 24:return si(a),l=on(Vt),n===null?(d=Jc(),d===null&&(d=ut,p=Fc(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=s),d=p),a.memoizedState={parent:l,cache:d},Qc(a),yr(a,Vt,d)):((n.lanes&s)!==0&&(Zc(n,a),Qs(a,null,null,s),Ws()),d=n.memoizedState,p=a.memoizedState,d.parent!==l?(d={parent:l,cache:l},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),yr(a,Vt,l)):(l=p.cache,yr(a,Vt,l),l!==d.cache&&Yc(a,[Vt],s,!0))),ln(n,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Za(n){n.flags|=4}function Nd(n,a,s,l,d){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(Ey())n.flags|=8192;else throw ui=kl,Wc}else n.flags&=-16777217}function Wg(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!fv(a))if(Ey())n.flags|=8192;else throw ui=kl,Wc}function Yl(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Lt():536870912,n.lanes|=a,es|=a)}function ro(n,a){if(!Qe)switch(n.tailMode){case"hidden":a=n.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function yt(n){var a=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(a)for(var d=n.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=s,a}function rE(n,a,s){var l=a.pendingProps;switch(Hc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(a),null;case 1:return yt(a),null;case 3:return s=a.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Xa(Vt),Se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&($i(a)?Za(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ic())),yt(a),null;case 26:var d=a.type,p=a.memoizedState;return n===null?(Za(a),p!==null?(yt(a),Wg(a,p)):(yt(a),Nd(a,d,null,l,s))):p?p!==n.memoizedState?(Za(a),yt(a),Wg(a,p)):(yt(a),a.flags&=-16777217):(n=n.memoizedProps,n!==l&&Za(a),yt(a),Nd(a,d,n,l,s)),null;case 27:if(He(a),s=ie.current,d=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==l&&Za(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return yt(a),null}n=X.current,$i(a)?kp(a):(n=rv(d,l,s),a.stateNode=n,Za(a))}return yt(a),null;case 5:if(He(a),d=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==l&&Za(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return yt(a),null}if(p=X.current,$i(a))kp(a);else{var b=lu(ie.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?b.createElement(d,{is:l.is}):b.createElement(d)}}p[ce]=a,p[he]=l;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;e:switch(un(p,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Za(a)}}return yt(a),Nd(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,s),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==l&&Za(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(i(166));if(n=ie.current,$i(a)){if(n=a.stateNode,s=a.memoizedProps,l=null,d=sn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[ce]=a,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Yy(n.nodeValue,s)),n||gr(a,!0)}else n=lu(n).createTextNode(l),n[ce]=a,a.stateNode=n}return yt(a),null;case 31:if(s=a.memoizedState,n===null||n.memoizedState!==null){if(l=$i(a),s!==null){if(n===null){if(!l)throw Error(i(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[ce]=a}else ri(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;yt(a),n=!1}else s=Ic(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return a.flags&256?(Vn(a),a):(Vn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return yt(a),null;case 13:if(l=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=$i(a),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[ce]=a}else ri(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;yt(a),d=!1}else d=Ic(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Vn(a),a):(Vn(a),null)}return Vn(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,n=n!==null&&n.memoizedState!==null,s&&(l=a.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)),s!==n&&s&&(a.child.flags|=8192),Yl(a,a.updateQueue),yt(a),null);case 4:return Se(),n===null&&nf(a.stateNode.containerInfo),yt(a),null;case 10:return Xa(a.type),yt(a),null;case 19:if(z(zt),l=a.memoizedState,l===null)return yt(a),null;if(d=(a.flags&128)!==0,p=l.rendering,p===null)if(d)ro(l,!1);else{if(Ot!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=Nl(n),p!==null){for(a.flags|=128,ro(l,!1),n=p.updateQueue,a.updateQueue=n,Yl(a,n),a.subtreeFlags=0,n=s,s=a.child;s!==null;)Tp(s,n),s=s.sibling;return $(zt,zt.current&1|2),Qe&&Ya(a,l.treeForkCount),a.child}n=n.sibling}l.tail!==null&&dt()>Ql&&(a.flags|=128,d=!0,ro(l,!1),a.lanes=4194304)}else{if(!d)if(n=Nl(p),n!==null){if(a.flags|=128,d=!0,n=n.updateQueue,a.updateQueue=n,Yl(a,n),ro(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Qe)return yt(a),null}else 2*dt()-l.renderingStartTime>Ql&&s!==536870912&&(a.flags|=128,d=!0,ro(l,!1),a.lanes=4194304);l.isBackwards?(p.sibling=a.child,a.child=p):(n=l.last,n!==null?n.sibling=p:a.child=p,l.last=p)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=dt(),n.sibling=null,s=zt.current,$(zt,d?s&1|2:s&1),Qe&&Ya(a,l.treeForkCount),n):(yt(a),null);case 22:case 23:return Vn(a),ad(),l=a.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(yt(a),a.subtreeFlags&6&&(a.flags|=8192)):yt(a),s=a.updateQueue,s!==null&&Yl(a,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),n!==null&&z(oi),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Xa(Vt),yt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function iE(n,a){switch(Hc(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Xa(Vt),Se(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return He(a),null;case 31:if(a.memoizedState!==null){if(Vn(a),a.alternate===null)throw Error(i(340));ri()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Vn(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ri()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return z(zt),null;case 4:return Se(),null;case 10:return Xa(a.type),null;case 22:case 23:return Vn(a),ad(),n!==null&&z(oi),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Xa(Vt),null;case 25:return null;default:return null}}function Qg(n,a){switch(Hc(a),a.tag){case 3:Xa(Vt),Se();break;case 26:case 27:case 5:He(a);break;case 4:Se();break;case 31:a.memoizedState!==null&&Vn(a);break;case 13:Vn(a);break;case 19:z(zt);break;case 10:Xa(a.type);break;case 22:case 23:Vn(a),ad(),n!==null&&z(oi);break;case 24:Xa(Vt)}}function io(n,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&n)===n){l=void 0;var p=s.create,b=s.inst;l=p(),b.destroy=l}s=s.next}while(s!==d)}}catch(E){it(a,a.return,E)}}function Er(n,a,s){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&n)===n){var b=l.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,d=a;var M=s,q=E;try{q()}catch(Q){it(d,M,Q)}}}l=l.next}while(l!==p)}}catch(Q){it(a,a.return,Q)}}function Zg(n){var a=n.updateQueue;if(a!==null){var s=n.stateNode;try{qp(a,s)}catch(l){it(n,n.return,l)}}}function ey(n,a,s){s.props=fi(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){it(n,a,l)}}function so(n,a){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(d){it(n,a,d)}}function ja(n,a){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){it(n,a,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){it(n,a,d)}else s.current=null}function ty(n){var a=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){it(n,n.return,d)}}function Ld(n,a,s){try{var l=n.stateNode;AE(l,n.type,s,a),l[he]=a}catch(d){it(n,n.return,d)}}function ny(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&kr(n.type)||n.tag===4}function Ud(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ny(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&kr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zd(n,a,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(n),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Ia));else if(l!==4&&(l===27&&kr(n.type)&&(s=n.stateNode,a=null),n=n.child,n!==null))for(zd(n,a,s),n=n.sibling;n!==null;)zd(n,a,s),n=n.sibling}function Fl(n,a,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?s.insertBefore(n,a):s.appendChild(n);else if(l!==4&&(l===27&&kr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Fl(n,a,s),n=n.sibling;n!==null;)Fl(n,a,s),n=n.sibling}function ay(n){var a=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);un(a,l,s),a[ce]=n,a[he]=s}catch(p){it(n,n.return,p)}}var er=!1,qt=!1,Bd=!1,ry=typeof WeakSet=="function"?WeakSet:Set,tn=null;function sE(n,a){if(n=n.containerInfo,sf=pu,n=gp(n),Mc(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var b=0,E=-1,M=-1,q=0,Q=0,ne=n,I=null;t:for(;;){for(var F;ne!==s||d!==0&&ne.nodeType!==3||(E=b+d),ne!==p||l!==0&&ne.nodeType!==3||(M=b+l),ne.nodeType===3&&(b+=ne.nodeValue.length),(F=ne.firstChild)!==null;)I=ne,ne=F;for(;;){if(ne===n)break t;if(I===s&&++q===d&&(E=b),I===p&&++Q===l&&(M=b),(F=ne.nextSibling)!==null)break;ne=I,I=ne.parentNode}ne=F}s=E===-1||M===-1?null:{start:E,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(of={focusedElem:n,selectionRange:s},pu=!1,tn=a;tn!==null;)if(a=tn,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,tn=n;else for(;tn!==null;){switch(a=tn,p=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)d=n[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,s=a,d=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var ge=fi(s.type,d);n=l.getSnapshotBeforeUpdate(ge,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){it(s,s.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,s=n.nodeType,s===9)cf(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,tn=n;break}tn=a.return}}function iy(n,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:nr(n,s),l&4&&io(5,s);break;case 1:if(nr(n,s),l&4)if(n=s.stateNode,a===null)try{n.componentDidMount()}catch(b){it(s,s.return,b)}else{var d=fi(s.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(d,a,n.__reactInternalSnapshotBeforeUpdate)}catch(b){it(s,s.return,b)}}l&64&&Zg(s),l&512&&so(s,s.return);break;case 3:if(nr(n,s),l&64&&(n=s.updateQueue,n!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{qp(n,a)}catch(b){it(s,s.return,b)}}break;case 27:a===null&&l&4&&ay(s);case 26:case 5:nr(n,s),a===null&&l&4&&ty(s),l&512&&so(s,s.return);break;case 12:nr(n,s);break;case 31:nr(n,s),l&4&&ly(n,s);break;case 13:nr(n,s),l&4&&uy(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=pE.bind(null,s),LE(n,s))));break;case 22:if(l=s.memoizedState!==null||er,!l){a=a!==null&&a.memoizedState!==null||qt,d=er;var p=qt;er=l,(qt=a)&&!p?ar(n,s,(s.subtreeFlags&8772)!==0):nr(n,s),er=d,qt=p}break;case 30:break;default:nr(n,s)}}function sy(n){var a=n.alternate;a!==null&&(n.alternate=null,sy(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Rt(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _t=null,Rn=!1;function tr(n,a,s){for(s=s.child;s!==null;)oy(n,a,s),s=s.sibling}function oy(n,a,s){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(pa,s)}catch{}switch(s.tag){case 26:qt||ja(s,a),tr(n,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qt||ja(s,a);var l=_t,d=Rn;kr(s.type)&&(_t=s.stateNode,Rn=!1),tr(n,a,s),go(s.stateNode),_t=l,Rn=d;break;case 5:qt||ja(s,a);case 6:if(l=_t,d=Rn,_t=null,tr(n,a,s),_t=l,Rn=d,_t!==null)if(Rn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(p){it(s,a,p)}else try{_t.removeChild(s.stateNode)}catch(p){it(s,a,p)}break;case 18:_t!==null&&(Rn?(n=_t,Zy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),ls(n)):Zy(_t,s.stateNode));break;case 4:l=_t,d=Rn,_t=s.stateNode.containerInfo,Rn=!0,tr(n,a,s),_t=l,Rn=d;break;case 0:case 11:case 14:case 15:Er(2,s,a),qt||Er(4,s,a),tr(n,a,s);break;case 1:qt||(ja(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ey(s,a,l)),tr(n,a,s);break;case 21:tr(n,a,s);break;case 22:qt=(l=qt)||s.memoizedState!==null,tr(n,a,s),qt=l;break;default:tr(n,a,s)}}function ly(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ls(n)}catch(s){it(a,a.return,s)}}}function uy(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ls(n)}catch(s){it(a,a.return,s)}}function oE(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new ry),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new ry),a;default:throw Error(i(435,n.tag))}}function Xl(n,a){var s=oE(n);a.forEach(function(l){if(!s.has(l)){s.add(l);var d=gE.bind(null,n,l);l.then(d,d)}})}function An(n,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],p=n,b=a,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(kr(E.type)){_t=E.stateNode,Rn=!1;break e}break;case 5:_t=E.stateNode,Rn=!1;break e;case 3:case 4:_t=E.stateNode.containerInfo,Rn=!0;break e}E=E.return}if(_t===null)throw Error(i(160));oy(p,b,d),_t=null,Rn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)cy(a,n),a=a.sibling}var Sa=null;function cy(n,a){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:An(a,n),Cn(n),l&4&&(Er(3,n,n.return),io(3,n),Er(5,n,n.return));break;case 1:An(a,n),Cn(n),l&512&&(qt||s===null||ja(s,s.return)),l&64&&er&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=Sa;if(An(a,n),Cn(n),l&512&&(qt||s===null||ja(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[St]||p[ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),un(p,l,s),p[ce]=n,wt(p),l=p;break e;case"link":var b=cv("link","href",d).get(l+(s.href||""));if(b){for(var E=0;E<b.length;E++)if(p=b[E],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(E,1);break t}}p=d.createElement(l),un(p,l,s),d.head.appendChild(p);break;case"meta":if(b=cv("meta","content",d).get(l+(s.content||""))){for(E=0;E<b.length;E++)if(p=b[E],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(E,1);break t}}p=d.createElement(l),un(p,l,s),d.head.appendChild(p);break;default:throw Error(i(468,l))}p[ce]=n,wt(p),l=p}n.stateNode=l}else dv(d,n.type,n.stateNode);else n.stateNode=uv(d,l,n.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?dv(d,n.type,n.stateNode):uv(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Ld(n,n.memoizedProps,s.memoizedProps)}break;case 27:An(a,n),Cn(n),l&512&&(qt||s===null||ja(s,s.return)),s!==null&&l&4&&Ld(n,n.memoizedProps,s.memoizedProps);break;case 5:if(An(a,n),Cn(n),l&512&&(qt||s===null||ja(s,s.return)),n.flags&32){d=n.stateNode;try{Mi(d,"")}catch(ge){it(n,n.return,ge)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,Ld(n,d,s!==null?s.memoizedProps:d)),l&1024&&(Bd=!0);break;case 6:if(An(a,n),Cn(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(ge){it(n,n.return,ge)}}break;case 3:if(du=null,d=Sa,Sa=uu(a.containerInfo),An(a,n),Sa=d,Cn(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ls(a.containerInfo)}catch(ge){it(n,n.return,ge)}Bd&&(Bd=!1,dy(n));break;case 4:l=Sa,Sa=uu(n.stateNode.containerInfo),An(a,n),Cn(n),Sa=l;break;case 12:An(a,n),Cn(n);break;case 31:An(a,n),Cn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Xl(n,l)));break;case 13:An(a,n),Cn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wl=dt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Xl(n,l)));break;case 22:d=n.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,q=er,Q=qt;if(er=q||d,qt=Q||M,An(a,n),qt=Q,er=q,Cn(n),l&8192)e:for(a=n.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(s===null||M||er||qt||hi(n)),s=null,a=n;;){if(a.tag===5||a.tag===26){if(s===null){M=s=a;try{if(p=M.stateNode,d)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=M.stateNode;var ne=M.memoizedProps.style,I=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ge){it(M,M.return,ge)}}}else if(a.tag===6){if(s===null){M=a;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(ge){it(M,M.return,ge)}}}else if(a.tag===18){if(s===null){M=a;try{var F=M.stateNode;d?ev(F,!0):ev(M.stateNode,!1)}catch(ge){it(M,M.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Xl(n,s))));break;case 19:An(a,n),Cn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Xl(n,l)));break;case 30:break;case 21:break;default:An(a,n),Cn(n)}}function Cn(n){var a=n.flags;if(a&2){try{for(var s,l=n.return;l!==null;){if(ny(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,p=Ud(n);Fl(n,p,d);break;case 5:var b=s.stateNode;s.flags&32&&(Mi(b,""),s.flags&=-33);var E=Ud(n);Fl(n,E,b);break;case 3:case 4:var M=s.stateNode.containerInfo,q=Ud(n);zd(n,q,M);break;default:throw Error(i(161))}}catch(Q){it(n,n.return,Q)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function dy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;dy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function nr(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)iy(n,a.alternate,a),a=a.sibling}function hi(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Er(4,a,a.return),hi(a);break;case 1:ja(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&ey(a,a.return,s),hi(a);break;case 27:go(a.stateNode);case 26:case 5:ja(a,a.return),hi(a);break;case 22:a.memoizedState===null&&hi(a);break;case 30:hi(a);break;default:hi(a)}n=n.sibling}}function ar(n,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,d=n,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:ar(d,p,s),io(4,p);break;case 1:if(ar(d,p,s),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){it(l,l.return,q)}if(l=p,d=l.updateQueue,d!==null){var E=l.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Hp(M[d],E)}catch(q){it(l,l.return,q)}}s&&b&64&&Zg(p),so(p,p.return);break;case 27:ay(p);case 26:case 5:ar(d,p,s),s&&l===null&&b&4&&ty(p),so(p,p.return);break;case 12:ar(d,p,s);break;case 31:ar(d,p,s),s&&b&4&&ly(d,p);break;case 13:ar(d,p,s),s&&b&4&&uy(d,p);break;case 22:p.memoizedState===null&&ar(d,p,s),so(p,p.return);break;case 30:break;default:ar(d,p,s)}a=a.sibling}}function Pd(n,a){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Ks(s))}function Vd(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ks(n))}function Ea(n,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fy(n,a,s,l),a=a.sibling}function fy(n,a,s,l){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ea(n,a,s,l),d&2048&&io(9,a);break;case 1:Ea(n,a,s,l);break;case 3:Ea(n,a,s,l),d&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ks(n)));break;case 12:if(d&2048){Ea(n,a,s,l),n=a.stateNode;try{var p=a.memoizedProps,b=p.id,E=p.onPostCommit;typeof E=="function"&&E(b,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){it(a,a.return,M)}}else Ea(n,a,s,l);break;case 31:Ea(n,a,s,l);break;case 13:Ea(n,a,s,l);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?Ea(n,a,s,l):oo(n,a):p._visibility&2?Ea(n,a,s,l):(p._visibility|=2,Wi(n,a,s,l,(a.subtreeFlags&10256)!==0||!1)),d&2048&&Pd(b,a);break;case 24:Ea(n,a,s,l),d&2048&&Vd(a.alternate,a);break;default:Ea(n,a,s,l)}}function Wi(n,a,s,l,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=n,b=a,E=s,M=l,q=b.flags;switch(b.tag){case 0:case 11:case 15:Wi(p,b,E,M,d),io(8,b);break;case 23:break;case 22:var Q=b.stateNode;b.memoizedState!==null?Q._visibility&2?Wi(p,b,E,M,d):oo(p,b):(Q._visibility|=2,Wi(p,b,E,M,d)),d&&q&2048&&Pd(b.alternate,b);break;case 24:Wi(p,b,E,M,d),d&&q&2048&&Vd(b.alternate,b);break;default:Wi(p,b,E,M,d)}a=a.sibling}}function oo(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=n,l=a,d=l.flags;switch(l.tag){case 22:oo(s,l),d&2048&&Pd(l.alternate,l);break;case 24:oo(s,l),d&2048&&Vd(l.alternate,l);break;default:oo(s,l)}a=a.sibling}}var lo=8192;function Qi(n,a,s){if(n.subtreeFlags&lo)for(n=n.child;n!==null;)hy(n,a,s),n=n.sibling}function hy(n,a,s){switch(n.tag){case 26:Qi(n,a,s),n.flags&lo&&n.memoizedState!==null&&YE(s,Sa,n.memoizedState,n.memoizedProps);break;case 5:Qi(n,a,s);break;case 3:case 4:var l=Sa;Sa=uu(n.stateNode.containerInfo),Qi(n,a,s),Sa=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,Qi(n,a,s),lo=l):Qi(n,a,s));break;default:Qi(n,a,s)}}function my(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function uo(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];tn=l,gy(l,n)}my(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(n),n=n.sibling}function py(n){switch(n.tag){case 0:case 11:case 15:uo(n),n.flags&2048&&Er(9,n,n.return);break;case 3:uo(n);break;case 12:uo(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Jl(n)):uo(n);break;default:uo(n)}}function Jl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];tn=l,gy(l,n)}my(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Er(8,a,a.return),Jl(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Jl(a));break;default:Jl(a)}n=n.sibling}}function gy(n,a){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:Er(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ks(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else e:for(s=n;tn!==null;){l=tn;var d=l.sibling,p=l.return;if(sy(l),l===s){tn=null;break e}if(d!==null){d.return=p,tn=d;break e}tn=p}}}var lE={getCacheForType:function(n){var a=on(Vt),s=a.data.get(n);return s===void 0&&(s=n(),a.data.set(n,s)),s},cacheSignal:function(){return on(Vt).controller.signal}},uE=typeof WeakMap=="function"?WeakMap:Map,nt=0,ut=null,qe=null,Ge=0,rt=0,$n=null,xr=!1,Zi=!1,$d=!1,rr=0,Ot=0,Tr=0,mi=0,Hd=0,Hn=0,es=0,co=null,On=null,qd=!1,Wl=0,yy=0,Ql=1/0,Zl=null,Rr=null,Xt=0,Ar=null,ts=null,ir=0,Id=0,Gd=null,vy=null,fo=0,Kd=null;function qn(){return(nt&2)!==0&&Ge!==0?Ge&-Ge:B.T!==null?Qd():oe()}function by(){if(Hn===0)if((Ge&536870912)===0||Qe){var n=$a;$a<<=1,($a&3932160)===0&&($a=262144),Hn=n}else Hn=536870912;return n=Pn.current,n!==null&&(n.flags|=32),Hn}function kn(n,a,s){(n===ut&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(ns(n,0),Cr(n,Ge,Hn,!1)),ht(n,s),((nt&2)===0||n!==ut)&&(n===ut&&((nt&2)===0&&(mi|=s),Ot===4&&Cr(n,Ge,Hn,!1)),Na(n))}function wy(n,a,s){if((nt&6)!==0)throw Error(i(327));var l=!s&&(a&127)===0&&(a&n.expiredLanes)===0||ft(n,a),d=l?fE(n,a):Fd(n,a,!0),p=l;do{if(d===0){Zi&&!l&&Cr(n,a,0,!1);break}else{if(s=n.current.alternate,p&&!cE(s)){d=Fd(n,a,!1),p=!1;continue}if(d===2){if(p=a,n.errorRecoveryDisabledLanes&p)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var E=n;d=co;var M=E.current.memoizedState.isDehydrated;if(M&&(ns(E,b).flags|=256),b=Fd(E,b,!1),b!==2){if($d&&!M){E.errorRecoveryDisabledLanes|=p,mi|=p,d=4;break e}p=On,On=d,p!==null&&(On===null?On=p:On.push.apply(On,p))}d=b}if(p=!1,d!==2)continue}}if(d===1){ns(n,0),Cr(n,a,0,!0);break}e:{switch(l=n,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Cr(l,a,Hn,!xr);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=Wl+300-dt(),10<d)){if(Cr(l,a,Hn,!xr),De(l,0,!0)!==0)break e;ir=a,l.timeoutHandle=Wy(_y.bind(null,l,s,On,Zl,qd,a,Hn,mi,es,xr,p,"Throttled",-0,0),d);break e}_y(l,s,On,Zl,qd,a,Hn,mi,es,xr,p,null,-0,0)}}break}while(!0);Na(n)}function _y(n,a,s,l,d,p,b,E,M,q,Q,ne,I,F){if(n.timeoutHandle=-1,ne=a.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ia},hy(a,p,ne);var ge=(p&62914560)===p?Wl-dt():(p&4194048)===p?yy-dt():0;if(ge=FE(ne,ge),ge!==null){ir=p,n.cancelPendingCommit=ge(Oy.bind(null,n,a,p,s,l,d,b,E,M,Q,ne,null,I,F)),Cr(n,p,b,!q);return}}Oy(n,a,p,s,l,d,b,E,M)}function cE(n){for(var a=n;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],p=d.getSnapshot;d=d.value;try{if(!zn(p(),d))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Cr(n,a,s,l){a&=~Hd,a&=~mi,n.suspendedLanes|=a,n.pingedLanes&=~a,l&&(n.warmLanes|=a),l=n.expirationTimes;for(var d=a;0<d;){var p=31-Ft(d),b=1<<p;l[p]=-1,d&=~b}s!==0&&Ha(n,s,a)}function eu(){return(nt&6)===0?(ho(0),!1):!0}function Yd(){if(qe!==null){if(rt===0)var n=qe.return;else n=qe,Fa=ii=null,ud(n),Ki=null,Fs=0,n=qe;for(;n!==null;)Qg(n.alternate,n),n=n.return;qe=null}}function ns(n,a){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,kE(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),ir=0,Yd(),ut=n,qe=s=Ka(n.current,null),Ge=a,rt=0,$n=null,xr=!1,Zi=ft(n,a),$d=!1,es=Hn=Hd=mi=Tr=Ot=0,On=co=null,qd=!1,(a&8)!==0&&(a|=a&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=a;0<l;){var d=31-Ft(l),p=1<<d;a|=n[d],l&=~p}return rr=a,_l(),s}function Sy(n,a){ze=null,B.H=no,a===Gi||a===Ol?(a=Bp(),rt=3):a===Wc?(a=Bp(),rt=4):rt=a===Td?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,$n=a,qe===null&&(Ot=1,ql(n,ta(a,n.current)))}function Ey(){var n=Pn.current;return n===null?!0:(Ge&4194048)===Ge?ia===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?n===ia:!1}function xy(){var n=B.H;return B.H=no,n===null?no:n}function Ty(){var n=B.A;return B.A=lE,n}function tu(){Ot=4,xr||(Ge&4194048)!==Ge&&Pn.current!==null||(Zi=!0),(Tr&134217727)===0&&(mi&134217727)===0||ut===null||Cr(ut,Ge,Hn,!1)}function Fd(n,a,s){var l=nt;nt|=2;var d=xy(),p=Ty();(ut!==n||Ge!==a)&&(Zl=null,ns(n,a)),a=!1;var b=Ot;e:do try{if(rt!==0&&qe!==null){var E=qe,M=$n;switch(rt){case 8:Yd(),b=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(a=!0);var q=rt;if(rt=0,$n=null,as(n,E,M,q),s&&Zi){b=0;break e}break;default:q=rt,rt=0,$n=null,as(n,E,M,q)}}dE(),b=Ot;break}catch(Q){Sy(n,Q)}while(!0);return a&&n.shellSuspendCounter++,Fa=ii=null,nt=l,B.H=d,B.A=p,qe===null&&(ut=null,Ge=0,_l()),b}function dE(){for(;qe!==null;)Ry(qe)}function fE(n,a){var s=nt;nt|=2;var l=xy(),d=Ty();ut!==n||Ge!==a?(Zl=null,Ql=dt()+500,ns(n,a)):Zi=ft(n,a);e:do try{if(rt!==0&&qe!==null){a=qe;var p=$n;t:switch(rt){case 1:rt=0,$n=null,as(n,a,p,1);break;case 2:case 9:if(Up(p)){rt=0,$n=null,Ay(a);break}a=function(){rt!==2&&rt!==9||ut!==n||(rt=7),Na(n)},p.then(a,a);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Up(p)?(rt=0,$n=null,Ay(a)):(rt=0,$n=null,as(n,a,p,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var E=qe;if(b?fv(b):E.stateNode.complete){rt=0,$n=null;var M=E.sibling;if(M!==null)qe=M;else{var q=E.return;q!==null?(qe=q,nu(q)):qe=null}break t}}rt=0,$n=null,as(n,a,p,5);break;case 6:rt=0,$n=null,as(n,a,p,6);break;case 8:Yd(),Ot=6;break e;default:throw Error(i(462))}}hE();break}catch(Q){Sy(n,Q)}while(!0);return Fa=ii=null,B.H=l,B.A=d,nt=s,qe!==null?0:(ut=null,Ge=0,_l(),Ot)}function hE(){for(;qe!==null&&!Kt();)Ry(qe)}function Ry(n){var a=Jg(n.alternate,n,rr);n.memoizedProps=n.pendingProps,a===null?nu(n):qe=a}function Ay(n){var a=n,s=a.alternate;switch(a.tag){case 15:case 0:a=Ig(s,a,a.pendingProps,a.type,void 0,Ge);break;case 11:a=Ig(s,a,a.pendingProps,a.type.render,a.ref,Ge);break;case 5:ud(a);default:Qg(s,a),a=qe=Tp(a,rr),a=Jg(s,a,rr)}n.memoizedProps=n.pendingProps,a===null?nu(n):qe=a}function as(n,a,s,l){Fa=ii=null,ud(a),Ki=null,Fs=0;var d=a.return;try{if(tE(n,d,a,s,Ge)){Ot=1,ql(n,ta(s,n.current)),qe=null;return}}catch(p){if(d!==null)throw qe=d,p;Ot=1,ql(n,ta(s,n.current)),qe=null;return}a.flags&32768?(Qe||l===1?n=!0:Zi||(Ge&536870912)!==0?n=!1:(xr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cy(a,n)):nu(a)}function nu(n){var a=n;do{if((a.flags&32768)!==0){Cy(a,xr);return}n=a.return;var s=rE(a.alternate,a,rr);if(s!==null){qe=s;return}if(a=a.sibling,a!==null){qe=a;return}qe=a=n}while(a!==null);Ot===0&&(Ot=5)}function Cy(n,a){do{var s=iE(n.alternate,n);if(s!==null){s.flags&=32767,qe=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(n=n.sibling,n!==null)){qe=n;return}qe=n=s}while(n!==null);Ot=6,qe=null}function Oy(n,a,s,l,d,p,b,E,M){n.cancelPendingCommit=null;do au();while(Xt!==0);if((nt&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=Uc,hn(n,s,p,b,E,M),n===ut&&(qe=ut=null,Ge=0),ts=a,Ar=n,ir=s,Id=p,Gd=d,vy=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yE(Yt,function(){return Ny(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,d=W.p,W.p=2,b=nt,nt|=4;try{sE(n,a,s)}finally{nt=b,W.p=d,B.T=l}}Xt=1,ky(),My(),Dy()}}function ky(){if(Xt===1){Xt=0;var n=Ar,a=ts,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var l=W.p;W.p=2;var d=nt;nt|=4;try{cy(a,n);var p=of,b=gp(n.containerInfo),E=p.focusedElem,M=p.selectionRange;if(b!==E&&E&&E.ownerDocument&&pp(E.ownerDocument.documentElement,E)){if(M!==null&&Mc(E)){var q=M.start,Q=M.end;if(Q===void 0&&(Q=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(Q,E.value.length);else{var ne=E.ownerDocument||document,I=ne&&ne.defaultView||window;if(I.getSelection){var F=I.getSelection(),ge=E.textContent.length,Ce=Math.min(M.start,ge),lt=M.end===void 0?Ce:Math.min(M.end,ge);!F.extend&&Ce>lt&&(b=lt,lt=Ce,Ce=b);var P=mp(E,Ce),N=mp(E,lt);if(P&&N&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var H=ne.createRange();H.setStart(P.node,P.offset),F.removeAllRanges(),Ce>lt?(F.addRange(H),F.extend(N.node,N.offset)):(H.setEnd(N.node,N.offset),F.addRange(H))}}}}for(ne=[],F=E;F=F.parentNode;)F.nodeType===1&&ne.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ne.length;E++){var ee=ne[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}pu=!!sf,of=sf=null}finally{nt=d,W.p=l,B.T=s}}n.current=a,Xt=2}}function My(){if(Xt===2){Xt=0;var n=Ar,a=ts,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var l=W.p;W.p=2;var d=nt;nt|=4;try{iy(n,a.alternate,a)}finally{nt=d,W.p=l,B.T=s}}Xt=3}}function Dy(){if(Xt===4||Xt===3){Xt=0,Jn();var n=Ar,a=ts,s=ir,l=vy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Xt=5:(Xt=0,ts=Ar=null,jy(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Rr=null),ae(s),a=a.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(pa,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=B.T,d=W.p,W.p=2,B.T=null;try{for(var p=n.onRecoverableError,b=0;b<l.length;b++){var E=l[b];p(E.value,{componentStack:E.stack})}}finally{B.T=a,W.p=d}}(ir&3)!==0&&au(),Na(n),d=n.pendingLanes,(s&261930)!==0&&(d&42)!==0?n===Kd?fo++:(fo=0,Kd=n):fo=0,ho(0)}}function jy(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Ks(a)))}function au(){return ky(),My(),Dy(),Ny()}function Ny(){if(Xt!==5)return!1;var n=Ar,a=Id;Id=0;var s=ae(ir),l=B.T,d=W.p;try{W.p=32>s?32:s,B.T=null,s=Gd,Gd=null;var p=Ar,b=ir;if(Xt=0,ts=Ar=null,ir=0,(nt&6)!==0)throw Error(i(331));var E=nt;if(nt|=4,py(p.current),fy(p,p.current,b,s),nt=E,ho(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(pa,p)}catch{}return!0}finally{W.p=d,B.T=l,jy(n,a)}}function Ly(n,a,s){a=ta(s,a),a=xd(n.stateNode,a,2),n=wr(n,a,2),n!==null&&(ht(n,2),Na(n))}function it(n,a,s){if(n.tag===3)Ly(n,n,s);else for(;a!==null;){if(a.tag===3){Ly(a,n,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){n=ta(s,n),s=Ug(2),l=wr(a,s,2),l!==null&&(zg(s,l,a,n),ht(l,2),Na(l));break}}a=a.return}}function Xd(n,a,s){var l=n.pingCache;if(l===null){l=n.pingCache=new uE;var d=new Set;l.set(a,d)}else d=l.get(a),d===void 0&&(d=new Set,l.set(a,d));d.has(s)||($d=!0,d.add(s),n=mE.bind(null,n,a,s),a.then(n,n))}function mE(n,a,s){var l=n.pingCache;l!==null&&l.delete(a),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ut===n&&(Ge&s)===s&&(Ot===4||Ot===3&&(Ge&62914560)===Ge&&300>dt()-Wl?(nt&2)===0&&ns(n,0):Hd|=s,es===Ge&&(es=0)),Na(n)}function Uy(n,a){a===0&&(a=Lt()),n=ni(n,a),n!==null&&(ht(n,a),Na(n))}function pE(n){var a=n.memoizedState,s=0;a!==null&&(s=a.retryLane),Uy(n,s)}function gE(n,a){var s=0;switch(n.tag){case 31:case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(a),Uy(n,s)}function yE(n,a){return Qt(n,a)}var ru=null,rs=null,Jd=!1,iu=!1,Wd=!1,Or=0;function Na(n){n!==rs&&n.next===null&&(rs===null?ru=rs=n:rs=rs.next=n),iu=!0,Jd||(Jd=!0,bE())}function ho(n,a){if(!Wd&&iu){Wd=!0;do for(var s=!1,l=ru;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var b=l.suspendedLanes,E=l.pingedLanes;p=(1<<31-Ft(42|n)+1)-1,p&=d&~(b&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,Vy(l,p))}else p=Ge,p=De(l,l===ut?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ft(l,p)||(s=!0,Vy(l,p));l=l.next}while(s);Wd=!1}}function vE(){zy()}function zy(){iu=Jd=!1;var n=0;Or!==0&&OE()&&(n=Or);for(var a=dt(),s=null,l=ru;l!==null;){var d=l.next,p=By(l,a);p===0?(l.next=null,s===null?ru=d:s.next=d,d===null&&(rs=s)):(s=l,(n!==0||(p&3)!==0)&&(iu=!0)),l=d}Xt!==0&&Xt!==5||ho(n),Or!==0&&(Or=0)}function By(n,a){for(var s=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var b=31-Ft(p),E=1<<b,M=d[b];M===-1?((E&s)===0||(E&l)!==0)&&(d[b]=Nt(E,a)):M<=a&&(n.expiredLanes|=E),p&=~E}if(a=ut,s=Ge,s=De(n,n===a?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===a&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Va(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||ft(n,s)){if(a=s&-s,a===n.callbackPriority)return a;switch(l!==null&&Va(l),ae(s)){case 2:case 8:s=Oa;break;case 32:s=Yt;break;case 268435456:s=vn;break;default:s=Yt}return l=Py.bind(null,n),s=Qt(s,l),n.callbackPriority=a,n.callbackNode=s,a}return l!==null&&l!==null&&Va(l),n.callbackPriority=2,n.callbackNode=null,2}function Py(n,a){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(au()&&n.callbackNode!==s)return null;var l=Ge;return l=De(n,n===ut?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(wy(n,l,a),By(n,dt()),n.callbackNode!=null&&n.callbackNode===s?Py.bind(null,n):null)}function Vy(n,a){if(au())return null;wy(n,a,!0)}function bE(){ME(function(){(nt&6)!==0?Qt(jn,vE):zy()})}function Qd(){if(Or===0){var n=qi;n===0&&(n=ga,ga<<=1,(ga&261888)===0&&(ga=256)),Or=n}return Or}function $y(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hl(""+n)}function Hy(n,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,n.id&&s.setAttribute("form",n.id),a.parentNode.insertBefore(s,a),n=new FormData(n),s.parentNode.removeChild(s),n}function wE(n,a,s,l,d){if(a==="submit"&&s&&s.stateNode===d){var p=$y((d[he]||null).action),b=l.submitter;b&&(a=(a=b[he]||null)?$y(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var E=new yl("action","action",null,l,d);n.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Or!==0){var M=b?Hy(d,b):new FormData(d);vd(s,{pending:!0,data:M,method:d.method,action:p},null,M)}}else typeof p=="function"&&(E.preventDefault(),M=b?Hy(d,b):new FormData(d),vd(s,{pending:!0,data:M,method:d.method,action:p},p,M))},currentTarget:d}]})}}for(var Zd=0;Zd<Lc.length;Zd++){var ef=Lc[Zd],_E=ef.toLowerCase(),SE=ef[0].toUpperCase()+ef.slice(1);_a(_E,"on"+SE)}_a(bp,"onAnimationEnd"),_a(wp,"onAnimationIteration"),_a(_p,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(B1,"onTransitionRun"),_a(P1,"onTransitionStart"),_a(V1,"onTransitionCancel"),_a(Sp,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function qy(n,a){a=(a&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],d=l.event;l=l.listeners;e:{var p=void 0;if(a)for(var b=l.length-1;0<=b;b--){var E=l[b],M=E.instance,q=E.currentTarget;if(E=E.listener,M!==p&&d.isPropagationStopped())break e;p=E,d.currentTarget=q;try{p(d)}catch(Q){wl(Q)}d.currentTarget=null,p=M}else for(b=0;b<l.length;b++){if(E=l[b],M=E.instance,q=E.currentTarget,E=E.listener,M!==p&&d.isPropagationStopped())break e;p=E,d.currentTarget=q;try{p(d)}catch(Q){wl(Q)}d.currentTarget=null,p=M}}}}function Ie(n,a){var s=a[Re];s===void 0&&(s=a[Re]=new Set);var l=n+"__bubble";s.has(l)||(Iy(a,n,2,!1),s.add(l))}function tf(n,a,s){var l=0;a&&(l|=4),Iy(s,n,l,a)}var su="_reactListening"+Math.random().toString(36).slice(2);function nf(n){if(!n[su]){n[su]=!0,va.forEach(function(s){s!=="selectionchange"&&(EE.has(s)||tf(s,!1,n),tf(s,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[su]||(a[su]=!0,tf("selectionchange",!1,a))}}function Iy(n,a,s,l){switch(bv(a)){case 2:var d=WE;break;case 8:d=QE;break;default:d=vf}s=d.bind(null,a,s,n),d=void 0,!Sc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(a,s,{capture:!0,passive:d}):n.addEventListener(a,s,!0):d!==void 0?n.addEventListener(a,s,{passive:d}):n.addEventListener(a,s,!1)}function af(n,a,s,l,d){var p=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var E=l.stateNode.containerInfo;if(E===d)break;if(b===4)for(b=l.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;E!==null;){if(b=At(E),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){l=p=b;continue e}E=E.parentNode}}l=l.return}Xm(function(){var q=p,Q=wc(s),ne=[];e:{var I=Ep.get(n);if(I!==void 0){var F=yl,ge=n;switch(n){case"keypress":if(pl(s)===0)break e;case"keydown":case"keyup":F=g1;break;case"focusin":ge="focus",F=Rc;break;case"focusout":ge="blur",F=Rc;break;case"beforeblur":case"afterblur":F=Rc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=r1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=b1;break;case bp:case wp:case _p:F=o1;break;case Sp:F=_1;break;case"scroll":case"scrollend":F=n1;break;case"wheel":F=E1;break;case"copy":case"cut":case"paste":F=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ep;break;case"toggle":case"beforetoggle":F=T1}var Ce=(a&4)!==0,lt=!Ce&&(n==="scroll"||n==="scrollend"),P=Ce?I!==null?I+"Capture":null:I;Ce=[];for(var N=q,H;N!==null;){var ee=N;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||P===null||(ee=Ls(N,P),ee!=null&&Ce.push(po(N,ee,H))),lt)break;N=N.return}0<Ce.length&&(I=new F(I,ge,null,s,Q),ne.push({event:I,listeners:Ce}))}}if((a&7)===0){e:{if(I=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",I&&s!==bc&&(ge=s.relatedTarget||s.fromElement)&&(At(ge)||ge[be]))break e;if((F||I)&&(I=Q.window===Q?Q:(I=Q.ownerDocument)?I.defaultView||I.parentWindow:window,F?(ge=s.relatedTarget||s.toElement,F=q,ge=ge?At(ge):null,ge!==null&&(lt=u(ge),Ce=ge.tag,ge!==lt||Ce!==5&&Ce!==27&&Ce!==6)&&(ge=null)):(F=null,ge=q),F!==ge)){if(Ce=Qm,ee="onMouseLeave",P="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=ep,ee="onPointerLeave",P="onPointerEnter",N="pointer"),lt=F==null?I:en(F),H=ge==null?I:en(ge),I=new Ce(ee,N+"leave",F,s,Q),I.target=lt,I.relatedTarget=H,ee=null,At(Q)===q&&(Ce=new Ce(P,N+"enter",ge,s,Q),Ce.target=H,Ce.relatedTarget=lt,ee=Ce),lt=ee,F&&ge)t:{for(Ce=xE,P=F,N=ge,H=0,ee=P;ee;ee=Ce(ee))H++;ee=0;for(var Te=N;Te;Te=Ce(Te))ee++;for(;0<H-ee;)P=Ce(P),H--;for(;0<ee-H;)N=Ce(N),ee--;for(;H--;){if(P===N||N!==null&&P===N.alternate){Ce=P;break t}P=Ce(P),N=Ce(N)}Ce=null}else Ce=null;F!==null&&Gy(ne,I,F,Ce,!1),ge!==null&&lt!==null&&Gy(ne,lt,ge,Ce,!0)}}e:{if(I=q?en(q):window,F=I.nodeName&&I.nodeName.toLowerCase(),F==="select"||F==="input"&&I.type==="file")var et=lp;else if(sp(I))if(up)et=L1;else{et=j1;var ve=D1}else F=I.nodeName,!F||F.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?q&&vc(q.elementType)&&(et=lp):et=N1;if(et&&(et=et(n,q))){op(ne,et,s,Q);break e}ve&&ve(n,I,q),n==="focusout"&&q&&I.type==="number"&&q.memoizedProps.value!=null&&yc(I,"number",I.value)}switch(ve=q?en(q):window,n){case"focusin":(sp(ve)||ve.contentEditable==="true")&&(Li=ve,Dc=q,qs=null);break;case"focusout":qs=Dc=Li=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,yp(ne,s,Q);break;case"selectionchange":if(z1)break;case"keydown":case"keyup":yp(ne,s,Q)}var Be;if(Cc)e:{switch(n){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Ni?rp(n,s)&&(Ke="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ke="onCompositionStart");Ke&&(tp&&s.locale!=="ko"&&(Ni||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Ni&&(Be=Jm()):(hr=Q,Ec="value"in hr?hr.value:hr.textContent,Ni=!0)),ve=ou(q,Ke),0<ve.length&&(Ke=new Zm(Ke,n,null,s,Q),ne.push({event:Ke,listeners:ve}),Be?Ke.data=Be:(Be=ip(s),Be!==null&&(Ke.data=Be)))),(Be=A1?C1(n,s):O1(n,s))&&(Ke=ou(q,"onBeforeInput"),0<Ke.length&&(ve=new Zm("onBeforeInput","beforeinput",null,s,Q),ne.push({event:ve,listeners:Ke}),ve.data=Be)),wE(ne,n,q,s,Q)}qy(ne,a)})}function po(n,a,s){return{instance:n,listener:a,currentTarget:s}}function ou(n,a){for(var s=a+"Capture",l=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ls(n,s),d!=null&&l.unshift(po(n,d,p)),d=Ls(n,a),d!=null&&l.push(po(n,d,p))),n.tag===3)return l;n=n.return}return[]}function xE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Gy(n,a,s,l,d){for(var p=a._reactName,b=[];s!==null&&s!==l;){var E=s,M=E.alternate,q=E.stateNode;if(E=E.tag,M!==null&&M===l)break;E!==5&&E!==26&&E!==27||q===null||(M=q,d?(q=Ls(s,p),q!=null&&b.unshift(po(s,q,M))):d||(q=Ls(s,p),q!=null&&b.push(po(s,q,M)))),s=s.return}b.length!==0&&n.push({event:a,listeners:b})}var TE=/\r\n?/g,RE=/\u0000|\uFFFD/g;function Ky(n){return(typeof n=="string"?n:""+n).replace(TE,`
`).replace(RE,"")}function Yy(n,a){return a=Ky(a),Ky(n)===a}function ot(n,a,s,l,d,p){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Mi(n,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Mi(n,""+l);break;case"className":wa(n,"class",l);break;case"tabIndex":wa(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wa(n,s,l);break;case"style":Ym(n,l,p);break;case"data":if(a!=="object"){wa(n,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=hl(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(a!=="input"&&ot(n,a,"name",d.name,d,null),ot(n,a,"formEncType",d.formEncType,d,null),ot(n,a,"formMethod",d.formMethod,d,null),ot(n,a,"formTarget",d.formTarget,d,null)):(ot(n,a,"encType",d.encType,d,null),ot(n,a,"method",d.method,d,null),ot(n,a,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=hl(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Ia);break;case"onScroll":l!=null&&Ie("scroll",n);break;case"onScrollEnd":l!=null&&Ie("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=hl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Ie("beforetoggle",n),Ie("toggle",n),Ut(n,"popover",l);break;case"xlinkActuate":rn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ut(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=e1.get(s)||s,Ut(n,s,l))}}function rf(n,a,s,l,d,p){switch(s){case"style":Ym(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=s}}break;case"children":typeof l=="string"?Mi(n,l):(typeof l=="number"||typeof l=="bigint")&&Mi(n,""+l);break;case"onScroll":l!=null&&Ie("scroll",n);break;case"onScrollEnd":l!=null&&Ie("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Un.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),a=s.slice(2,d?s.length-7:void 0),p=n[he]||null,p=p!=null?p[s]:null,typeof p=="function"&&n.removeEventListener(a,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(a,l,d);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):Ut(n,s,l)}}}function un(n,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",n),Ie("load",n);var l=!1,d=!1,p;for(p in s)if(s.hasOwnProperty(p)){var b=s[p];if(b!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(n,a,p,b,s,null)}}d&&ot(n,a,"srcSet",s.srcSet,s,null),l&&ot(n,a,"src",s.src,s,null);return;case"input":Ie("invalid",n);var E=p=b=d=null,M=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":d=Q;break;case"type":b=Q;break;case"checked":M=Q;break;case"defaultChecked":q=Q;break;case"value":p=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:ot(n,a,l,Q,s,null)}}qm(n,p,E,M,q,b,d,!1);return;case"select":Ie("invalid",n),l=b=p=null;for(d in s)if(s.hasOwnProperty(d)&&(E=s[d],E!=null))switch(d){case"value":p=E;break;case"defaultValue":b=E;break;case"multiple":l=E;default:ot(n,a,d,E,s,null)}a=p,s=b,n.multiple=!!l,a!=null?ki(n,!!l,a,!1):s!=null&&ki(n,!!l,s,!0);return;case"textarea":Ie("invalid",n),p=d=l=null;for(b in s)if(s.hasOwnProperty(b)&&(E=s[b],E!=null))switch(b){case"value":l=E;break;case"defaultValue":d=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:ot(n,a,b,E,s,null)}Gm(n,l,d,p);return;case"option":for(M in s)s.hasOwnProperty(M)&&(l=s[M],l!=null)&&(M==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":ot(n,a,M,l,s,null));return;case"dialog":Ie("beforetoggle",n),Ie("toggle",n),Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":Ie("load",n);break;case"video":case"audio":for(l=0;l<mo.length;l++)Ie(mo[l],n);break;case"image":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"embed":case"source":case"link":Ie("error",n),Ie("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(n,a,q,l,s,null)}return;default:if(vc(a)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&rf(n,a,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ot(n,a,E,l,s,null))}function AE(n,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,b=null,E=null,M=null,q=null,Q=null;for(F in s){var ne=s[F];if(s.hasOwnProperty(F)&&ne!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":M=ne;default:l.hasOwnProperty(F)||ot(n,a,F,null,l,ne)}}for(var I in l){var F=l[I];if(ne=s[I],l.hasOwnProperty(I)&&(F!=null||ne!=null))switch(I){case"type":p=F;break;case"name":d=F;break;case"checked":q=F;break;case"defaultChecked":Q=F;break;case"value":b=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,a));break;default:F!==ne&&ot(n,a,I,F,l,ne)}}gc(n,b,E,M,q,Q,p,d);return;case"select":F=b=E=I=null;for(p in s)if(M=s[p],s.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":F=M;default:l.hasOwnProperty(p)||ot(n,a,p,null,l,M)}for(d in l)if(p=l[d],M=s[d],l.hasOwnProperty(d)&&(p!=null||M!=null))switch(d){case"value":I=p;break;case"defaultValue":E=p;break;case"multiple":b=p;default:p!==M&&ot(n,a,d,p,l,M)}a=E,s=b,l=F,I!=null?ki(n,!!s,I,!1):!!l!=!!s&&(a!=null?ki(n,!!s,a,!0):ki(n,!!s,s?[]:"",!1));return;case"textarea":F=I=null;for(E in s)if(d=s[E],s.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(n,a,E,null,l,d)}for(b in l)if(d=l[b],p=s[b],l.hasOwnProperty(b)&&(d!=null||p!=null))switch(b){case"value":I=d;break;case"defaultValue":F=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&ot(n,a,b,d,l,p)}Im(n,I,F);return;case"option":for(var ge in s)I=s[ge],s.hasOwnProperty(ge)&&I!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?n.selected=!1:ot(n,a,ge,null,l,I));for(M in l)I=l[M],F=s[M],l.hasOwnProperty(M)&&I!==F&&(I!=null||F!=null)&&(M==="selected"?n.selected=I&&typeof I!="function"&&typeof I!="symbol":ot(n,a,M,I,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)I=s[Ce],s.hasOwnProperty(Ce)&&I!=null&&!l.hasOwnProperty(Ce)&&ot(n,a,Ce,null,l,I);for(q in l)if(I=l[q],F=s[q],l.hasOwnProperty(q)&&I!==F&&(I!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,a));break;default:ot(n,a,q,I,l,F)}return;default:if(vc(a)){for(var lt in s)I=s[lt],s.hasOwnProperty(lt)&&I!==void 0&&!l.hasOwnProperty(lt)&&rf(n,a,lt,void 0,l,I);for(Q in l)I=l[Q],F=s[Q],!l.hasOwnProperty(Q)||I===F||I===void 0&&F===void 0||rf(n,a,Q,I,l,F);return}}for(var P in s)I=s[P],s.hasOwnProperty(P)&&I!=null&&!l.hasOwnProperty(P)&&ot(n,a,P,null,l,I);for(ne in l)I=l[ne],F=s[ne],!l.hasOwnProperty(ne)||I===F||I==null&&F==null||ot(n,a,ne,I,l,F)}function Fy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var d=s[l],p=d.transferSize,b=d.initiatorType,E=d.duration;if(p&&E&&Fy(b)){for(b=0,E=d.responseEnd,l+=1;l<s.length;l++){var M=s[l],q=M.startTime;if(q>E)break;var Q=M.transferSize,ne=M.initiatorType;Q&&Fy(ne)&&(M=M.responseEnd,b+=Q*(M<E?1:(E-q)/(M-q)))}if(--l,a+=8*(p+b)/(d.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var sf=null,of=null;function lu(n){return n.nodeType===9?n:n.ownerDocument}function Xy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function lf(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var uf=null;function OE(){var n=window.event;return n&&n.type==="popstate"?n===uf?!1:(uf=n,!0):(uf=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,kE=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(n){return Qy.resolve(null).then(n).catch(DE)}:Wy;function DE(n){setTimeout(function(){throw n})}function kr(n){return n==="head"}function Zy(n,a){var s=a,l=0;do{var d=s.nextSibling;if(n.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(l===0){n.removeChild(d),ls(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")go(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,go(s);for(var p=s.firstChild;p;){var b=p.nextSibling,E=p.nodeName;p[St]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=b}}else s==="body"&&go(n.ownerDocument.body);s=d}while(s);ls(a)}function ev(n,a){var s=n;n=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=l}while(s)}function cf(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cf(s),Rt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function jE(n,a,s,l){for(;n.nodeType===1;){var d=s;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[St])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=sa(n.nextSibling),n===null)break}return null}function NE(n,a,s){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=sa(n.nextSibling),n===null))return null;return n}function tv(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=sa(n.nextSibling),n===null))return null;return n}function df(n){return n.data==="$?"||n.data==="$~"}function ff(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function LE(n,a){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function sa(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var hf=null;function nv(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(a===0)return sa(n.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}n=n.nextSibling}return null}function av(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return n;a--}else s!=="/$"&&s!=="/&"||a++}n=n.previousSibling}return null}function rv(n,a,s){switch(a=lu(s),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function go(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Rt(n)}var oa=new Map,iv=new Set;function uu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var sr=W.d;W.d={f:UE,r:zE,D:BE,C:PE,L:VE,m:$E,X:qE,S:HE,M:IE};function UE(){var n=sr.f(),a=eu();return n||a}function zE(n){var a=Xe(n);a!==null&&a.tag===5&&a.type==="form"?Sg(a):sr.r(n)}var is=typeof document>"u"?null:document;function sv(n,a,s){var l=is;if(l&&typeof a=="string"&&a){var d=Zn(a);d='link[rel="'+n+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),iv.has(d)||(iv.add(d),n={rel:n,crossOrigin:s,href:a},l.querySelector(d)===null&&(a=l.createElement("link"),un(a,"link",n),wt(a),l.head.appendChild(a)))}}function BE(n){sr.D(n),sv("dns-prefetch",n,null)}function PE(n,a){sr.C(n,a),sv("preconnect",n,a)}function VE(n,a,s){sr.L(n,a,s);var l=is;if(l&&n&&a){var d='link[rel="preload"][as="'+Zn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Zn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Zn(s.imageSizes)+'"]')):d+='[href="'+Zn(n)+'"]';var p=d;switch(a){case"style":p=ss(n);break;case"script":p=os(n)}oa.has(p)||(n=g({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:n,as:a},s),oa.set(p,n),l.querySelector(d)!==null||a==="style"&&l.querySelector(yo(p))||a==="script"&&l.querySelector(vo(p))||(a=l.createElement("link"),un(a,"link",n),wt(a),l.head.appendChild(a)))}}function $E(n,a){sr.m(n,a);var s=is;if(s&&n){var l=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Zn(l)+'"][href="'+Zn(n)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=os(n)}if(!oa.has(p)&&(n=g({rel:"modulepreload",href:n},a),oa.set(p,n),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(vo(p)))return}l=s.createElement("link"),un(l,"link",n),wt(l),s.head.appendChild(l)}}}function HE(n,a,s){sr.S(n,a,s);var l=is;if(l&&n){var d=xn(l).hoistableStyles,p=ss(n);a=a||"default";var b=d.get(p);if(!b){var E={loading:0,preload:null};if(b=l.querySelector(yo(p)))E.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":a},s),(s=oa.get(p))&&mf(n,s);var M=b=l.createElement("link");wt(M),un(M,"link",n),M._p=new Promise(function(q,Q){M.onload=q,M.onerror=Q}),M.addEventListener("load",function(){E.loading|=1}),M.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cu(b,a,l)}b={type:"stylesheet",instance:b,count:1,state:E},d.set(p,b)}}}function qE(n,a){sr.X(n,a);var s=is;if(s&&n){var l=xn(s).hoistableScripts,d=os(n),p=l.get(d);p||(p=s.querySelector(vo(d)),p||(n=g({src:n,async:!0},a),(a=oa.get(d))&&pf(n,a),p=s.createElement("script"),wt(p),un(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function IE(n,a){sr.M(n,a);var s=is;if(s&&n){var l=xn(s).hoistableScripts,d=os(n),p=l.get(d);p||(p=s.querySelector(vo(d)),p||(n=g({src:n,async:!0,type:"module"},a),(a=oa.get(d))&&pf(n,a),p=s.createElement("script"),wt(p),un(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function ov(n,a,s,l){var d=(d=ie.current)?uu(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=ss(s.href),s=xn(d).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=ss(s.href);var p=xn(d).hoistableStyles,b=p.get(n);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,b),(p=d.querySelector(yo(n)))&&!p._p&&(b.instance=p,b.state.loading=5),oa.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},oa.set(n,s),p||GE(d,n,s,b.state))),a&&l===null)throw Error(i(528,""));return b}if(a&&l!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=os(s),s=xn(d).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ss(n){return'href="'+Zn(n)+'"'}function yo(n){return'link[rel="stylesheet"]['+n+"]"}function lv(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function GE(n,a,s,l){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=n.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),un(a,"link",s),wt(a),n.head.appendChild(a))}function os(n){return'[src="'+Zn(n)+'"]'}function vo(n){return"script[async]"+n}function uv(n,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=n.querySelector('style[data-href~="'+Zn(s.href)+'"]');if(l)return a.instance=l,wt(l),l;var d=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),wt(l),un(l,"style",d),cu(l,s.precedence,n),a.instance=l;case"stylesheet":d=ss(s.href);var p=n.querySelector(yo(d));if(p)return a.state.loading|=4,a.instance=p,wt(p),p;l=lv(s),(d=oa.get(d))&&mf(l,d),p=(n.ownerDocument||n).createElement("link"),wt(p);var b=p;return b._p=new Promise(function(E,M){b.onload=E,b.onerror=M}),un(p,"link",l),a.state.loading|=4,cu(p,s.precedence,n),a.instance=p;case"script":return p=os(s.src),(d=n.querySelector(vo(p)))?(a.instance=d,wt(d),d):(l=s,(d=oa.get(p))&&(l=g({},s),pf(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),wt(d),un(d,"link",l),n.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,cu(l,s.precedence,n));return a.instance}function cu(n,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,b=0;b<l.length;b++){var E=l[b];if(E.dataset.precedence===a)p=E;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(n,a.firstChild))}function mf(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function pf(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var du=null;function cv(n,a,s){if(du===null){var l=new Map,d=du=new Map;d.set(s,l)}else d=du,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),d=0;d<s.length;d++){var p=s[d];if(!(p[St]||p[ce]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=n+b;var E=l.get(b);E?E.push(p):l.set(b,[p])}}return l}function dv(n,a,s){n=n.ownerDocument||n,n.head.insertBefore(s,a==="title"?n.querySelector("head > title"):null)}function KE(n,a,s){if(s===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(n=a.disabled,typeof a.precedence=="string"&&n==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function fv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function YE(n,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=ss(l.href),p=a.querySelector(yo(d));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=fu.bind(n),a.then(n,n)),s.state.loading|=4,s.instance=p,wt(p);return}p=a.ownerDocument||a,l=lv(l),(d=oa.get(d))&&mf(l,d),p=p.createElement("link"),wt(p);var b=p;b._p=new Promise(function(E,M){b.onload=E,b.onerror=M}),un(p,"link",l),s.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=fu.bind(n),a.addEventListener("load",s),a.addEventListener("error",s))}}var gf=0;function FE(n,a){return n.stylesheets&&n.count===0&&mu(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var l=setTimeout(function(){if(n.stylesheets&&mu(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+a);0<n.imgBytes&&gf===0&&(gf=62500*CE());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&mu(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>gf?50:800)+a);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hu=null;function mu(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hu=new Map,a.forEach(XE,n),hu=null,fu.call(n))}function XE(n,a){if(!(a.state.loading&4)){var s=hu.get(n);if(s)var l=s.get(null);else{s=new Map,hu.set(n,s);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var b=d[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}d=a.instance,b=d.getAttribute("data-precedence"),p=s.get(b)||l,p===l&&s.set(null,d),s.set(b,d),this.count++,l=fu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),a.state.loading|=4}}var bo={$$typeof:k,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function JE(n,a,s,l,d,p,b,E,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ln(0),this.hiddenUpdates=Ln(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function hv(n,a,s,l,d,p,b,E,M,q,Q,ne){return n=new JE(n,a,s,b,M,q,Q,ne,E),a=1,p===!0&&(a|=24),p=Bn(3,null,null,a),n.current=p,p.stateNode=n,a=Fc(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:a},Qc(p),n}function mv(n){return n?(n=Bi,n):Bi}function pv(n,a,s,l,d,p){d=mv(d),l.context===null?l.context=d:l.pendingContext=d,l=br(a),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=wr(n,l,a),s!==null&&(kn(s,n,a),Js(s,n,a))}function gv(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<a?s:a}}function yf(n,a){gv(n,a),(n=n.alternate)&&gv(n,a)}function yv(n){if(n.tag===13||n.tag===31){var a=ni(n,67108864);a!==null&&kn(a,n,67108864),yf(n,67108864)}}function vv(n){if(n.tag===13||n.tag===31){var a=qn();a=K(a);var s=ni(n,a);s!==null&&kn(s,n,a),yf(n,a)}}var pu=!0;function WE(n,a,s,l){var d=B.T;B.T=null;var p=W.p;try{W.p=2,vf(n,a,s,l)}finally{W.p=p,B.T=d}}function QE(n,a,s,l){var d=B.T;B.T=null;var p=W.p;try{W.p=8,vf(n,a,s,l)}finally{W.p=p,B.T=d}}function vf(n,a,s,l){if(pu){var d=bf(l);if(d===null)af(n,a,l,gu,s),wv(n,l);else if(ex(d,n,a,s,l))l.stopPropagation();else if(wv(n,l),a&4&&-1<ZE.indexOf(n)){for(;d!==null;){var p=Xe(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Wn(p.pendingLanes);if(b!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var M=1<<31-Ft(b);E.entanglements[1]|=M,b&=~M}Na(p),(nt&6)===0&&(Ql=dt()+500,ho(0))}}break;case 31:case 13:E=ni(p,2),E!==null&&kn(E,p,2),eu(),yf(p,2)}if(p=bf(l),p===null&&af(n,a,l,gu,s),p===d)break;d=p}d!==null&&l.stopPropagation()}else af(n,a,l,null,s)}}function bf(n){return n=wc(n),wf(n)}var gu=null;function wf(n){if(gu=null,n=At(n),n!==null){var a=u(n);if(a===null)n=null;else{var s=a.tag;if(s===13){if(n=c(a),n!==null)return n;n=null}else if(s===31){if(n=f(a),n!==null)return n;n=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return gu=n,null}function bv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case jn:return 2;case Oa:return 8;case Yt:case Zt:return 32;case vn:return 268435456;default:return 32}default:return 32}}var _f=!1,Mr=null,Dr=null,jr=null,wo=new Map,_o=new Map,Nr=[],ZE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(n,a){switch(n){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":wo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(a.pointerId)}}function So(n,a,s,l,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},a!==null&&(a=Xe(a),a!==null&&yv(a)),n):(n.eventSystemFlags|=l,a=n.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),n)}function ex(n,a,s,l,d){switch(a){case"focusin":return Mr=So(Mr,n,a,s,l,d),!0;case"dragenter":return Dr=So(Dr,n,a,s,l,d),!0;case"mouseover":return jr=So(jr,n,a,s,l,d),!0;case"pointerover":var p=d.pointerId;return wo.set(p,So(wo.get(p)||null,n,a,s,l,d)),!0;case"gotpointercapture":return p=d.pointerId,_o.set(p,So(_o.get(p)||null,n,a,s,l,d)),!0}return!1}function _v(n){var a=At(n.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){n.blockedOn=a,we(n.priority,function(){vv(s)});return}}else if(a===31){if(a=f(s),a!==null){n.blockedOn=a,we(n.priority,function(){vv(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yu(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var s=bf(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);bc=l,s.target.dispatchEvent(l),bc=null}else return a=Xe(s),a!==null&&yv(a),n.blockedOn=s,!1;a.shift()}return!0}function Sv(n,a,s){yu(n)&&s.delete(a)}function tx(){_f=!1,Mr!==null&&yu(Mr)&&(Mr=null),Dr!==null&&yu(Dr)&&(Dr=null),jr!==null&&yu(jr)&&(jr=null),wo.forEach(Sv),_o.forEach(Sv)}function vu(n,a){n.blockedOn===a&&(n.blockedOn=null,_f||(_f=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tx)))}var bu=null;function Ev(n){bu!==n&&(bu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bu===n&&(bu=null);for(var a=0;a<n.length;a+=3){var s=n[a],l=n[a+1],d=n[a+2];if(typeof l!="function"){if(wf(l||s)===null)continue;break}var p=Xe(s);p!==null&&(n.splice(a,3),a-=3,vd(p,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function ls(n){function a(M){return vu(M,n)}Mr!==null&&vu(Mr,n),Dr!==null&&vu(Dr,n),jr!==null&&vu(jr,n),wo.forEach(a),_o.forEach(a);for(var s=0;s<Nr.length;s++){var l=Nr[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Nr.length&&(s=Nr[0],s.blockedOn===null);)_v(s),s.blockedOn===null&&Nr.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],p=s[l+1],b=d[he]||null;if(typeof p=="function")b||Ev(s);else if(b){var E=null;if(p&&p.hasAttribute("formAction")){if(d=p,b=p[he]||null)E=b.formAction;else if(wf(d)!==null)continue}else E=b.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Ev(s)}}}function xv(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function Sf(n){this._internalRoot=n}wu.prototype.render=Sf.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,l=qn();pv(s,l,n,a,null,null)},wu.prototype.unmount=Sf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;pv(n.current,2,null,n,null,null),eu(),a[be]=null}};function wu(n){this._internalRoot=n}wu.prototype.unstable_scheduleHydration=function(n){if(n){var a=oe();n={blockedOn:null,target:n,priority:a};for(var s=0;s<Nr.length&&a!==0&&a<Nr[s].priority;s++);Nr.splice(s,0,n),s===0&&_v(n)}};var Tv=e.version;if(Tv!=="19.2.3")throw Error(i(527,Tv,"19.2.3"));W.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(a),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var nx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{pa=_u.inject(nx),pt=_u}catch{}}return xo.createRoot=function(n,a){if(!o(n))throw Error(i(299));var s=!1,l="",d=Dg,p=jg,b=Ng;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=hv(n,1,!1,null,null,s,l,null,d,p,b,xv),n[be]=a.current,nf(n),new Sf(a)},xo.hydrateRoot=function(n,a,s){if(!o(n))throw Error(i(299));var l=!1,d="",p=Dg,b=jg,E=Ng,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(M=s.formState)),a=hv(n,1,!0,a,s??null,l,d,M,p,b,E,xv),a.context=mv(null),s=a.current,l=qn(),l=K(l),d=br(l),d.callback=null,wr(s,d,l),s=l,a.current.lanes=s,ht(a,s),Na(a),n[be]=a.current,nf(n),new wu(a)},xo.version="19.2.3",xo}var Lv;function hx(){if(Lv)return Tf.exports;Lv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tf.exports=fx(),Tf.exports}var mx=hx();var ow=t=>{throw TypeError(t)},px=(t,e,r)=>e.has(t)||ow("Cannot "+r),Of=(t,e,r)=>(px(t,e,"read from private field"),r?r.call(t):e.get(t)),gx=(t,e,r)=>e.has(t)?ow("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Uv="popstate";function yx(t={}){function e(i,o){let{pathname:u,search:c,hash:f}=i.location;return $o("",{pathname:u,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Ba(o)}return bx(e,r,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vx(){return Math.random().toString(36).substring(2,10)}function zv(t,e){return{usr:t.state,key:t.key,idx:e}}function $o(t,e,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Kr(e):e,state:r,key:e&&e.key||i||vx()}}function Ba({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Kr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function bx(t,e,r,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,c=o.history,f="POP",h=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function g(){f="POP";let A=y(),C=A==null?null:A-m;m=A,h&&h({action:f,location:T.location,delta:C})}function v(A,C){f="PUSH";let D=$o(T.location,A,C);m=y()+1;let k=zv(D,m),J=T.createHref(D);try{c.pushState(k,"",J)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(J)}u&&h&&h({action:f,location:T.location,delta:1})}function w(A,C){f="REPLACE";let D=$o(T.location,A,C);m=y();let k=zv(D,m),J=T.createHref(D);c.replaceState(k,"",J),u&&h&&h({action:f,location:T.location,delta:0})}function S(A){return lw(A)}let T={get action(){return f},get location(){return t(o,c)},listen(A){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Uv,g),h=A,()=>{o.removeEventListener(Uv,g),h=null}},createHref(A){return e(o,A)},createURL:S,encodeLocation(A){let C=S(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:w,go(A){return c.go(A)}};return T}function lw(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ba(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=r+i),new URL(i,r)}var Oo,Bv=class{constructor(t){if(gx(this,Oo,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(Of(this,Oo).has(t))return Of(this,Oo).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Of(this,Oo).set(t,e)}};Oo=new WeakMap;var wx=new Set(["lazy","caseSensitive","path","id","index","children"]);function _x(t){return wx.has(t)}var Sx=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Ex(t){return Sx.has(t)}function xx(t){return t.index===!0}function Ho(t,e,r=[],i={},o=!1){return t.map((u,c)=>{let f=[...r,String(c)],h=typeof u.id=="string"?u.id:f.join("-");if(Ve(u.index!==!0||!u.children,"Cannot specify children on an index route"),Ve(o||!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),xx(u)){let m={...u,id:h};return i[h]=Pv(m,e(m)),m}else{let m={...u,id:h,children:void 0};return i[h]=Pv(m,e(m)),u.children&&(m.children=Ho(u.children,e,f,i,o)),m}})}function Pv(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Br(t,e,r="/"){return ko(t,e,r,!1)}function ko(t,e,r,i){let o=typeof e=="string"?Kr(e):e,u=fa(o.pathname||"/",r);if(u==null)return null;let c=uw(t);Rx(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=zx(u);f=Lx(c[h],m,i)}return f}function Tx(t,e){let{route:r,pathname:i,params:o}=t;return{id:r.id,pathname:i,params:o,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function uw(t,e=[],r=[],i="",o=!1){let u=(c,f,h=o,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&h)return;Ve(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let g=Ua([i,y.relativePath]),v=r.concat(y);c.children&&c.children.length>0&&(Ve(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),uw(c.children,e,v,g,h)),!(c.path==null&&!c.index)&&e.push({path:g,score:jx(g,c.index),routesMeta:v})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let h of cw(c.path))u(c,f,!0,h)}),e}function cw(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let c=cw(i.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),o&&f.push(...c),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function Rx(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Nx(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var Ax=/^:[\w-]+$/,Cx=3,Ox=2,kx=1,Mx=10,Dx=-2,Vv=t=>t==="*";function jx(t,e){let r=t.split("/"),i=r.length;return r.some(Vv)&&(i+=Dx),e&&(i+=Ox),r.filter(o=>!Vv(o)).reduce((o,u)=>o+(Ax.test(u)?Cx:u===""?kx:Mx),i)}function Nx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function Lx(t,e,r=!1){let{routesMeta:i}=t,o={},u="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,y=u==="/"?e:e.slice(u.length)||"/",g=Iu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),v=h.route;if(!g&&m&&r&&!i[i.length-1].route.index&&(g=Iu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!g)return null;Object.assign(o,g.params),c.push({params:o,pathname:Ua([u,g.pathname]),pathnameBase:Vx(Ua([u,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(u=Ua([u,g.pathnameBase]))}return c}function Iu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=Ux(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:g},v)=>{if(y==="*"){let S=f[v]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[v];return g&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:t}}function Ux(t,e=!1,r=!0){Dt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function zx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function Bx({basename:t,pathname:e}){return e==="/"?t:Ua([t,e])}var dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rc=t=>dw.test(t);function Px(t,e="/"){let{pathname:r,search:i="",hash:o=""}=typeof t=="string"?Kr(t):t,u;if(r)if(rc(r))u=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Dt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?u=$v(r.substring(1),"/"):u=$v(r,e)}else u=e;return{pathname:u,search:$x(i),hash:Hx(o)}}function $v(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function kf(t,e,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ic(t){let e=fw(t);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function sc(t,e,r,i=!1){let o;typeof t=="string"?o=Kr(t):(o={...t},Ve(!o.pathname||!o.pathname.includes("?"),kf("?","pathname","search",o)),Ve(!o.pathname||!o.pathname.includes("#"),kf("#","pathname","hash",o)),Ve(!o.search||!o.search.includes("#"),kf("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=r;else{let g=e.length-1;if(!i&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;o.pathname=v.join("/")}f=g>=0?e[g]:"/"}let h=Px(o,f),m=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var Ua=t=>t.join("/").replace(/\/\/+/g,"/"),Vx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$x=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,nl=class{constructor(t,e,r,i=!1){this.status=t,this.statusText=e||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function qo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function al(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mw(t,e){let r=t;if(typeof r!="string"||!dw.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,o=!1;if(hw)try{let u=new URL(window.location.href),c=r.startsWith("//")?new URL(u.protocol+r):new URL(r),f=fa(c.pathname,e);c.origin===u.origin&&f!=null?r=f+c.search+c.hash:o=!0}catch{Dt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:r}}var Hr=Symbol("Uninstrumented");function qx(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(o=>o({id:e.id,index:e.index,path:e.path,instrument(u){let c=Object.keys(r);for(let f of c)u[f]&&r[f].push(u[f])}}));let i={};if(typeof e.lazy=="function"&&r.lazy.length>0){let o=bs(r.lazy,e.lazy,()=>{});o&&(i.lazy=o)}if(typeof e.lazy=="object"){let o=e.lazy;["middleware","loader","action"].forEach(u=>{let c=o[u],f=r[`lazy.${u}`];if(typeof c=="function"&&f.length>0){let h=bs(f,c,()=>{});h&&(i.lazy=Object.assign(i.lazy||{},{[u]:h}))}})}return["loader","action"].forEach(o=>{let u=e[o];if(typeof u=="function"&&r[o].length>0){let c=u[Hr]??u,f=bs(r[o],c,(...h)=>Hv(h[0]));f&&(o==="loader"&&c.hydrate===!0&&(f.hydrate=!0),f[Hr]=c,i[o]=f)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(i.middleware=e.middleware.map(o=>{let u=o[Hr]??o,c=bs(r.middleware,u,(...f)=>Hv(f[0]));return c?(c[Hr]=u,c):o})),i}function Ix(t,e){let r={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(o){let u=Object.keys(o);for(let c of u)o[c]&&r[c].push(o[c])}})),r.navigate.length>0){let i=t.navigate[Hr]??t.navigate,o=bs(r.navigate,i,(...u)=>{let[c,f]=u;return{to:typeof c=="number"||typeof c=="string"?c:c?Ba(c):".",...qv(t,f??{})}});o&&(o[Hr]=i,t.navigate=o)}if(r.fetch.length>0){let i=t.fetch[Hr]??t.fetch,o=bs(r.fetch,i,(...u)=>{let[c,,f,h]=u;return{href:f??".",fetcherKey:c,...qv(t,h??{})}});o&&(o[Hr]=i,t.fetch=o)}return t}function bs(t,e,r){return t.length===0?null:async(...i)=>{let o=await pw(t,r(...i),()=>e(...i),t.length-1);if(o.type==="error")throw o.value;return o.value}}async function pw(t,e,r,i){let o=t[i],u;if(o){let c,f=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=pw(t,e,r,i-1),u=await c,Ve(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(f,e)}catch(h){console.error("An instrumentation function threw an error:",h)}c||await f(),await c}else try{u={type:"success",value:await r()}}catch(c){u={type:"error",value:c}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Hv(t){let{request:e,context:r,params:i,unstable_pattern:o}=t;return{request:Gx(e),params:{...i},unstable_pattern:o,context:Kx(r)}}function qv(t,e){return{currentUrl:Ba(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function Gx(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function Kx(t){if(Fx(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var Yx=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fx(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===Yx}var gw=["POST","PUT","PATCH","DELETE"],Xx=new Set(gw),Jx=["GET",...gw],Wx=new Set(Jx),yw=new Set([301,302,303,307,308]),Qx=new Set([307,308]),Mf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},To={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),vw="remix-router-transitions",bw=Symbol("ResetLoaderData");function tT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],o=t.mapRouteProperties||eT,u=o;if(t.unstable_instrumentations){let O=t.unstable_instrumentations;u=U=>({...o(U),...qx(O.map(K=>K.route).filter(Boolean),U)})}let c={},f=Ho(t.routes,u,void 0,c),h,m=t.basename||"/";m.startsWith("/")||(m=`/${m}`);let y=t.dataStrategy||sT,g={...t.future},v=null,w=new Set,S=null,T=null,A=null,C=t.hydrationData!=null,D=Br(f,t.history.location,m),k=!1,J=null,Z;if(D==null&&!t.patchRoutesOnNavigation){let O=ua(404,{pathname:t.history.location.pathname}),{matches:U,route:K}=Su(f);Z=!0,D=U,J={[K.id]:O}}else if(D&&!t.hydrationData&&Lt(D,f,t.history.location.pathname).active&&(D=null),D)if(D.some(O=>O.route.lazy))Z=!1;else if(!D.some(O=>Xh(O.route)))Z=!0;else{let O=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null;if(U){let K=D.findIndex(ae=>U[ae.route.id]!==void 0);Z=D.slice(0,K+1).every(ae=>!lh(ae.route,O,U))}else Z=D.every(K=>!lh(K.route,O,U))}else{Z=!1,D=[];let O=Lt(null,f,t.history.location.pathname);O.active&&O.matches&&(k=!0,D=O.matches)}let G,x={historyAction:t.history.action,location:t.history.location,matches:D,initialized:Z,navigation:Mf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||J,fetchers:new Map,blockers:new Map},j="POP",Y=null,fe=!1,ye,Ae=!1,$e=new Map,Ue=null,xe=!1,B=!1,W=new Set,re=new Map,pe=0,L=-1,_=new Map,z=new Set,$=new Map,X=new Map,te=new Set,ie=new Map,se,le=null;function Se(){if(v=t.history.listen(({action:O,location:U,delta:K})=>{if(se){se(),se=void 0;return}Dt(ie.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=$a({currentLocation:x.location,nextLocation:U,historyAction:O});if(ae&&K!=null){let oe=new Promise(we=>{se=we});t.history.go(K*-1),ga(ae,{state:"blocked",location:U,proceed(){ga(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),oe.then(()=>t.history.go(K))},reset(){let we=new Map(x.blockers);we.set(ae,To),Oe({blockers:we})}}),Y?.resolve(),Y=null;return}return ct(O,U)}),r){xT(e,$e);let O=()=>TT(e,$e);e.addEventListener("pagehide",O),Ue=()=>e.removeEventListener("pagehide",O)}return x.initialized||ct("POP",x.location,{initialHydration:!0}),G}function Ye(){v&&v(),Ue&&Ue(),w.clear(),ye&&ye.abort(),x.fetchers.forEach((O,U)=>Sn(U)),x.blockers.forEach((O,U)=>Nn(U))}function He(O){return w.add(O),()=>w.delete(O)}function Oe(O,U={}){O.matches&&(O.matches=O.matches.map(oe=>{let we=c[oe.route.id],de=oe.route;return de.element!==we.element||de.errorElement!==we.errorElement||de.hydrateFallbackElement!==we.hydrateFallbackElement?{...oe,route:we}:oe})),x={...x,...O};let K=[],ae=[];x.fetchers.forEach((oe,we)=>{oe.state==="idle"&&(te.has(we)?K.push(we):ae.push(we))}),te.forEach(oe=>{!x.fetchers.has(oe)&&!re.has(oe)&&K.push(oe)}),[...w].forEach(oe=>oe(x,{deletedFetchers:K,newErrors:O.errors??null,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),K.forEach(oe=>Sn(oe)),ae.forEach(oe=>x.fetchers.delete(oe))}function at(O,U,{flushSync:K}={}){let ae=x.actionData!=null&&x.navigation.formMethod!=null&&gn(x.navigation.formMethod)&&x.navigation.state==="loading"&&O.state?._isRedirect!==!0,oe;U.actionData?Object.keys(U.actionData).length>0?oe=U.actionData:oe=null:ae?oe=x.actionData:oe=null;let we=U.loaderData?Zv(x.loaderData,U.loaderData,U.matches||[],U.errors):x.loaderData,de=x.blockers;de.size>0&&(de=new Map(de),de.forEach((Re,Ee)=>de.set(Ee,To)));let ce=xe?!1:Nt(O,U.matches||x.matches),he=fe===!0||x.navigation.formMethod!=null&&gn(x.navigation.formMethod)&&O.state?._isRedirect!==!0;h&&(f=h,h=void 0),xe||j==="POP"||(j==="PUSH"?t.history.push(O,O.state):j==="REPLACE"&&t.history.replace(O,O.state));let be;if(j==="POP"){let Re=$e.get(x.location.pathname);Re&&Re.has(O.pathname)?be={currentLocation:x.location,nextLocation:O}:$e.has(O.pathname)&&(be={currentLocation:O,nextLocation:x.location})}else if(Ae){let Re=$e.get(x.location.pathname);Re?Re.add(O.pathname):(Re=new Set([O.pathname]),$e.set(x.location.pathname,Re)),be={currentLocation:x.location,nextLocation:O}}Oe({...U,actionData:oe,loaderData:we,historyAction:j,location:O,initialized:!0,navigation:Mf,revalidation:"idle",restoreScrollPosition:ce,preventScrollReset:he,blockers:de},{viewTransitionOpts:be,flushSync:K===!0}),j="POP",fe=!1,Ae=!1,xe=!1,B=!1,Y?.resolve(),Y=null,le?.resolve(),le=null}async function je(O,U){if(Y?.resolve(),Y=null,typeof O=="number"){Y||(Y=a0());let Fe=Y.promise;return t.history.go(O),Fe}let K=oh(x.location,x.matches,m,O,U?.fromRouteId,U?.relative),{path:ae,submission:oe,error:we}=Iv(!1,K,U),de=x.location,ce=$o(x.location,ae,U&&U.state);ce={...ce,...t.history.encodeLocation(ce)};let he=U&&U.replace!=null?U.replace:void 0,be="PUSH";he===!0?be="REPLACE":he===!1||oe!=null&&gn(oe.formMethod)&&oe.formAction===x.location.pathname+x.location.search&&(be="REPLACE");let Re=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Ee=(U&&U.flushSync)===!0,Ze=$a({currentLocation:de,nextLocation:ce,historyAction:be});if(Ze){ga(Ze,{state:"blocked",location:ce,proceed(){ga(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),je(O,U)},reset(){let Fe=new Map(x.blockers);Fe.set(Ze,To),Oe({blockers:Fe})}});return}await ct(be,ce,{submission:oe,pendingError:we,preventScrollReset:Re,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:Ee,callSiteDefaultShouldRevalidate:U&&U.unstable_defaultShouldRevalidate})}function Tt(){le||(le=a0()),Oa(),Oe({revalidation:"loading"});let O=le.promise;return x.navigation.state==="submitting"?O:x.navigation.state==="idle"?(ct(x.historyAction,x.location,{startUninterruptedRevalidation:!0}),O):(ct(j||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:Ae===!0}),O)}async function ct(O,U,K){ye&&ye.abort(),ye=null,j=O,xe=(K&&K.startUninterruptedRevalidation)===!0,ft(x.location,x.matches),fe=(K&&K.preventScrollReset)===!0,Ae=(K&&K.enableViewTransition)===!0;let ae=h||f,oe=K&&K.overrideNavigation,we=K?.initialHydration&&x.matches&&x.matches.length>0&&!k?x.matches:Br(ae,U,m),de=(K&&K.flushSync)===!0;if(we&&x.initialized&&!B&&mT(x.location,U)&&!(K&&K.submission&&gn(K.submission.formMethod))){at(U,{matches:we},{flushSync:de});return}let ce=Lt(we,ae,U.pathname);if(ce.active&&ce.matches&&(we=ce.matches),!we){let{error:Rt,notFoundMatches:At,route:Xe}=ya(U.pathname);at(U,{matches:At,loaderData:{},errors:{[Xe.id]:Rt}},{flushSync:de});return}ye=new AbortController;let he=ps(t.history,U,ye.signal,K&&K.submission),be=t.getContext?await t.getContext():new Bv,Re;if(K&&K.pendingError)Re=[Pr(we).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&gn(K.submission.formMethod)){let Rt=await jt(he,U,K.submission,we,be,ce.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:de});if(Rt.shortCircuited)return;if(Rt.pendingActionResult){let[At,Xe]=Rt.pendingActionResult;if(Kn(Xe)&&qo(Xe.error)&&Xe.error.status===404){ye=null,at(U,{matches:Rt.matches,loaderData:{},errors:{[At]:Xe.error}});return}}we=Rt.matches||we,Re=Rt.pendingActionResult,oe=Df(U,K.submission),de=!1,ce.active=!1,he=ps(t.history,he.url,he.signal)}let{shortCircuited:Ee,matches:Ze,loaderData:Fe,errors:St}=await an(he,U,we,be,ce.active,oe,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,de,Re,K&&K.callSiteDefaultShouldRevalidate);Ee||(ye=null,at(U,{matches:Ze||we,...e0(Re),loaderData:Fe,errors:St}))}async function jt(O,U,K,ae,oe,we,de,ce={}){Oa();let he=ST(U,K);if(Oe({navigation:he},{flushSync:ce.flushSync===!0}),we){let Ee=await Ln(ae,U.pathname,O.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){if(Ee.partialMatches.length===0){let{matches:Fe,route:St}=Su(f);return{matches:Fe,pendingActionResult:[St.id,{type:"error",error:Ee.error}]}}let Ze=Pr(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[Ze,{type:"error",error:Ee.error}]}}else if(Ee.matches)ae=Ee.matches;else{let{notFoundMatches:Ze,error:Fe,route:St}=ya(U.pathname);return{matches:Ze,pendingActionResult:[St.id,{type:"error",error:Fe}]}}}let be,Re=Uu(ae,U);if(!Re.route.action&&!Re.route.lazy)be={type:"error",error:ua(405,{method:O.method,pathname:U.pathname,routeId:Re.route.id})};else{let Ee=Ts(u,c,O,ae,Re,de?[]:i,oe),Ze=await ma(O,Ee,oe,null);if(be=Ze[Re.route.id],!be){for(let Fe of ae)if(Ze[Fe.route.id]){be=Ze[Fe.route.id];break}}if(O.signal.aborted)return{shortCircuited:!0}}if(Si(be)){let Ee;return ce&&ce.replace!=null?Ee=ce.replace:Ee=Jv(be.response.headers.get("Location"),new URL(O.url),m,t.history)===x.location.pathname+x.location.search,await dt(O,be,!0,{submission:K,replace:Ee}),{shortCircuited:!0}}if(Kn(be)){let Ee=Pr(ae,Re.route.id);return(ce&&ce.replace)!==!0&&(j="PUSH"),{matches:ae,pendingActionResult:[Ee.route.id,be,Re.route.id]}}return{matches:ae,pendingActionResult:[Re.route.id,be]}}async function an(O,U,K,ae,oe,we,de,ce,he,be,Re,Ee,Ze){let Fe=we||Df(U,de),St=de||ce||n0(Fe),Rt=!xe&&!be;if(oe){if(Rt){let Ut=bt(Ee);Oe({navigation:Fe,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:Re})}let Je=await Ln(K,U.pathname,O.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){if(Je.partialMatches.length===0){let{matches:wa,route:rn}=Su(f);return{matches:wa,loaderData:{},errors:{[rn.id]:Je.error}}}let Ut=Pr(Je.partialMatches).route.id;return{matches:Je.partialMatches,loaderData:{},errors:{[Ut]:Je.error}}}else if(Je.matches)K=Je.matches;else{let{error:Ut,notFoundMatches:wa,route:rn}=ya(U.pathname);return{matches:wa,loaderData:{},errors:{[rn.id]:Ut}}}}let At=h||f,{dsMatches:Xe,revalidatingFetchers:en}=Gv(O,ae,u,c,t.history,x,K,St,U,be?[]:i,be===!0,B,W,te,$,z,At,m,t.patchRoutesOnNavigation!=null,Ee,Ze);if(L=++pe,!t.dataStrategy&&!Xe.some(Je=>Je.shouldLoad)&&!Xe.some(Je=>Je.route.middleware&&Je.route.middleware.length>0)&&en.length===0){let Je=Ft();return at(U,{matches:K,loaderData:{},errors:Ee&&Kn(Ee[1])?{[Ee[0]]:Ee[1].error}:null,...e0(Ee),...Je?{fetchers:new Map(x.fetchers)}:{}},{flushSync:Re}),{shortCircuited:!0}}if(Rt){let Je={};if(!oe){Je.navigation=Fe;let Ut=bt(Ee);Ut!==void 0&&(Je.actionData=Ut)}en.length>0&&(Je.fetchers=Qt(en)),Oe(Je,{flushSync:Re})}en.forEach(Je=>{pt(Je.key),Je.controller&&re.set(Je.key,Je.controller)});let xn=()=>en.forEach(Je=>pt(Je.key));ye&&ye.signal.addEventListener("abort",xn);let{loaderResults:wt,fetcherResults:va}=await jn(Xe,en,O,ae);if(O.signal.aborted)return{shortCircuited:!0};ye&&ye.signal.removeEventListener("abort",xn),en.forEach(Je=>re.delete(Je.key));let Un=Eu(wt);if(Un)return await dt(O,Un.result,!0,{replace:he}),{shortCircuited:!0};if(Un=Eu(va),Un)return z.add(Un.key),await dt(O,Un.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:ba,errors:Qn}=Qv(x,K,wt,Ee,en,va);be&&x.errors&&(Qn={...x.errors,...Qn});let qa=Ft(),Jr=Oi(L),Wr=qa||Jr||en.length>0;return{matches:K,loaderData:ba,errors:Qn,...Wr?{fetchers:new Map(x.fetchers)}:{}}}function bt(O){if(O&&!Kn(O[1]))return{[O[0]]:O[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Qt(O){return O.forEach(U=>{let K=x.fetchers.get(U.key),ae=Ro(void 0,K?K.data:void 0);x.fetchers.set(U.key,ae)}),new Map(x.fetchers)}async function Va(O,U,K,ae){pt(O);let oe=(ae&&ae.flushSync)===!0,we=h||f,de=oh(x.location,x.matches,m,K,U,ae?.relative),ce=Br(we,de,m),he=Lt(ce,we,de);if(he.active&&he.matches&&(ce=he.matches),!ce){Zt(O,U,ua(404,{pathname:de}),{flushSync:oe});return}let{path:be,submission:Re,error:Ee}=Iv(!0,de,ae);if(Ee){Zt(O,U,Ee,{flushSync:oe});return}let Ze=t.getContext?await t.getContext():new Bv,Fe=(ae&&ae.preventScrollReset)===!0;if(Re&&gn(Re.formMethod)){await Kt(O,U,be,ce,Ze,he.active,oe,Fe,Re,ae&&ae.unstable_defaultShouldRevalidate);return}$.set(O,{routeId:U,path:be}),await Jn(O,U,be,ce,Ze,he.active,oe,Fe,Re)}async function Kt(O,U,K,ae,oe,we,de,ce,he,be){Oa(),$.delete(O);let Re=x.fetchers.get(O);Yt(O,ET(he,Re),{flushSync:de});let Ee=new AbortController,Ze=ps(t.history,K,Ee.signal,he);if(we){let We=await Ln(ae,new URL(Ze.url).pathname,Ze.signal,O);if(We.type==="aborted")return;if(We.type==="error"){Zt(O,U,We.error,{flushSync:de});return}else if(We.matches)ae=We.matches;else{Zt(O,U,ua(404,{pathname:K}),{flushSync:de});return}}let Fe=Uu(ae,K);if(!Fe.route.action&&!Fe.route.lazy){let We=ua(405,{method:he.formMethod,pathname:K,routeId:U});Zt(O,U,We,{flushSync:de});return}re.set(O,Ee);let St=pe,Rt=Ts(u,c,Ze,ae,Fe,i,oe),At=await ma(Ze,Rt,oe,O),Xe=At[Fe.route.id];if(!Xe){for(let We of Rt)if(At[We.route.id]){Xe=At[We.route.id];break}}if(Ze.signal.aborted){re.get(O)===Ee&&re.delete(O);return}if(te.has(O)){if(Si(Xe)||Kn(Xe)){Yt(O,or(void 0));return}}else{if(Si(Xe))if(re.delete(O),L>St){Yt(O,or(void 0));return}else return z.add(O),Yt(O,Ro(he)),dt(Ze,Xe,!1,{fetcherSubmission:he,preventScrollReset:ce});if(Kn(Xe)){Zt(O,U,Xe.error);return}}let en=x.navigation.location||x.location,xn=ps(t.history,en,Ee.signal),wt=h||f,va=x.navigation.state!=="idle"?Br(wt,x.navigation.location,m):x.matches;Ve(va,"Didn't find any matches after fetcher action");let Un=++pe;_.set(O,Un);let ba=Ro(he,Xe.data);x.fetchers.set(O,ba);let{dsMatches:Qn,revalidatingFetchers:qa}=Gv(xn,oe,u,c,t.history,x,va,he,en,i,!1,B,W,te,$,z,wt,m,t.patchRoutesOnNavigation!=null,[Fe.route.id,Xe],be);qa.filter(We=>We.key!==O).forEach(We=>{let Qr=We.key,dl=x.fetchers.get(Qr),Ns=Ro(void 0,dl?dl.data:void 0);x.fetchers.set(Qr,Ns),pt(Qr),We.controller&&re.set(Qr,We.controller)}),Oe({fetchers:new Map(x.fetchers)});let Jr=()=>qa.forEach(We=>pt(We.key));Ee.signal.addEventListener("abort",Jr);let{loaderResults:Wr,fetcherResults:Je}=await jn(Qn,qa,xn,oe);if(Ee.signal.aborted)return;if(Ee.signal.removeEventListener("abort",Jr),_.delete(O),re.delete(O),qa.forEach(We=>re.delete(We.key)),x.fetchers.has(O)){let We=or(Xe.data);x.fetchers.set(O,We)}let Ut=Eu(Wr);if(Ut)return dt(xn,Ut.result,!1,{preventScrollReset:ce});if(Ut=Eu(Je),Ut)return z.add(Ut.key),dt(xn,Ut.result,!1,{preventScrollReset:ce});let{loaderData:wa,errors:rn}=Qv(x,va,Wr,void 0,qa,Je);Oi(Un),x.navigation.state==="loading"&&Un>L?(Ve(j,"Expected pending action"),ye&&ye.abort(),at(x.navigation.location,{matches:va,loaderData:wa,errors:rn,fetchers:new Map(x.fetchers)})):(Oe({errors:rn,loaderData:Zv(x.loaderData,wa,va,rn),fetchers:new Map(x.fetchers)}),B=!1)}async function Jn(O,U,K,ae,oe,we,de,ce,he){let be=x.fetchers.get(O);Yt(O,Ro(he,be?be.data:void 0),{flushSync:de});let Re=new AbortController,Ee=ps(t.history,K,Re.signal);if(we){let Xe=await Ln(ae,new URL(Ee.url).pathname,Ee.signal,O);if(Xe.type==="aborted")return;if(Xe.type==="error"){Zt(O,U,Xe.error,{flushSync:de});return}else if(Xe.matches)ae=Xe.matches;else{Zt(O,U,ua(404,{pathname:K}),{flushSync:de});return}}let Ze=Uu(ae,K);re.set(O,Re);let Fe=pe,St=Ts(u,c,Ee,ae,Ze,i,oe),At=(await ma(Ee,St,oe,O))[Ze.route.id];if(re.get(O)===Re&&re.delete(O),!Ee.signal.aborted){if(te.has(O)){Yt(O,or(void 0));return}if(Si(At))if(L>Fe){Yt(O,or(void 0));return}else{z.add(O),await dt(Ee,At,!1,{preventScrollReset:ce});return}if(Kn(At)){Zt(O,U,At.error);return}Yt(O,or(At.data))}}async function dt(O,U,K,{submission:ae,fetcherSubmission:oe,preventScrollReset:we,replace:de}={}){K||(Y?.resolve(),Y=null),U.response.headers.has("X-Remix-Revalidate")&&(B=!0);let ce=U.response.headers.get("Location");Ve(ce,"Expected a Location header on the redirect Response"),ce=Jv(ce,new URL(O.url),m,t.history);let he=$o(x.location,ce,{_isRedirect:!0});if(r){let St=!1;if(U.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(rc(ce)){const Rt=lw(ce,!0);St=Rt.origin!==e.location.origin||fa(Rt.pathname,m)==null}if(St){de?e.location.replace(ce):e.location.assign(ce);return}}ye=null;let be=de===!0||U.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Re,formAction:Ee,formEncType:Ze}=x.navigation;!ae&&!oe&&Re&&Ee&&Ze&&(ae=n0(x.navigation));let Fe=ae||oe;if(Qx.has(U.response.status)&&Fe&&gn(Fe.formMethod))await ct(be,he,{submission:{...Fe,formAction:ce},preventScrollReset:we||fe,enableViewTransition:K?Ae:void 0});else{let St=Df(he,ae);await ct(be,he,{overrideNavigation:St,fetcherSubmission:oe,preventScrollReset:we||fe,enableViewTransition:K?Ae:void 0})}}async function ma(O,U,K,ae){let oe,we={};try{oe=await lT(y,O,U,ae,K,!1)}catch(de){return U.filter(ce=>ce.shouldLoad).forEach(ce=>{we[ce.route.id]={type:"error",error:de}}),we}if(O.signal.aborted)return we;if(!gn(O.method))for(let de of U){if(oe[de.route.id]?.type==="error")break;!oe.hasOwnProperty(de.route.id)&&!x.loaderData.hasOwnProperty(de.route.id)&&(!x.errors||!x.errors.hasOwnProperty(de.route.id))&&de.shouldCallHandler()&&(oe[de.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${de.route.id}`)})}for(let[de,ce]of Object.entries(oe))if(vT(ce)){let he=ce.result;we[de]={type:"redirect",response:fT(he,O,de,U,m)}}else we[de]=await dT(ce);return we}async function jn(O,U,K,ae){let oe=ma(K,O,ae,null),we=Promise.all(U.map(async he=>{if(he.matches&&he.match&&he.request&&he.controller){let Re=(await ma(he.request,he.matches,ae,he.key))[he.match.route.id];return{[he.key]:Re}}else return Promise.resolve({[he.key]:{type:"error",error:ua(404,{pathname:he.path})}})})),de=await oe,ce=(await we).reduce((he,be)=>Object.assign(he,be),{});return{loaderResults:de,fetcherResults:ce}}function Oa(){B=!0,$.forEach((O,U)=>{re.has(U)&&W.add(U),pt(U)})}function Yt(O,U,K={}){x.fetchers.set(O,U),Oe({fetchers:new Map(x.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Zt(O,U,K,ae={}){let oe=Pr(x.matches,U);Sn(O),Oe({errors:{[oe.route.id]:K},fetchers:new Map(x.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function vn(O){return X.set(O,(X.get(O)||0)+1),te.has(O)&&te.delete(O),x.fetchers.get(O)||Zx}function ka(O,U){pt(O,U?.reason),Yt(O,or(null))}function Sn(O){let U=x.fetchers.get(O);re.has(O)&&!(U&&U.state==="loading"&&_.has(O))&&pt(O),$.delete(O),_.delete(O),z.delete(O),te.delete(O),W.delete(O),x.fetchers.delete(O)}function pa(O){let U=(X.get(O)||0)-1;U<=0?(X.delete(O),te.add(O)):X.set(O,U),Oe({fetchers:new Map(x.fetchers)})}function pt(O,U){let K=re.get(O);K&&(K.abort(U),re.delete(O))}function En(O){for(let U of O){let K=vn(U),ae=or(K.data);x.fetchers.set(U,ae)}}function Ft(){let O=[],U=!1;for(let K of z){let ae=x.fetchers.get(K);Ve(ae,`Expected fetcher: ${K}`),ae.state==="loading"&&(z.delete(K),O.push(K),U=!0)}return En(O),U}function Oi(O){let U=[];for(let[K,ae]of _)if(ae<O){let oe=x.fetchers.get(K);Ve(oe,`Expected fetcher: ${K}`),oe.state==="loading"&&(pt(K),_.delete(K),U.push(K))}return En(U),U.length>0}function Xr(O,U){let K=x.blockers.get(O)||To;return ie.get(O)!==U&&ie.set(O,U),K}function Nn(O){x.blockers.delete(O),ie.delete(O)}function ga(O,U){let K=x.blockers.get(O)||To;Ve(K.state==="unblocked"&&U.state==="blocked"||K.state==="blocked"&&U.state==="blocked"||K.state==="blocked"&&U.state==="proceeding"||K.state==="blocked"&&U.state==="unblocked"||K.state==="proceeding"&&U.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${U.state}`);let ae=new Map(x.blockers);ae.set(O,U),Oe({blockers:ae})}function $a({currentLocation:O,nextLocation:U,historyAction:K}){if(ie.size===0)return;ie.size>1&&Dt(!1,"A router only supports one blocker at a time");let ae=Array.from(ie.entries()),[oe,we]=ae[ae.length-1],de=x.blockers.get(oe);if(!(de&&de.state==="proceeding")&&we({currentLocation:O,nextLocation:U,historyAction:K}))return oe}function ya(O){let U=ua(404,{pathname:O}),K=h||f,{matches:ae,route:oe}=Su(K);return{notFoundMatches:ae,route:oe,error:U}}function Wn(O,U,K){if(S=O,A=U,T=K||null,!C&&x.navigation===Mf){C=!0;let ae=Nt(x.location,x.matches);ae!=null&&Oe({restoreScrollPosition:ae})}return()=>{S=null,A=null,T=null}}function De(O,U){return T&&T(O,U.map(ae=>Tx(ae,x.loaderData)))||O.key}function ft(O,U){if(S&&A){let K=De(O,U);S[K]=A()}}function Nt(O,U){if(S){let K=De(O,U),ae=S[K];if(typeof ae=="number")return ae}return null}function Lt(O,U,K){if(t.patchRoutesOnNavigation)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:ko(U,K,m,!0)}}else return{active:!0,matches:ko(U,K,m,!0)||[]};return{active:!1,matches:null}}async function Ln(O,U,K,ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:O};let oe=O;for(;;){let we=h==null,de=h||f,ce=c;try{await t.patchRoutesOnNavigation({signal:K,path:U,matches:oe,fetcherKey:ae,patch:(Re,Ee)=>{K.aborted||Kv(Re,Ee,de,ce,u,!1)}})}catch(Re){return{type:"error",error:Re,partialMatches:oe}}finally{we&&!K.aborted&&(f=[...f])}if(K.aborted)return{type:"aborted"};let he=Br(de,U,m),be=null;if(he){if(Object.keys(he[0].params).length===0)return{type:"success",matches:he};if(be=ko(de,U,m,!0),!(be&&oe.length<be.length&&ht(oe,be.slice(0,oe.length))))return{type:"success",matches:he}}if(be||(be=ko(de,U,m,!0)),!be||ht(oe,be))return{type:"success",matches:null};oe=be}}function ht(O,U){return O.length===U.length&&O.every((K,ae)=>K.route.id===U[ae].route.id)}function hn(O){c={},h=Ho(O,u,void 0,c)}function Ha(O,U,K=!1){let ae=h==null;Kv(O,U,h||f,c,u,K),ae&&(f=[...f],Oe({}))}return G={get basename(){return m},get future(){return g},get state(){return x},get routes(){return f},get window(){return e},initialize:Se,subscribe:He,enableScrollRestoration:Wn,navigate:je,fetch:Va,revalidate:Tt,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:vn,resetFetcher:ka,deleteFetcher:pa,dispose:Ye,getBlocker:Xr,deleteBlocker:Nn,patchRoutes:Ha,_internalFetchControllers:re,_internalSetRoutes:hn,_internalSetStateDoNotUseOrYouWillBreakYourApp(O){Oe(O)}},t.unstable_instrumentations&&(G=Ix(G,t.unstable_instrumentations.map(O=>O.router).filter(Boolean))),G}function nT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function oh(t,e,r,i,o,u){let c,f;if(o){c=[];for(let m of e)if(c.push(m),m.route.id===o){f=m;break}}else c=e,f=e[e.length-1];let h=sc(i||".",ic(c),fa(t.pathname,r)||t.pathname,u==="path");if(i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&f){let m=Wh(h.search);if(f.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let y=new URLSearchParams(h.search),g=y.getAll("index");y.delete("index"),g.filter(w=>w).forEach(w=>y.append("index",w));let v=y.toString();h.search=v?`?${v}`:""}}return r!=="/"&&(h.pathname=Bx({basename:r,pathname:h.pathname})),Ba(h)}function Iv(t,e,r){if(!r||!nT(r))return{path:e};if(r.formMethod&&!_T(r.formMethod))return{path:e,error:ua(405,{method:r.formMethod})};let i=()=>({path:e,error:ua(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),c=Tw(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!gn(u))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,[w,S])=>`${v}${w}=${S}
`,""):String(r.body);return{path:e,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!gn(u))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let f,h;if(r.formData)f=ch(r.formData),h=r.formData;else if(r.body instanceof FormData)f=ch(r.body),h=r.body;else if(r.body instanceof URLSearchParams)f=r.body,h=Wv(f);else if(r.body==null)f=new URLSearchParams,h=new FormData;else try{f=new URLSearchParams(r.body),h=Wv(f)}catch{return i()}let m={formMethod:u,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(gn(m.formMethod))return{path:e,submission:m};let y=Kr(e);return t&&y.search&&Wh(y.search)&&f.append("index",""),y.search=`?${f}`,{path:Ba(y),submission:m}}function Gv(t,e,r,i,o,u,c,f,h,m,y,g,v,w,S,T,A,C,D,k,J){let Z=k?Kn(k[1])?k[1].error:k[1].data:void 0,G=o.createURL(u.location),x=o.createURL(h),j;if(y&&u.errors){let xe=Object.keys(u.errors)[0];j=c.findIndex(B=>B.route.id===xe)}else if(k&&Kn(k[1])){let xe=k[0];j=c.findIndex(B=>B.route.id===xe)-1}let Y=k?k[1].statusCode:void 0,fe=Y&&Y>=400,ye={currentUrl:G,currentParams:u.matches[0]?.params||{},nextUrl:x,nextParams:c[0].params,...f,actionResult:Z,actionStatus:Y},Ae=al(c),$e=c.map((xe,B)=>{let{route:W}=xe,re=null;if(j!=null&&B>j?re=!1:W.lazy?re=!0:Xh(W)?y?re=lh(W,u.loaderData,u.errors):aT(u.loaderData,u.matches[B],xe)&&(re=!0):re=!1,re!==null)return uh(r,i,t,Ae,xe,m,e,re);let pe=!1;typeof J=="boolean"?pe=J:fe?pe=!1:(g||G.pathname+G.search===x.pathname+x.search||G.search!==x.search||rT(u.matches[B],xe))&&(pe=!0);let L={...ye,defaultShouldRevalidate:pe},_=No(xe,L);return uh(r,i,t,Ae,xe,m,e,_,L,J)}),Ue=[];return S.forEach((xe,B)=>{if(y||!c.some(X=>X.route.id===xe.routeId)||w.has(B))return;let W=u.fetchers.get(B),re=W&&W.state!=="idle"&&W.data===void 0,pe=Br(A,xe.path,C);if(!pe){if(D&&re)return;Ue.push({key:B,routeId:xe.routeId,path:xe.path,matches:null,match:null,request:null,controller:null});return}if(T.has(B))return;let L=Uu(pe,xe.path),_=new AbortController,z=ps(o,xe.path,_.signal),$=null;if(v.has(B))v.delete(B),$=Ts(r,i,z,pe,L,m,e);else if(re)g&&($=Ts(r,i,z,pe,L,m,e));else{let X;typeof J=="boolean"?X=J:fe?X=!1:X=g;let te={...ye,defaultShouldRevalidate:X};No(L,te)&&($=Ts(r,i,z,pe,L,m,e,te))}$&&Ue.push({key:B,routeId:xe.routeId,path:xe.path,matches:$,match:L,request:z,controller:_})}),{dsMatches:$e,revalidatingFetchers:Ue}}function Xh(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function lh(t,e,r){if(t.lazy)return!0;if(!Xh(t))return!1;let i=e!=null&&t.id in e,o=r!=null&&r[t.id]!==void 0;return!i&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!o}function aT(t,e,r){let i=!e||r.route.id!==e.route.id,o=!t.hasOwnProperty(r.route.id);return i||o}function rT(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function No(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function Kv(t,e,r,i,o,u){let c;if(t){let m=i[t];Ve(m,`No route found to patch children into: routeId = ${t}`),m.children||(m.children=[]),c=m.children}else c=r;let f=[],h=[];if(e.forEach(m=>{let y=c.find(g=>ww(m,g));y?h.push({existingRoute:y,newRoute:m}):f.push(m)}),f.length>0){let m=Ho(f,o,[t||"_","patch",String(c?.length||"0")],i);c.push(...m)}if(u&&h.length>0)for(let m=0;m<h.length;m++){let{existingRoute:y,newRoute:g}=h[m],v=y,[w]=Ho([g],o,[],{},!0);Object.assign(v,{element:w.element?w.element:v.element,errorElement:w.errorElement?w.errorElement:v.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:v.hydrateFallbackElement})}}function ww(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,i)=>e.children?.some(o=>ww(r,o))):!1}var Yv=new WeakMap,_w=({key:t,route:e,manifest:r,mapRouteProperties:i})=>{let o=r[e.id];if(Ve(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[t];if(!u)return;let c=Yv.get(o);c||(c={},Yv.set(o,c));let f=c[t];if(f)return f;let h=(async()=>{let m=_x(t),g=o[t]!==void 0&&t!=="hasErrorBoundary";if(m)Dt(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(g)Dt(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await u();v!=null&&(Object.assign(o,{[t]:v}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(v=>v===void 0)&&(o.lazy=void 0))})();return c[t]=h,h},Fv=new WeakMap;function iT(t,e,r,i,o){let u=r[t.id];if(Ve(u,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=Fv.get(u);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let g=(async()=>{Ve(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),w={};for(let S in v){let T=v[S];if(T===void 0)continue;let A=Ex(S),D=u[S]!==void 0&&S!=="hasErrorBoundary";A?Dt(!A,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?Dt(!D,`Route "${u.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):w[S]=T}Object.assign(u,w),Object.assign(u,{...i(u),lazy:void 0})})();return Fv.set(u,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(t.lazy),f=[],h;for(let y of c){if(o&&o.includes(y))continue;let g=_w({key:y,route:t,manifest:r,mapRouteProperties:i});g&&(f.push(g),y===e&&(h=g))}let m=f.length>0?Promise.all(f).then(()=>{}):void 0;return m?.catch(()=>{}),h?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:h}}async function Xv(t){let e=t.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{r[e[u].route.id]=o}),r}async function sT(t){return t.matches.some(e=>e.route.middleware)?Sw(t,()=>Xv(t)):Xv(t)}function Sw(t,e){return oT(t,e,i=>{if(wT(i))throw i;return i},gT,r);function r(i,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:i}}));{let{matches:c}=t,f=Math.min(Math.max(c.findIndex(m=>m.route.id===o),0),Math.max(c.findIndex(m=>m.shouldCallHandler()),0)),h=Pr(c,c[f].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:i}})}}}async function oT(t,e,r,i,o){let{matches:u,request:c,params:f,context:h,unstable_pattern:m}=t,y=u.flatMap(v=>v.route.middleware?v.route.middleware.map(w=>[v.route.id,w]):[]);return await Ew({request:c,params:f,context:h,unstable_pattern:m},y,e,r,i,o)}async function Ew(t,e,r,i,o,u,c=0){let{request:f}=t;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let h=e[c];if(!h)return await r();let[m,y]=h,g,v=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await Ew(t,e,r,i,o,u,c+1)},g.value}catch(w){return g={value:await u(w,m,g)},g.value}};try{let w=await y(t,v),S=w!=null?i(w):void 0;return o(S)?S:g?S??g.value:(g={value:await v()},g.value)}catch(w){return await u(w,m,g)}}function xw(t,e,r,i,o){let u=_w({key:"middleware",route:i.route,manifest:e,mapRouteProperties:t}),c=iT(i.route,gn(r.method)?"action":"loader",e,t,o);return{middleware:u,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function uh(t,e,r,i,o,u,c,f,h=null,m){let y=!1,g=xw(t,e,r,o,u);return{...o,_lazyPromises:g,shouldLoad:f,shouldRevalidateArgs:h,shouldCallHandler(v){return y=!0,h?typeof m=="boolean"?No(o,{...h,defaultShouldRevalidate:m}):typeof v=="boolean"?No(o,{...h,defaultShouldRevalidate:v}):No(o,h):f},resolve(v){let{lazy:w,loader:S,middleware:T}=o.route,A=y||f||v&&!gn(r.method)&&(w||S),C=T&&T.length>0&&!S&&!w;return A&&(gn(r.method)||!C)?uT({request:r,unstable_pattern:i,match:o,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Ts(t,e,r,i,o,u,c,f=null){return i.map(h=>h.route.id!==o.route.id?{...h,shouldLoad:!1,shouldRevalidateArgs:f,shouldCallHandler:()=>!1,_lazyPromises:xw(t,e,r,h,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:uh(t,e,r,al(i),h,u,c,!0,f))}async function lT(t,e,r,i,o,u){r.some(m=>m._lazyPromises?.middleware)&&await Promise.all(r.map(m=>m._lazyPromises?.middleware));let c={request:e,unstable_pattern:al(r),params:r[0].params,context:o,matches:r},h=await t({...c,fetcherKey:i,runClientMiddleware:m=>{let y=c;return Sw(y,()=>m({...y,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return h}async function uT({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:i,lazyRoutePromise:o,handlerOverride:u,scopedContext:c}){let f,h,m=gn(t.method),y=m?"action":"loader",g=v=>{let w,S=new Promise((C,D)=>w=D);h=()=>w(),t.signal.addEventListener("abort",h);let T=C=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${r.route.id}]`)):v({request:t,unstable_pattern:e,params:r.params,context:c},...C!==void 0?[C]:[]),A=(async()=>{try{return{type:"data",result:await(u?u(D=>T(D)):T())}}catch(C){return{type:"error",result:C}}})();return Promise.race([A,S])};try{let v=m?r.route.action:r.route.loader;if(i||o)if(v){let w,[S]=await Promise.all([g(v).catch(T=>{w=T}),i,o]);if(w!==void 0)throw w;f=S}else{await i;let w=m?r.route.action:r.route.loader;if(w)[f]=await Promise.all([g(w),o]);else if(y==="action"){let S=new URL(t.url),T=S.pathname+S.search;throw ua(405,{method:t.method,pathname:T,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(v)f=await g(v);else{let w=new URL(t.url),S=w.pathname+w.search;throw ua(404,{pathname:S})}}catch(v){return{type:"error",result:v}}finally{h&&t.signal.removeEventListener("abort",h)}return f}async function cT(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function dT(t){let{result:e,type:r}=t;if(Jh(e)){let i;try{i=await cT(e)}catch(o){return{type:"error",error:o}}return r==="error"?{type:"error",error:new nl(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return r==="error"?t0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:pT(e),statusCode:qo(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:qo(e)?e.status:void 0}:t0(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function fT(t,e,r,i,o){let u=t.headers.get("Location");if(Ve(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!rc(u)){let c=i.slice(0,i.findIndex(f=>f.route.id===r)+1);u=oh(new URL(e.url),c,o,u),t.headers.set("Location",u)}return t}function Jv(t,e,r,i){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(rc(t)){let u=t,c=u.startsWith("//")?new URL(e.protocol+u):new URL(u);if(o.includes(c.protocol))throw new Error("Invalid redirect location");let f=fa(c.pathname,r)!=null;if(c.origin===e.origin&&f)return c.pathname+c.search+c.hash}try{let u=i.createURL(t);if(o.includes(u.protocol))throw new Error("Invalid redirect location")}catch{}return t}function ps(t,e,r,i){let o=t.createURL(Tw(e)).toString(),u={signal:r};if(i&&gn(i.formMethod)){let{formMethod:c,formEncType:f}=i;u.method=c.toUpperCase(),f==="application/json"?(u.headers=new Headers({"Content-Type":f}),u.body=JSON.stringify(i.json)):f==="text/plain"?u.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?u.body=ch(i.formData):u.body=i.formData}return new Request(o,u)}function ch(t){let e=new URLSearchParams;for(let[r,i]of t.entries())e.append(r,typeof i=="string"?i:i.name);return e}function Wv(t){let e=new FormData;for(let[r,i]of t.entries())e.append(r,i);return e}function hT(t,e,r,i=!1,o=!1){let u={},c=null,f,h=!1,m={},y=r&&Kn(r[1])?r[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let v=g.route.id,w=e[v];if(Ve(!Si(w),"Cannot handle redirect results in processLoaderData"),Kn(w)){let S=w.error;if(y!==void 0&&(S=y,y=void 0),c=c||{},o)c[v]=S;else{let T=Pr(t,v);c[T.route.id]==null&&(c[T.route.id]=S)}i||(u[v]=bw),h||(h=!0,f=qo(w.error)?w.error.status:500),w.headers&&(m[v]=w.headers)}else u[v]=w.data,w.statusCode&&w.statusCode!==200&&!h&&(f=w.statusCode),w.headers&&(m[v]=w.headers)}),y!==void 0&&r&&(c={[r[0]]:y},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:c,statusCode:f||200,loaderHeaders:m}}function Qv(t,e,r,i,o,u){let{loaderData:c,errors:f}=hT(e,r,i);return o.filter(h=>!h.matches||h.matches.some(m=>m.shouldLoad)).forEach(h=>{let{key:m,match:y,controller:g}=h;if(g&&g.signal.aborted)return;let v=u[m];if(Ve(v,"Did not find corresponding fetcher result"),Kn(v)){let w=Pr(t.matches,y?.route.id);f&&f[w.route.id]||(f={...f,[w.route.id]:v.error}),t.fetchers.delete(m)}else if(Si(v))Ve(!1,"Unhandled fetcher revalidation redirect");else{let w=or(v.data);t.fetchers.set(m,w)}}),{loaderData:c,errors:f}}function Zv(t,e,r,i){let o=Object.entries(e).filter(([,u])=>u!==bw).reduce((u,[c,f])=>(u[c]=f,u),{});for(let u of r){let c=u.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&u.route.loader&&(o[c]=t[c]),i&&i.hasOwnProperty(c))break}return o}function e0(t){return t?Kn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Pr(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Su(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ua(t,{pathname:e,routeId:r,method:i,type:o,message:u}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(c="Bad Request",i&&e&&r?f=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):t===403?(c="Forbidden",f=`Route "${r}" does not match URL "${e}"`):t===404?(c="Not Found",f=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",i&&e&&r?f=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:i&&(f=`Invalid request method "${i.toUpperCase()}"`)),new nl(t||500,c,new Error(f),!0)}function Eu(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[i,o]=e[r];if(Si(o))return{key:i,result:o}}}function Tw(t){let e=typeof t=="string"?Kr(t):t;return Ba({...e,hash:""})}function mT(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function pT(t){return new nl(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function gT(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&yT(r))}function yT(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function vT(t){return Jh(t.result)&&yw.has(t.result.status)}function Kn(t){return t.type==="error"}function Si(t){return(t&&t.type)==="redirect"}function t0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Jh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function bT(t){return yw.has(t)}function wT(t){return Jh(t)&&bT(t.status)&&t.headers.has("Location")}function _T(t){return Wx.has(t.toUpperCase())}function gn(t){return Xx.has(t.toUpperCase())}function Wh(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Uu(t,e){let r=typeof e=="string"?Kr(e).search:e.search;if(t[t.length-1].route.index&&Wh(r||""))return t[t.length-1];let i=fw(t);return i[i.length-1]}function n0(t){let{formMethod:e,formAction:r,formEncType:i,text:o,formData:u,json:c}=t;if(!(!e||!r||!i)){if(o!=null)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:r,formEncType:i,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:r,formEncType:i,formData:void 0,json:c,text:void 0}}}function Df(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ST(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ro(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ET(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function or(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function xT(t,e){try{let r=t.sessionStorage.getItem(vw);if(r){let i=JSON.parse(r);for(let[o,u]of Object.entries(i||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function TT(t,e){if(e.size>0){let r={};for(let[i,o]of e)r[i]=[...o];try{t.sessionStorage.setItem(vw,JSON.stringify(r))}catch(i){Dt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function a0(){let t,e,r=new Promise((i,o)=>{t=async u=>{i(u);try{await r}catch{}},e=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var Ai=R.createContext(null);Ai.displayName="DataRouter";var rl=R.createContext(null);rl.displayName="DataRouterState";var Rw=R.createContext(!1);function RT(){return R.useContext(Rw)}var Qh=R.createContext({isTransitioning:!1});Qh.displayName="ViewTransition";var Aw=R.createContext(new Map);Aw.displayName="Fetchers";var AT=R.createContext(null);AT.displayName="Await";var Xn=R.createContext(null);Xn.displayName="Navigation";var oc=R.createContext(null);oc.displayName="Location";var ha=R.createContext({outlet:null,matches:[],isDataRoute:!1});ha.displayName="Route";var Zh=R.createContext(null);Zh.displayName="RouteError";var Cw="REACT_ROUTER_ERROR",CT="REDIRECT",OT="ROUTE_ERROR_RESPONSE";function kT(t){if(t.startsWith(`${Cw}:${CT}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function MT(t){if(t.startsWith(`${Cw}:${OT}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nl(e.status,e.statusText,e.data)}catch{}}function DT(t,{relative:e}={}){Ve(ks(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=R.useContext(Xn),{hash:o,pathname:u,search:c}=il(t,{relative:e}),f=u;return r!=="/"&&(f=u==="/"?r:Ua([r,u])),i.createHref({pathname:f,search:c,hash:o})}function ks(){return R.useContext(oc)!=null}function Yr(){return Ve(ks(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(oc).location}var Ow="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kw(t){R.useContext(Xn).static||R.useLayoutEffect(t)}function Ci(){let{isDataRoute:t}=R.useContext(ha);return t?YT():jT()}function jT(){Ve(ks(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Ai),{basename:e,navigator:r}=R.useContext(Xn),{matches:i}=R.useContext(ha),{pathname:o}=Yr(),u=JSON.stringify(ic(i)),c=R.useRef(!1);return kw(()=>{c.current=!0}),R.useCallback((h,m={})=>{if(Dt(c.current,Ow),!c.current)return;if(typeof h=="number"){r.go(h);return}let y=sc(h,JSON.parse(u),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ua([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,u,o,t])}var Mw=R.createContext(null);function NT(){return R.useContext(Mw)}function LT(t){let e=R.useContext(ha).outlet;return R.useMemo(()=>e&&R.createElement(Mw.Provider,{value:t},e),[e,t])}function Dw(){let{matches:t}=R.useContext(ha),e=t[t.length-1];return e?e.params:{}}function il(t,{relative:e}={}){let{matches:r}=R.useContext(ha),{pathname:i}=Yr(),o=JSON.stringify(ic(r));return R.useMemo(()=>sc(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function UT(t,e,r,i,o){Ve(ks(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=R.useContext(Xn),{matches:c}=R.useContext(ha),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",g=f&&f.route;{let D=g&&g.path||"";Nw(m,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=Yr(),w;w=v;let S=w.pathname||"/",T=S;if(y!=="/"){let D=y.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=Br(t,{pathname:T});return Dt(g||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Dt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$T(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:Ua([y,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:Ua([y,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,r,i,o)}function zT(){let t=KT(),e=qo(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),r?R.createElement("pre",{style:o},r):null,c)}var BT=R.createElement(zT,null),jw=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=MT(t.digest);r&&(t=r)}let e=t!==void 0?R.createElement(ha.Provider,{value:this.props.routeContext},R.createElement(Zh.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(PT,{error:t},e):e}};jw.contextType=Rw;var jf=new WeakMap;function PT({children:t,error:e}){let{basename:r}=R.useContext(Xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=kT(e.digest);if(i){let o=jf.get(e);if(o)throw o;let u=mw(i.location,r);if(hw&&!jf.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw jf.set(e,c),c}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function VT({routeContext:t,match:e,children:r}){let i=R.useContext(Ai);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(ha.Provider,{value:t},r)}function $T(t,e=[],r=null,i=null,o=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,c=r?.errors;if(c!=null){let y=u.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Ve(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let f=!1,h=-1;if(r)for(let y=0;y<u.length;y++){let g=u[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=y),g.route.id){let{loaderData:v,errors:w}=r,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let m=r&&i?(y,g)=>{i(y,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:al(r.matches),errorInfo:g})}:void 0;return u.reduceRight((y,g,v)=>{let w,S=!1,T=null,A=null;r&&(w=c&&g.route.id?c[g.route.id]:void 0,T=g.route.errorElement||BT,f&&(h<0&&v===0?(Nw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):h===v&&(S=!0,A=g.route.hydrateFallbackElement||null)));let C=e.concat(u.slice(0,v+1)),D=()=>{let k;return w?k=T:S?k=A:g.route.Component?k=R.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=y,R.createElement(VT,{match:g,routeContext:{outlet:y,matches:C,isDataRoute:r!=null},children:k})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?R.createElement(jw,{location:r.location,revalidation:r.revalidation,component:T,error:w,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):D()},null)}function em(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HT(t){let e=R.useContext(Ai);return Ve(e,em(t)),e}function qT(t){let e=R.useContext(rl);return Ve(e,em(t)),e}function IT(t){let e=R.useContext(ha);return Ve(e,em(t)),e}function tm(t){let e=IT(t),r=e.matches[e.matches.length-1];return Ve(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function GT(){return tm("useRouteId")}function KT(){let t=R.useContext(Zh),e=qT("useRouteError"),r=tm("useRouteError");return t!==void 0?t:e.errors?.[r]}function YT(){let{router:t}=HT("useNavigate"),e=tm("useNavigate"),r=R.useRef(!1);return kw(()=>{r.current=!0}),R.useCallback(async(o,u={})=>{Dt(r.current,Ow),r.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var r0={};function Nw(t,e,r){!e&&!r0[t]&&(r0[t]=!0,Dt(!1,r))}var i0={};function s0(t,e){!t&&!i0[e]&&(i0[e]=!0,console.warn(e))}var FT="useOptimistic",o0=lx[FT],XT=()=>{};function JT(t){return o0?o0(t):[t,XT]}function WT(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Dt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:R.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Dt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:R.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Dt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:R.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var QT=["HydrateFallback","hydrateFallbackElement"],ZT=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",r(i))}})}};function eR({router:t,flushSync:e,onError:r,unstable_useTransitions:i}){i=RT()||i;let[u,c]=R.useState(t.state),[f,h]=JT(u),[m,y]=R.useState(),[g,v]=R.useState({isTransitioning:!1}),[w,S]=R.useState(),[T,A]=R.useState(),[C,D]=R.useState(),k=R.useRef(new Map),J=R.useCallback((j,{deletedFetchers:Y,newErrors:fe,flushSync:ye,viewTransitionOpts:Ae})=>{fe&&r&&Object.values(fe).forEach(Ue=>r(Ue,{location:j.location,params:j.matches[0]?.params??{},unstable_pattern:al(j.matches)})),j.fetchers.forEach((Ue,xe)=>{Ue.data!==void 0&&k.current.set(xe,Ue.data)}),Y.forEach(Ue=>k.current.delete(Ue)),s0(ye===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let $e=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(s0(Ae==null||$e,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Ae||!$e){e&&ye?e(()=>c(j)):i===!1?c(j):R.startTransition(()=>{i===!0&&h(Ue=>l0(Ue,j)),c(j)});return}if(e&&ye){e(()=>{T&&(w?.resolve(),T.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:Ae.currentLocation,nextLocation:Ae.nextLocation})});let Ue=t.window.document.startViewTransition(()=>{e(()=>c(j))});Ue.finished.finally(()=>{e(()=>{S(void 0),A(void 0),y(void 0),v({isTransitioning:!1})})}),e(()=>A(Ue));return}T?(w?.resolve(),T.skipTransition(),D({state:j,currentLocation:Ae.currentLocation,nextLocation:Ae.nextLocation})):(y(j),v({isTransitioning:!0,flushSync:!1,currentLocation:Ae.currentLocation,nextLocation:Ae.nextLocation}))},[t.window,e,T,w,i,h,r]);R.useLayoutEffect(()=>t.subscribe(J),[t,J]),R.useEffect(()=>{g.isTransitioning&&!g.flushSync&&S(new ZT)},[g]),R.useEffect(()=>{if(w&&m&&t.window){let j=m,Y=w.promise,fe=t.window.document.startViewTransition(async()=>{i===!1?c(j):R.startTransition(()=>{i===!0&&h(ye=>l0(ye,j)),c(j)}),await Y});fe.finished.finally(()=>{S(void 0),A(void 0),y(void 0),v({isTransitioning:!1})}),A(fe)}},[m,w,t.window,i,h]),R.useEffect(()=>{w&&m&&f.location.key===m.location.key&&w.resolve()},[w,T,f.location,m]),R.useEffect(()=>{!g.isTransitioning&&C&&(y(C.state),v({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),D(void 0))},[g.isTransitioning,C]);let Z=R.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:j=>t.navigate(j),push:(j,Y,fe)=>t.navigate(j,{state:Y,preventScrollReset:fe?.preventScrollReset}),replace:(j,Y,fe)=>t.navigate(j,{replace:!0,state:Y,preventScrollReset:fe?.preventScrollReset})}),[t]),G=t.basename||"/",x=R.useMemo(()=>({router:t,navigator:Z,static:!1,basename:G,onError:r}),[t,Z,G,r]);return R.createElement(R.Fragment,null,R.createElement(Ai.Provider,{value:x},R.createElement(rl.Provider,{value:f},R.createElement(Aw.Provider,{value:k.current},R.createElement(Qh.Provider,{value:g},R.createElement(iR,{basename:G,location:f.location,navigationType:f.historyAction,navigator:Z,unstable_useTransitions:i},R.createElement(tR,{routes:t.routes,future:t.future,state:f,onError:r})))))),null)}function l0(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var tR=R.memo(nR);function nR({routes:t,future:e,state:r,onError:i}){return UT(t,void 0,r,i,e)}function aR({to:t,replace:e,state:r,relative:i}){Ve(ks(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(Xn);Dt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(ha),{pathname:c}=Yr(),f=Ci(),h=sc(t,ic(u),c,i==="path"),m=JSON.stringify(h);return R.useEffect(()=>{f(JSON.parse(m),{replace:e,state:r,relative:i})},[f,m,i,e,r]),null}function rR(t){return LT(t.context)}function iR({basename:t="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Ve(!ks(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:f,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[f,o,u,c]);typeof r=="string"&&(r=Kr(r));let{pathname:m="/",search:y="",hash:g="",state:v=null,key:w="default"}=r,S=R.useMemo(()=>{let T=fa(m,f);return T==null?null:{location:{pathname:T,search:y,hash:g,state:v,key:w},navigationType:i}},[f,m,y,g,v,w,i]);return Dt(S!=null,`<Router basename="${f}"> is not able to match the URL "${m}${y}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(Xn.Provider,{value:h},R.createElement(oc.Provider,{children:e,value:S}))}var zu="get",Bu="application/x-www-form-urlencoded";function lc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function sR(t){return lc(t)&&t.tagName.toLowerCase()==="button"}function oR(t){return lc(t)&&t.tagName.toLowerCase()==="form"}function lR(t){return lc(t)&&t.tagName.toLowerCase()==="input"}function uR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cR(t,e){return t.button===0&&(!e||e==="_self")&&!uR(t)}var xu=null;function dR(){if(xu===null)try{new FormData(document.createElement("form"),0),xu=!1}catch{xu=!0}return xu}var fR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nf(t){return t!=null&&!fR.has(t)?(Dt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bu}"`),null):t}function hR(t,e){let r,i,o,u,c;if(oR(t)){let f=t.getAttribute("action");i=f?fa(f,e):null,r=t.getAttribute("method")||zu,o=Nf(t.getAttribute("enctype"))||Bu,u=new FormData(t)}else if(sR(t)||lR(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(i=h?fa(h,e):null,r=t.getAttribute("formmethod")||f.getAttribute("method")||zu,o=Nf(t.getAttribute("formenctype"))||Nf(f.getAttribute("enctype"))||Bu,u=new FormData(f,t),!dR()){let{name:m,type:y,value:g}=t;if(y==="image"){let v=m?`${m}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else m&&u.append(m,g)}}else{if(lc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=zu,i=null,o=Bu,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mR(t,e,r,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&fa(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function pR(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yR(t,e,r){let i=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await pR(u,r);return c.links?c.links():[]}return[]}));return _R(i.flat(1).filter(gR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function u0(t,e,r,i,o,u){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,f=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return u==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):u==="data"?e.filter((h,m)=>{let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function vR(t,e,{includeHydrateFallback:r}={}){return bR(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function bR(t){return[...new Set(t)]}function wR(t){let e={},r=Object.keys(t).sort();for(let i of r)e[i]=t[i];return e}function _R(t,e){let r=new Set;return new Set(e),t.reduce((i,o)=>{let u=JSON.stringify(wR(o));return r.has(u)||(r.add(u),i.push({key:u,link:o})),i},[])}function Lw(){let t=R.useContext(Ai);return nm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function SR(){let t=R.useContext(rl);return nm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var am=R.createContext(void 0);am.displayName="FrameworkContext";function Uw(){let t=R.useContext(am);return nm(t,"You must render this element inside a <HydratedRouter> element"),t}function ER(t,e){let r=R.useContext(am),[i,o]=R.useState(!1),[u,c]=R.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:g}=e,v=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let T=C=>{C.forEach(D=>{c(D.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),R.useEffect(()=>{if(i){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[i]);let w=()=>{o(!0)},S=()=>{o(!1),c(!1)};return r?t!=="intent"?[u,v,{}]:[u,v,{onFocus:Ao(f,w),onBlur:Ao(h,S),onMouseEnter:Ao(m,w),onMouseLeave:Ao(y,S),onTouchStart:Ao(g,w)}]:[!1,v,{}]}function Ao(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function xR({page:t,...e}){let{router:r}=Lw(),i=R.useMemo(()=>Br(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?R.createElement(RR,{page:t,matches:i,...e}):null}function TR(t){let{manifest:e,routeModules:r}=Uw(),[i,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return yR(t,e,r).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,r]),i}function RR({page:t,matches:e,...r}){let i=Yr(),{future:o,manifest:u,routeModules:c}=Uw(),{basename:f}=Lw(),{loaderData:h,matches:m}=SR(),y=R.useMemo(()=>u0(t,e,m,u,i,"data"),[t,e,m,u,i]),g=R.useMemo(()=>u0(t,e,m,u,i,"assets"),[t,e,m,u,i]),v=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let T=new Set,A=!1;if(e.forEach(D=>{let k=u.routes[D.route.id];!k||!k.hasLoader||(!y.some(J=>J.route.id===D.route.id)&&D.route.id in h&&c[D.route.id]?.shouldRevalidate||k.hasClientLoader?A=!0:T.add(D.route.id))}),T.size===0)return[];let C=mR(t,f,o.unstable_trailingSlashAwareDataRequests,"data");return A&&T.size>0&&C.searchParams.set("_routes",e.filter(D=>T.has(D.route.id)).map(D=>D.route.id).join(",")),[C.pathname+C.search]},[f,o.unstable_trailingSlashAwareDataRequests,h,i,u,y,e,t,c]),w=R.useMemo(()=>vR(g,u),[g,u]),S=TR(g);return R.createElement(R.Fragment,null,v.map(T=>R.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),w.map(T=>R.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),S.map(({key:T,link:A})=>R.createElement("link",{key:T,nonce:r.nonce,...A})))}function AR(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var CR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CR&&(window.__reactRouterVersion="7.12.0")}catch{}function OR(t,e){return tT({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:yx({window:e?.window}),hydrationData:kR(),routes:t,mapRouteProperties:WT,hydrationRouteProperties:QT,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function kR(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:MR(t.errors)}),t}function MR(t){if(!t)return null;let e=Object.entries(t),r={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")r[i]=new nl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let c=new u(o.message);c.stack="",r[i]=c}catch{}}if(r[i]==null){let u=new Error(o.message);u.stack="",r[i]=u}}else r[i]=o;return r}var zw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bw=R.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:o,reloadDocument:u,replace:c,state:f,target:h,to:m,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:v,...w},S){let{basename:T,unstable_useTransitions:A}=R.useContext(Xn),C=typeof m=="string"&&zw.test(m),D=mw(m,T);m=D.to;let k=DT(m,{relative:o}),[J,Z,G]=ER(i,w),x=LR(m,{replace:c,state:f,target:h,preventScrollReset:y,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:A});function j(fe){e&&e(fe),fe.defaultPrevented||x(fe)}let Y=R.createElement("a",{...w,...G,href:D.absoluteURL||k,onClick:D.isExternal||u?e:j,ref:AR(S,Z),target:h,"data-discover":!C&&r==="render"?"true":void 0});return J&&!C?R.createElement(R.Fragment,null,Y,R.createElement(xR,{page:k})):Y});Bw.displayName="Link";var DR=R.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:o=!1,style:u,to:c,viewTransition:f,children:h,...m},y){let g=il(c,{relative:m.relative}),v=Yr(),w=R.useContext(rl),{navigator:S,basename:T}=R.useContext(Xn),A=w!=null&&VR(g)&&f===!0,C=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,D=v.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(D=D.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&T&&(k=fa(k,T)||k);const J=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Z=D===C||!o&&D.startsWith(C)&&D.charAt(J)==="/",G=k!=null&&(k===C||!o&&k.startsWith(C)&&k.charAt(C.length)==="/"),x={isActive:Z,isPending:G,isTransitioning:A},j=Z?e:void 0,Y;typeof i=="function"?Y=i(x):Y=[i,Z?"active":null,G?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let fe=typeof u=="function"?u(x):u;return R.createElement(Bw,{...m,"aria-current":j,className:Y,ref:y,style:fe,to:c,viewTransition:f},typeof h=="function"?h(x):h)});DR.displayName="NavLink";var jR=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:u,method:c=zu,action:f,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:v,...w},S)=>{let{unstable_useTransitions:T}=R.useContext(Xn),A=BR(),C=PR(f,{relative:m}),D=c.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&zw.test(f),J=Z=>{if(h&&h(Z),Z.defaultPrevented)return;Z.preventDefault();let G=Z.nativeEvent.submitter,x=G?.getAttribute("formmethod")||c,j=()=>A(G||Z.currentTarget,{fetcherKey:e,method:x,navigate:r,replace:o,state:u,relative:m,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:v});T&&r!==!1?R.startTransition(()=>j()):j()};return R.createElement("form",{ref:S,method:D,action:C,onSubmit:i?h:J,...w,"data-discover":!k&&t==="render"?"true":void 0})});jR.displayName="Form";function NR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pw(t){let e=R.useContext(Ai);return Ve(e,NR(t)),e}function LR(t,{target:e,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let m=Ci(),y=Yr(),g=il(t,{relative:u});return R.useCallback(v=>{if(cR(v,e)){v.preventDefault();let w=r!==void 0?r:Ba(y)===Ba(g),S=()=>m(t,{replace:w,state:i,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});h?R.startTransition(()=>S()):S()}},[y,m,g,r,i,e,t,o,u,c,f,h])}var UR=0,zR=()=>`__${String(++UR)}__`;function BR(){let{router:t}=Pw("useSubmit"),{basename:e}=R.useContext(Xn),r=GT(),i=t.fetch,o=t.navigate;return R.useCallback(async(u,c={})=>{let{action:f,method:h,encType:m,formData:y,body:g}=hR(u,e);if(c.navigate===!1){let v=c.fetcherKey||zR();await i(v,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:g,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:g,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,o,e,r])}function PR(t,{relative:e}={}){let{basename:r}=R.useContext(Xn),i=R.useContext(ha);Ve(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...il(t||".",{relative:e})},c=Yr();if(t==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(g=>g).forEach(g=>f.append("index",g));let y=f.toString();u.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Ua([r,u.pathname])),Ba(u)}function VR(t,{relative:e}={}){let r=R.useContext(Qh);Ve(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Pw("useViewTransitionState"),o=il(t,{relative:e});if(!r.isTransitioning)return!1;let u=fa(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=fa(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Iu(o.pathname,c)!=null||Iu(o.pathname,u)!=null}var Vw=sw();const $R=iw(Vw);function HR(t){return R.createElement(eR,{flushSync:Vw.flushSync,...t})}const qR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,i)=>i?i.toUpperCase():r.toLowerCase()),c0=t=>{const e=IR(t);return e.charAt(0).toUpperCase()+e.slice(1)},$w=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim(),GR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var KR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YR=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:c,...f},h)=>R.createElement("svg",{ref:h,...KR,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:$w("lucide",o),...!u&&!GR(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,y])=>R.createElement(m,y)),...Array.isArray(u)?u:[u]]));const Pt=(t,e)=>{const r=R.forwardRef(({className:i,...o},u)=>R.createElement(YR,{ref:u,iconNode:e,className:$w(`lucide-${qR(c0(t))}`,`lucide-${t}`,i),...o}));return r.displayName=c0(t),r};const FR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],XR=Pt("arrow-left",FR);const JR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],d0=Pt("arrow-right",JR);const WR=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QR=Pt("ban",WR);const ZR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eA=Pt("circle-question-mark",ZR);const tA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nA=Pt("clock",tA);const aA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rA=Pt("copy",aA);const iA=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],sA=Pt("crown",iA);const oA=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],lA=Pt("door-open",oA);const uA=[["path",{d:"m17 3-5 5-5-5h10",key:"1ftt6x"}],["path",{d:"m17 21-5-5-5 5h10",key:"1m0wmu"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]],cA=Pt("flip-vertical-2",uA);const dA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gu=Pt("loader-circle",dA);const fA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hA=Pt("log-out",fA);const mA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pA=Pt("mail",mA);const gA=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],yA=Pt("palette",gA);const vA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],bA=Pt("play",vA);const wA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_A=Pt("plus",wA);const SA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],EA=Pt("rotate-ccw",SA);const xA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TA=Pt("settings",xA);const RA=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],AA=Pt("skip-forward",RA);const CA=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],OA=Pt("trophy",CA);const kA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ku=Pt("user",kA);const MA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DA=Pt("x",MA);function uc(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r}function jA(t,e,r,i){function o(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function f(y){try{m(i.next(y))}catch(g){c(g)}}function h(y){try{m(i.throw(y))}catch(g){c(g)}}function m(y){y.done?u(y.value):o(y.value).then(f,h)}m((i=i.apply(t,e||[])).next())})}const NA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class rm extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class LA extends rm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class f0 extends rm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class h0 extends rm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dh||(dh={}));class UA{constructor(e,{headers:r={},customFetch:i,region:o=dh.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=NA(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return jA(this,arguments,void 0,function*(r,i={}){var o;let u,c;try{const{headers:f,method:h,body:m,signal:y,timeout:g}=i;let v={},{region:w}=i;w||(w=this.region);const S=new URL(`${this.url}/${r}`);w&&w!=="any"&&(v["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let T;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",T=m):typeof m=="string"?(v["Content-Type"]="text/plain",T=m):typeof FormData<"u"&&m instanceof FormData?T=m:(v["Content-Type"]="application/json",T=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?T=JSON.stringify(m):T=m;let A=y;g&&(c=new AbortController,u=setTimeout(()=>c.abort(),g),y?(A=c.signal,y.addEventListener("abort",()=>c.abort())):A=c.signal);const C=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),f),body:T,signal:A}).catch(Z=>{throw new LA(Z)}),D=C.headers.get("x-relay-error");if(D&&D==="true")throw new f0(C);if(!C.ok)throw new h0(C);let k=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),J;return k==="application/json"?J=yield C.json():k==="application/octet-stream"||k==="application/pdf"?J=yield C.blob():k==="text/event-stream"?J=C:k==="multipart/form-data"?J=yield C.formData():J=yield C.text(),{data:J,error:null,response:C}}catch(f){return{data:null,error:f,response:f instanceof h0||f instanceof f0?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var zA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},BA=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,f=null,h=null,m=u.status,y=u.statusText;if(u.ok){var g,v;if(r.method!=="HEAD"){var w;const C=await u.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?f=C:f=JSON.parse(C))}const T=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),A=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");T&&A&&A.length>1&&(h=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var S;const T=await u.text();try{c=JSON.parse(T),Array.isArray(c)&&u.status===404&&(f=[],c=null,m=200,y="OK")}catch{u.status===404&&T===""?(m=204,y="No Content"):c={message:T}}if(c&&r.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&r.shouldThrowOnError)throw new zA(c)}return{error:c,data:f,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let f="";const h=u?.cause;if(h){var m,y,g,v;const S=(m=h?.message)!==null&&m!==void 0?m:"",T=(y=h?.code)!==null&&y!==void 0?y:"";f=`${(g=u?.name)!==null&&g!==void 0?g:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(v=h?.name)!==null&&v!==void 0?v:"Error"}: ${S}`,T&&(f+=` (${T})`),h?.stack&&(f+=`
${h.stack}`)}else{var w;f=(w=u?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},PA=class extends BA{select(t){let e=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(u,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:u="text"}={}){var c;const f=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const m0=new RegExp("[,()]");var gs=class extends PA{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&m0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&m0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${u}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},VA=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET";let u=!1;const c=(t??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join(""),{url:f,headers:h}=this.cloneRequestState();return f.searchParams.set("select",c),i&&h.append("Prefer",`count=${i}`),new gs({method:o,url:f,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;const o="POST",{url:u,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),r||c.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);u.searchParams.set("columns",h.join(","))}}return new gs({method:o,url:u,headers:c,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var u;const c="POST",{url:f,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&f.searchParams.set("on_conflict",e),i&&h.append("Prefer",`count=${i}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(m.length>0){const y=[...new Set(m)].map(g=>`"${g}"`);f.searchParams.set("columns",y.join(","))}}return new gs({method:c,url:f,headers:h,schema:this.schema,body:t,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(t,{count:e}={}){var r;const i="PATCH",{url:o,headers:u}=this.cloneRequestState();return e&&u.append("Prefer",`count=${e}`),new gs({method:i,url:o,headers:u,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new gs({method:r,url:i,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},$A=class Hw{constructor(e,{headers:r={},schema:i,fetch:o}={}){this.url=e,this.headers=new Headers(r),this.schemaName=i,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new VA(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Hw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:i=!1,get:o=!1,count:u}={}){var c;let f;const h=new URL(`${this.url}/rpc/${e}`);let m;const y=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(y)),g=i&&Object.values(r).some(y);g?(f="POST",m=r):i||o?(f=i?"HEAD":"GET",Object.entries(r).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{h.searchParams.append(w,S)})):(f="POST",m=r);const v=new Headers(this.headers);return g?v.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&v.set("Prefer",`count=${u}`),new gs({method:f,url:h,headers:v,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class HA{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const o=i.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qA="2.90.1",IA=`realtime-js/${qA}`,qw="1.0.0",GA="2.0.0",p0=qw,fh=1e4,KA=1e3,YA=100;var zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zr||(zr={}));var Jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jt||(Jt={}));var Ca;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ca||(Ca={}));var hh;(function(t){t.websocket="websocket"})(hh||(hh={}));var wi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wi||(wi={}));class FA{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,i){var o,u;const c=e.topic,f=(o=e.ref)!==null&&o!==void 0?o:"",h=(u=e.join_ref)!==null&&u!==void 0?u:"",m=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+c.length+m.length+g.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(w),T=0;S.setUint8(T++,this.KINDS.userBroadcastPush),S.setUint8(T++,h.length),S.setUint8(T++,f.length),S.setUint8(T++,c.length),S.setUint8(T++,m.length),S.setUint8(T++,g.length),S.setUint8(T++,r),Array.from(h,C=>S.setUint8(T++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(T++,C.charCodeAt(0))),Array.from(c,C=>S.setUint8(T++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(T++,C.charCodeAt(0))),Array.from(g,C=>S.setUint8(T++,C.charCodeAt(0)));var A=new Uint8Array(w.byteLength+i.byteLength);return A.set(new Uint8Array(w),0),A.set(new Uint8Array(i),w.byteLength),A.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,u,c,f,h]=i;return r({join_ref:o,ref:u,topic:c,event:f,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,o)}_decodeUserBroadcast(e,r,i){const o=r.getUint8(1),u=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=i.decode(e.slice(h,h+o));h=h+o;const y=i.decode(e.slice(h,h+u));h=h+u;const g=i.decode(e.slice(h,h+c));h=h+c;const v=e.slice(h,e.byteLength),w=f===this.JSON_ENCODING?JSON.parse(i.decode(v)):v,S={type:this.BROADCAST_EVENT,event:y,payload:w};return c>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class Iw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mt||(mt={}));const g0=(t,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((u,c)=>(u[c]=XA(c,t,e,o),u),{}):{}},XA=(t,e,r,i)=>{const o=e.find(f=>f.name===t),u=o?.type,c=r[t];return u&&!i.includes(u)?Gw(u,c):mh(c)},Gw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ZA(e,r)}switch(t){case mt.bool:return JA(e);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return WA(e);case mt.json:case mt.jsonb:return QA(e);case mt.timestamp:return eC(e);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return mh(e);default:return mh(e)}},mh=t=>t,JA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},WA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},QA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ZA=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let u;const c=t.slice(1,r);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>Gw(e,f))}return t},eC=t=>typeof t=="string"?t.replace(" ","T"):t,Kw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lf{constructor(e,r,i={},o=fh){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var y0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(y0||(y0={}));class Lo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lo.syncState(this.state,o,u,c),this.pendingDiffs.forEach(h=>{this.state=Lo.syncDiff(this.state,h,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Lo.syncDiff(this.state,o,u,c),f())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const u=this.cloneDeep(e),c=this.transformState(r),f={},h={};return this.map(u,(m,y)=>{c[m]||(h[m]=y)}),this.map(c,(m,y)=>{const g=u[m];if(g){const v=y.map(A=>A.presence_ref),w=g.map(A=>A.presence_ref),S=y.filter(A=>w.indexOf(A.presence_ref)<0),T=g.filter(A=>v.indexOf(A.presence_ref)<0);S.length>0&&(f[m]=S),T.length>0&&(h[m]=T)}else f[m]=y}),this.syncDiff(u,{joins:f,leaves:h},i,o)}static syncDiff(e,r,i,o){const{joins:u,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(f,h)=>{var m;const y=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(h),y.length>0){const g=e[f].map(w=>w.presence_ref),v=y.filter(w=>g.indexOf(w.presence_ref)<0);e[f].unshift(...v)}i(f,y,h)}),this.map(c,(f,h)=>{let m=e[f];if(!m)return;const y=h.map(g=>g.presence_ref);m=m.filter(g=>y.indexOf(g.presence_ref)<0),e[f]=m,o(f,m,h),m.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var v0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(v0||(v0={}));var Uo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Uo||(Uo={}));var lr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(lr||(lr={}));class ws{constructor(e,r={config:{}},i){var o,u;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lf(this,Ca.join,this.params,this.timeout),this.rejoinTimer=new Iw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ca.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new Lo(this),this.broadcastEndpointURL=Kw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Uo.PRESENCE]&&this.bindings[Uo.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,g={},v={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(lr.CHANNEL_ERROR,w)),this._onClose(()=>e?.(lr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e?.(lr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,A=(S=T?.length)!==null&&S!==void 0?S:0,C=[];for(let D=0;D<A;D++){const k=T[D],{filter:{event:J,schema:Z,table:G,filter:x}}=k,j=w&&w[D];if(j&&j.event===J&&ws.isFilterValueEqual(j.schema,Z)&&ws.isFilterValueEqual(j.table,G)&&ws.isFilterValueEqual(j.filter,x))C.push(Object.assign(Object.assign({},k),{id:j.id}));else{this.unsubscribe(),this.state=Jt.errored,e?.(lr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(lr.SUBSCRIBED);return}}).receive("error",w=>{this.state=Jt.errored,e?.(lr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(lr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===Jt.joined&&e===Uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ca.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Lf(this,Ca.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(u),c}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Lf(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>YA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,u;const c=e.toLocaleLowerCase(),{close:f,error:h,leave:m,join:y}=Ca;if(i&&[f,h,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let v=this._onMessage(c,r,i);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var S,T,A;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((A=(T=w.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(w=>w.callback(v,i)):(u=this.bindings[c])===null||u===void 0||u.filter(w=>{var S,T,A,C,D,k,J,Z;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const G=w.id,x=(S=w.filter)===null||S===void 0?void 0:S.event;return G&&((T=r.ids)===null||T===void 0?void 0:T.includes(G))&&(x==="*"||x?.toLocaleLowerCase()===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))&&(!(!((C=w.filter)===null||C===void 0)&&C.table)||w.filter.table===((D=r.data)===null||D===void 0?void 0:D.table))}else{const G=(J=(k=w?.filter)===null||k===void 0?void 0:k.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return G==="*"||G===((Z=r?.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:T,table:A,commit_timestamp:C,type:D,errors:k}=S;v=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:C,eventType:D,new:{},old:{},errors:k}),this._getPayloadRecords(S))}w.callback(v,i)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),u={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&ws.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ca.close,{},e)}_onError(e){this._on(Ca.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=g0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=g0(e.columns,e.old_record)),r}}const Uf=()=>{},Tu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tC=[1e3,2e3,5e3,1e4],nC=1e4,aC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rC{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fh,this.transport=null,this.heartbeatIntervalMs=Tu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uf,this.ref=0,this.reconnectTimer=null,this.vsn=p0,this.logger=Uf,this.conn=null,this.sendBuffer=[],this.serializer=new FA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${hh.websocket}`,this.httpEndpoint=Kw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return wi.Connecting;case zr.open:return wi.Open;case zr.closing:return wi.Closing;default:return wi.Closed}}isConnected(){return this.connectionState()===wi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new ws(`realtime:${e}`,r,this);return this.channels.push(u),u}}push(e){const{topic:r,event:i,payload:o,ref:u}=e,c=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${i} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(KA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Tu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:u,ref:c}=r,f=c?`(${c})`:"",h=u.status||"";this.log("receive",`${h} ${i} ${o} ${f}`.trim(),u),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,u,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===zr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zr.open||this.conn.readyState===zr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ca.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([aC],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,i=!1;if(e)r=e,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const u={access_token:r,version:IA};r&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Ca.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Iw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,u,c,f,h,m,y,g,v,w;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:fh,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Tu.HEARTBEAT_INTERVAL,this.worker=(u=e?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Uf,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:p0,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(S=>tC[S-1]||nC),this.vsn){case qw:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((S,T)=>T(JSON.stringify(S))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:((S,T)=>T(JSON.parse(S)));break;case GA:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Io=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iC(t,e,r){const i=new URL(e,t);if(r)for(const[o,u]of Object.entries(r))u!==void 0&&i.searchParams.set(o,u);return i.toString()}async function sC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function oC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:o,body:u,headers:c}){const f=iC(t.baseUrl,i,o),h=await sC(t.auth),m=await e(f,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...h,...c},body:u?JSON.stringify(u):void 0}),y=await m.text(),g=(m.headers.get("content-type")||"").includes("application/json"),v=g&&y?JSON.parse(y):y;if(!m.ok){const w=g?v:void 0,S=w?.error;throw new Io(S?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:S?.type,icebergCode:S?.code,details:w})}return{status:m.status,headers:m.headers,data:v}}}}function Ru(t){return t.join("")}var lC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ru(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ru(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ru(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ru(t.namespace)}`}),!0}catch(e){if(e instanceof Io&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Io&&r.status===409)return;throw r}}};function us(t){return t.join("")}var uC=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${us(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${us(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${us(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${us(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${us(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${us(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Io&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Io&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},cC=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=oC({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new lC(this.client,e),this.tableOps=new uC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},cc=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var dC=class extends cc{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ph=class extends cc{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const im=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fC=()=>Response,gh=t=>{if(Array.isArray(t))return t.map(r=>gh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[o]=gh(i)}),e},hC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function pC(t,e){if(Go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Go(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gC(t){var e=pC(t,"string");return Go(e)=="symbol"?e:e+""}function yC(t,e,r){return(e=gC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b0(Object(r),!0).forEach(function(i){yC(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b0(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const zf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},vC=async(t,e,r)=>{t instanceof await fC()&&!r?.noResolveJson?t.json().then(i=>{const o=t.status||500,u=i?.statusCode||o+"";e(new dC(zf(i),o,u))}).catch(i=>{e(new ph(zf(i),i))}):e(new ph(zf(t),t))},bC=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!i?o:(hC(i)?(o.headers=Me({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Me(Me({},o),r))};async function sl(t,e,r,i,o,u){return new Promise((c,f)=>{t(r,bC(e,i,o,u)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>vC(h,f,i))})}async function Ko(t,e,r,i){return sl(t,"GET",e,r,i)}async function Aa(t,e,r,i,o){return sl(t,"POST",e,i,o,r)}async function yh(t,e,r,i,o){return sl(t,"PUT",e,i,o,r)}async function wC(t,e,r,i){return sl(t,"HEAD",e,Me(Me({},r),{},{noResolveJson:!0}),i)}async function sm(t,e,r,i,o){return sl(t,"DELETE",e,i,o,r)}var _C=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Et(e))return{data:null,error:e};throw e}}};let Yw;Yw=Symbol.toStringTag;var SC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Yw]="BlobDownloadBuilder",this.promise=null}asStream(){return new _C(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Et(e))return{data:null,error:e};throw e}}};const EC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},w0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var xC=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=im(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,i){var o=this;try{let u;const c=Me(Me({},w0),i);let f=Me(Me({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",o.encodeMetadata(h)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),h&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(h))):(u=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=Me(Me({},f),i.headers));const m=o._removeEmptyFolders(e),y=o._getFinalPath(m),g=await(t=="PUT"?yh:Aa)(o.fetch,`${o.url}/object/${y}`,u,Me({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:g.Id,fullPath:g.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Et(u))return{data:null,error:u};throw u}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,i){var o=this;const u=o._removeEmptyFolders(t),c=o._getFinalPath(u),f=new URL(o.url+`/object/upload/sign/${c}`);f.searchParams.set("token",e);try{let h;const m=Me({upsert:w0.upsert},i),y=Me(Me({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:u,fullPath:(await yh(o.fetch,f.toString(),h,{headers:y})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(Et(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var r=this;try{let i=r._getFinalPath(t);const o=Me({},r.headers);e?.upsert&&(o["x-upsert"]="true");const u=await Aa(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(r.url+u.url),f=c.searchParams.get("token");if(!f)throw new cc("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var i=this;try{return{data:await Aa(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}async copy(t,e,r){var i=this;try{return{data:{path:(await Aa(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,r){var i=this;try{let o=i._getFinalPath(t),u=await Aa(i.fetch,`${i.url}/object/sign/${o}`,Me({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${i.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,r){var i=this;try{const o=await Aa(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>Me(Me({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${u}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),o=i?`?${i}`:"",u=this._getFinalPath(t),c=()=>Ko(this.fetch,`${this.url}/${r}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new SC(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:gh(await Ko(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await wC(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Et(i)&&i instanceof ph){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const u=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}async remove(t){var e=this;try{return{data:await sm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async list(t,e,r){var i=this;try{const o=Me(Me(Me({},EC),e),{},{prefix:t||""});return{data:await Aa(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},r),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}async listV2(t,e){var r=this;try{const i=Me({},t);return{data:await Aa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},e),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Fw="2.90.1",Xw={"X-Client-Info":`storage-js/${Fw}`};var TC=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Me(Me({},Xw),e),this.fetch=im(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Ko(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ko(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Aa(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var r=this;try{return{data:await yh(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await sm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},RC=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},Xw),e),this.fetch=im(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Aa(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const i=r.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Ko(e.fetch,o,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await sm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!mC(t))throw new cc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new cC({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(o,f),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const om={"X-Client-Info":`storage-js/${Fw}`,"Content-Type":"application/json"};var Jw=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Yn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Bf=class extends Jw{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},AC=class extends Jw{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const lm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OC=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(u=>{const c=u?.statusCode||u?.code||i+"";e(new Bf(_0(u),i,c))}).catch(()=>{const u=i+"";e(new Bf(o.statusText||`HTTP ${i} error`,i,u))});else{const u=i+"";e(new Bf(o.statusText||`HTTP ${i} error`,i,u))}}else e(new AC(_0(t),t))},kC=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return i?(CC(i)?(o.headers=Me({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,Me(Me({},o),r)):o};async function MC(t,e,r,i,o,u){return new Promise((c,f)=>{t(r,kC(e,i,o,u)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>OC(h,f,i))})}async function Fn(t,e,r,i,o){return MC(t,"POST",e,i,o,r)}var DC=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},om),e),this.fetch=lm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Fn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Yn(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Fn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Yn(i))return{data:null,error:i};throw i}}},jC=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},om),e),this.fetch=lm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Fn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Fn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Fn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}},NC=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Me(Me({},om),e),this.fetch=lm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yn(r))return{data:null,error:r};throw r}}},LC=class extends NC{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new UC(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},UC=class extends DC{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new zC(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},zC=class extends jC{constructor(t,e,r,i,o){super(t,e,o),this.vectorBucketName=r,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Me(Me({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},BC=class extends TC{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new xC(this.url,this.headers,t,this.fetch)}get vectors(){return new LC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RC(this.url+"/iceberg",this.headers,this.fetch)}};const Ww="2.90.1",ys=30*1e3,vh=3,Pf=vh*ys,PC="http://localhost:9999",VC="supabase.auth.token",$C={"X-Client-Info":`gotrue-js/${Ww}`},bh="X-Supabase-Api-Version",Qw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qC=600*1e3;class Yo extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class IC extends Yo{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function GC(t){return _e(t)&&t.name==="AuthApiError"}class _i extends Yo{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class fr extends Yo{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class In extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KC(t){return _e(t)&&t.name==="AuthSessionMissingError"}class cs extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Au extends fr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cu extends fr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YC(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class S0 extends fr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class FC extends fr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wh extends fr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Vf(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class E0 extends fr{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class _h extends fr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x0=` 	
\r=`.split(""),XC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<x0.length;e+=1)t[x0[e].charCodeAt(0)]=-2;for(let e=0;e<Yu.length;e+=1)t[Yu[e].charCodeAt(0)]=e;return t})();function T0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Yu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Yu[i]),e.queuedBits-=6}}function Zw(t,e,r){const i=XC[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function R0(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{QC(c,i,r)};for(let c=0;c<t.length;c+=1)Zw(t.charCodeAt(c),o,u);return e.join("")}function JC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function WC(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}JC(i,e)}}function QC(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Rs(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Zw(t.charCodeAt(o),r,i);return new Uint8Array(e)}function ZC(t){const e=[];return WC(t,r=>e.push(r)),new Uint8Array(e)}function Ei(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>T0(o,r,i)),T0(null,r,i),e.join("")}function eO(t){return Math.round(Date.now()/1e3)+t}function tO(){return Symbol("auth-callback")}const dn=()=>typeof window<"u"&&typeof document<"u",pi={tested:!1,writable:!1},e_=()=>{if(!dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pi.tested)return pi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pi.tested=!0,pi.writable=!0}catch{pi.tested=!0,pi.writable=!1}return pi.writable};function nO(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,u)=>{e[u]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const t_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aO=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},gi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cn=async(t,e)=>{await t.removeItem(e)};class dc{constructor(){this.promise=new dc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}dc.promiseConstructor=Promise;function $f(t){const e=t.split(".");if(e.length!==3)throw new _h("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!HC.test(e[i]))throw new _h("JWT not in base64url format");return{header:JSON.parse(R0(e[0])),payload:JSON.parse(R0(e[1])),signature:Rs(e[2]),raw:{header:e[0],payload:e[1]}}}async function rO(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iO(t,e){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await t(u);if(!e(u,null,c)){i(c);return}}catch(c){if(!e(u,c)){o(c);return}}})()})}function sO(t){return("0"+t.toString(16)).substr(-2)}function oO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let u=0;u<56;u++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,sO).join("")}async function lO(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function uO(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await lO(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ds(t,e,r=!1){const i=oO();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await vs(t,`${e}-code-verifier`,o);const u=await uO(i);return[u,i===u?"plain":"s256"]}const cO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dO(t){const e=t.headers.get(bh);if(!e||!e.match(cO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fO(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hO(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fs(t){if(!mO.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pO(t,e){return new Proxy(t,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,o)}})}function A0(t){return JSON.parse(JSON.stringify(t))}const vi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gO=[502,503,504];async function C0(t){var e;if(!aO(t))throw new wh(vi(t),0);if(gO.includes(t.status))throw new wh(vi(t),t.status);let r;try{r=await t.json()}catch(u){throw new _i(vi(u),u)}let i;const o=dO(t);if(o&&o.getTime()>=Qw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new E0(vi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new In}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new E0(vi(r),t.status,r.weak_password.reasons);throw new IC(vi(r),t.status||500,i)}const yO=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function ke(t,e,r,i){var o;const u=Object.assign({},i?.headers);u[bh]||(u[bh]=Qw["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await vO(t,e,r+f,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function vO(t,e,r,i,o,u){const c=yO(e,i,o,u);let f;try{f=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new wh(vi(h),0)}if(f.ok||await C0(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await C0(h)}}function Ta(t){var e;let r=null;_O(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=eO(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function O0(t){const e=Ta(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Vr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bO(t){return{data:t,error:null}}function wO(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:u}=t,c=uc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:u},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function k0(t){return t}function _O(t){return t.access_token&&t.refresh_token&&t.expires_in}const qf=["global","local","others"];class SO{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=t_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=qf[0]){if(qf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qf.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vr})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=uc(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:wO,redirectTo:r?.redirectTo})}catch(r){if(_e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,u,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:k0});if(y.error)throw y.error;const g=await y.json(),v=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);m[`${A}Page`]=T}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(_e(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){fs(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){fs(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Vr})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){fs(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vr})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){fs(e.userId);try{const{data:r,error:i}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteFactor(e){fs(e.userId),fs(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,o,u,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},y=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:k0});if(y.error)throw y.error;const g=await y.json(),v=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);m[`${A}Page`]=T}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(_e(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}}function M0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const hs={debug:!!(globalThis&&e_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class EO extends n_{}async function xO(t,e,r){hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),hs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new EO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function TO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function a_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function RO(t){return parseInt(t,16)}function AO(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function CO(t){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:h,resources:m,scheme:y,uri:g,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=a_(t.address),S=y?`${y}://${i}`:i,T=t.statement?`${t.statement}
`:"",A=`${S} wants you to sign in with your Ethereum account:
${w}

${T}`;let C=`URI: ${g}
Version: ${v}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),f&&(C+=`
Not Before: ${f.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let D=`
Resources:`;for(const k of m){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);D+=`
- ${k}`}C+=D}return`${A}
${C}`}class It extends Error{constructor({message:e,code:r,cause:i,name:o}){var u;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=o??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class Fu extends It{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function OO({error:t,options:e}){var r,i,o;const{publicKey:u}=e;if(!u)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new It({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new It({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new It({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new It({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new It({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new It({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new It({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new It({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(r_(c)){if(u.rp.id!==c)return new It({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new It({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kO({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new It({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new It({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(r_(i)){if(r.rpId!==i)return new It({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class MO{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const DO=new MO;function jO(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,o=uc(t,["challenge","user","excludeCredentials"]),u=Rs(e).buffer,c=Object.assign(Object.assign({},r),{id:Rs(r.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:u,user:c});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Rs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function NO(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=uc(t,["challenge","allowCredentials"]),o=Rs(e).buffer,u=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Rs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function LO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ei(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ei(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function UO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ei(new Uint8Array(o.authenticatorData)),clientDataJSON:Ei(new Uint8Array(o.clientDataJSON)),signature:Ei(new Uint8Array(o.signature)),userHandle:o.userHandle?Ei(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function r_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function D0(){var t,e;return!!(dn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function zO(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fu("Browser returned unexpected credential type",e)}:{data:null,error:new Fu("Empty credential response",e)}}catch(e){return{data:null,error:OO({error:e,options:t})}}}async function BO(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fu("Browser returned unexpected credential type",e)}:{data:null,error:new Fu("Empty credential response",e)}}catch(e){return{data:null,error:kO({error:e,options:t})}}}const PO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))i[u]=c;else if(r(c))i[u]=c;else if(e(c)){const f=i[u];e(f)?i[u]=Xu(f,c):i[u]=Xu(c)}else i[u]=c}return i}function $O(t,e){return Xu(PO,t,e||{})}function HO(t,e){return Xu(VO,t,e||{})}class qO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:o},u){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:f};const h=o??DO.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=$O(c.webauthn.credential_options.publicKey,u?.create),{data:y,error:g}=await zO({publicKey:m,signal:h});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}case"request":{const m=HO(c.webauthn.credential_options.publicKey,u?.request),{data:y,error:g}=await BO(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}}}catch(c){return _e(c)?{data:null,error:c}:{data:null,error:new _i("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Yo("rpId is required for WebAuthn authentication")};try{if(!D0())return{data:null,error:new _i("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:u});if(!c)return{data:null,error:f};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(c){return _e(c)?{data:null,error:c}:{data:null,error:new _i("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Yo("rpId is required for WebAuthn registration")};try{if(!D0())return{data:null,error:new _i("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var g;return(g=y.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:u});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return _e(c)?{data:null,error:c}:{data:null,error:new _i("Unexpected error in register",c)}}}}TO();const IO={url:PC,storageKey:VC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$C,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function j0(t,e,r){return await r()}const ms={};class Fo{get jwks(){var e,r;return(r=(e=ms[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ms[this.storageKey]=Object.assign(Object.assign({},ms[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ms[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ms[this.storageKey]=Object.assign(Object.assign({},ms[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},IO),e);if(this.storageKey=u.storageKey,this.instanceID=(r=Fo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Fo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&dn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new SO({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=t_(u.fetch),this.lock=u.lock||j0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&dn()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=xO:this.lock=j0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:e_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=M0(this.memoryStorage)),dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ww}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(dn()&&(r=nO(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),dn()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(r,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),YC(u)){const h=(e=u.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _e(r)?this._returnResult({error:r}):this._returnResult({error:new _i("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ta}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(u){if(_e(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(e){var r,i,o;try{let u;if("email"in e){const{email:y,password:g,options:v}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await ds(this.storage,this.storageKey)),u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:y,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:S},xform:Ta})}else if("phone"in e){const{phone:y,password:g,options:v}=e;u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:g,data:(i=v?.data)!==null&&i!==void 0?i:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Ta})}else throw new Au("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return await cn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(u){if(await cn(this.storage,`${this.storageKey}-code-verifier`),_e(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(e){try{let r;if("email"in e){const{email:u,password:c,options:f}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:O0})}else if("phone"in e){const{phone:u,password:c,options:f}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:O0})}else throw new Au("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const u=new cs;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,o,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,u,c,f,h,m,y,g,v;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:T,wallet:A,statement:C,options:D}=e;let k;if(dn())if(typeof A=="object")k=A;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")k=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=A}const J=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href),Z=await k.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=a_(Z[0]);let x=(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!x){const Y=await k.request({method:"eth_chainId"});x=RO(Y)}const j={domain:J.host,address:G,statement:C,uri:J.href,version:"1",chainId:x,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=D?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=CO(j),S=await k.request({method:"personal_sign",params:[AO(w),G]})}try{const{data:T,error:A}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ta});if(A)throw A;if(!T||!T.session||!T.user){const C=new cs;return this._returnResult({data:{user:null,session:null},error:C})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:A})}catch(T){if(_e(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var r,i,o,u,c,f,h,m,y,g,v,w;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:A,wallet:C,statement:D,options:k}=e;let J;if(dn())if(typeof C=="object")J=C;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))J=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=C}const Z=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in J&&J.signIn){const G=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),D?{statement:D}:null));let x;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")x=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)x=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)S=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),T=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${Z.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(o=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=k?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((h=k?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((m=k?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((g=(y=k?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||g===void 0)&&g.length?["Resources",...k.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const G=await J.signMessage(new TextEncoder().encode(S),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=G}}try{const{data:A,error:C}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ei(T)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ta});if(C)throw C;if(!A||!A.session||!A.user){const D=new cs;return this._returnResult({data:{user:null,session:null},error:D})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:C})}catch(A){if(_e(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const r=await gi(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new FC;const{data:u,error:c}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ta});if(await cn(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new cs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await cn(this.storage,`${this.storageKey}-code-verifier`),_e(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:u,nonce:c}=e,f=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ta}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const y=new cs;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,o,u,c;try{if("email"in e){const{email:f,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ds(this.storage,this.storageKey));const{error:g}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:f,options:h}=e,{data:m,error:y}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(u=h?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new Au("You must provide either an email or phone number.")}catch(f){if(await cn(this.storage,`${this.storageKey}-code-verifier`),_e(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var r,i;try{let o,u;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,u=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Ta});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(_e(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,i,o,u,c;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await ds(this.storage,this.storageKey));const m=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:bO});return!((u=m.data)===null||u===void 0)&&u.url&&dn()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await cn(this.storage,`${this.storageKey}-code-verifier`),_e(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new In;const{error:o}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(_e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:u}=e,{error:c}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:o,options:u}=e,{data:c,error:f}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Au("You must provide either an email or phone number and a type")}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await gi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Pf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await gi(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Hf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=pO(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vr}):await this._useSession(async r=>{var i,o,u;const{data:c,error:f}=r;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new In}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Vr})})}catch(r){if(_e(r))return KC(r)&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new In;const c=o.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await ds(this.storage,this.storageKey));const{data:m,error:y}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:Vr});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await cn(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new In;const r=Date.now()/1e3;let i=r,o=!0,u=null;const{payload:c}=$f(e.access_token);if(c.exp&&(i=c.exp,o=i<=r),o){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)throw h;u={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(_e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:c,error:f}=r;if(f)throw f;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new In;const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!dn())throw new Cu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new S0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new S0("No code detected.");const{data:D,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=e;if(!u||!f||!c||!m)throw new Cu("No session defined in URL");const y=Math.round(Date.now()/1e3),g=parseInt(f);let v=y+g;h&&(v=parseInt(h));const w=v-y;w*1e3<=ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const S=v-g;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,y);const{data:T,error:A}=await this._getUser(u);if(A)throw A;const C={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:g,expires_at:v,refresh_token:c,token_type:m,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(i){if(_e(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await gi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:u}=r;if(u)return this._returnResult({error:u});const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(GC(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=tO(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:u},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ds(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await cn(this.storage,`${this.storageKey}-code-verifier`),_e(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:o}=await this._useSession(async u=>{var c,f,h,m,y;const{data:g,error:v}=u;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return dn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(_e(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:u}}=r;if(o)throw o;const{options:c,provider:f,token:h,access_token:m,nonce:y}=e,g=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ta}),{data:v,error:w}=g;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new cs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(o){if(await cn(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:u,error:c}=r;if(c)throw c;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await iO(async o=>(o>0&&await rO(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ta})),(o,u)=>{const c=200*Math.pow(2,o);return u&&Vf(u)&&Date.now()+c-i<ys})}catch(i){if(this._debug(r,"error",i),_e(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),dn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await gi(this.storage,this.storageKey);if(o&&this.userStorage){let c=await gi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await vs(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:Hf()}else if(o&&!o.user&&!o.user){const c=await gi(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await cn(this.storage,this.storageKey+"-user"),await vs(this.storage,this.storageKey,o)):o.user=Hf()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pf;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Pf}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Vf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new In;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new dc;const{data:u,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!u.session)throw new In;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(o,"error",u),_e(u)){const c={data:null,error:u};return Vf(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,r)}catch(h){u.push(h)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await cn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await vs(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const u=A0(o);await vs(this.storage,this.storageKey,u)}else{const o=A0(r);await vs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await cn(this.storage,this.storageKey),await cn(this.storage,this.storageKey+"-code-verifier"),await cn(this.storage,this.storageKey+"-user"),this.userStorage&&await cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&dn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ys}ms, refresh threshold is ${vh} ticks`),o<=vh&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof n_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await ds(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:u}=r;return u?this._returnResult({data:null,error:u}):await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:u,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?LO(e.webauthn.credential_response):UO(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:jO(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:NO(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=$f(i.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new In})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new In});const c=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&dn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new In});const c=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&dn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new In})})}catch(e){if(_e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new In})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(f=>f.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+qC>o)return i;const{data:u,error:c}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});i=w.session.access_token}const{header:o,payload:u,signature:c,raw:{header:f,payload:h}}=$f(i);r?.allowExpired||fO(u.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:u,header:o,signature:c},error:null}}const y=hO(o.alg),g=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,g,c,ZC(`${f}.${h}`)))throw new _h("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}}Fo.nextInstanceID={};const GO=Fo,KO="2.90.1";let Mo="";typeof Deno<"u"?Mo="deno":typeof document<"u"?Mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mo="react-native":Mo="node";const YO={"X-Client-Info":`supabase-js-${Mo}/${KO}`},FO={headers:YO},XO={schema:"public"},JO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WO={};function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function QO(t,e){if(Xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Xo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZO(t){var e=QO(t,"string");return Xo(e)=="symbol"?e:e+""}function e2(t,e,r){return(e=ZO(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(r),!0).forEach(function(i){e2(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N0(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const t2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),n2=()=>Headers,a2=(t,e,r)=>{const i=t2(r),o=n2();return async(u,c)=>{var f;const h=(f=await e())!==null&&f!==void 0?f:t;let m=new o(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(u,kt(kt({},c),{},{headers:m}))}};function r2(t){return t.endsWith("/")?t:t+"/"}function i2(t,e){var r,i;const{db:o,auth:u,realtime:c,global:f}=t,{db:h,auth:m,realtime:y,global:g}=e,v={db:kt(kt({},h),o),auth:kt(kt({},m),u),realtime:kt(kt({},y),c),storage:{},global:kt(kt(kt({},g),f),{},{headers:kt(kt({},(r=g?.headers)!==null&&r!==void 0?r:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function s2(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r2(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var o2=class extends GO{constructor(t){super(t)}},l2=class{constructor(t,e,r){var i,o;this.supabaseUrl=t,this.supabaseKey=e;const u=s2(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:XO,realtime:WO,auth:kt(kt({},JO),{},{storageKey:c}),global:FO},h=i2(r??{},f);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=a2(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(kt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new $A(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new BC(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new UA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:u,flowType:c,lock:f,debug:h,throwOnError:m},y,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new o2({url:this.authUrl.href,headers:kt(kt({},v),y),storageKey:u,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:c,lock:f,debug:h,throwOnError:m,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rC(this.realtimeUrl.href,kt(kt({},t),{},{params:kt(kt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const u2=(t,e,r)=>new l2(t,e,r);function c2(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}c2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pe=u2("https://tnmtdsifsfoatwuewzai.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRubXRkc2lmc2ZvYXR3dWV3emFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1MjE0MzksImV4cCI6MjA3MzA5NzQzOX0.eyis-QcSonwWiMnn1M6sZlkj4tQpvcAydeM1Kzm13Oo");function d2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const f2=t=>{switch(t){case"success":return p2;case"info":return y2;case"warning":return g2;case"error":return v2;default:return null}},h2=Array(12).fill(0),m2=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},h2.map((r,i)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),p2=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),g2=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),y2=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),v2=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),b2=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),w2=()=>{const[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Sh=1;class _2{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:i,...o}=e,u=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Sh++,c=this.toasts.find(h=>h.id===u),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),c?this.toasts=this.toasts.map(h=>h.id===u?(this.publish({...h,...e,id:u,title:i}),{...h,...e,id:u,dismissible:f,title:i}):h):this.addToast({title:i,...o,dismissible:f,id:u}),u},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let u=i!==void 0,c;const f=o.then(async m=>{if(c=["resolve",m],ue.isValidElement(m))u=!1,this.create({id:i,type:"default",message:m});else if(E2(m)&&!m.ok){u=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,S=typeof g=="object"&&!ue.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...S})}else if(m instanceof Error){u=!1;const g=typeof r.error=="function"?await r.error(m):r.error,v=typeof r.description=="function"?await r.description(m):r.description,S=typeof g=="object"&&!ue.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...S})}else if(r.success!==void 0){u=!1;const g=typeof r.success=="function"?await r.success(m):r.success,v=typeof r.description=="function"?await r.description(m):r.description,S=typeof g=="object"&&!ue.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:v,...S})}}).catch(async m=>{if(c=["reject",m],r.error!==void 0){u=!1;const y=typeof r.error=="function"?await r.error(m):r.error,g=typeof r.description=="function"?await r.description(m):r.description,w=typeof y=="object"&&!ue.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:g,...w})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((m,y)=>f.then(()=>c[0]==="reject"?y(c[1]):m(c[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:h}:Object.assign(i,{unwrap:h})},this.custom=(e,r)=>{const i=r?.id||Sh++;return this.create({jsx:e(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Dn=new _2,S2=(t,e)=>{const r=e?.id||Sh++;return Dn.addToast({title:t,...e,id:r}),r},E2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",x2=S2,T2=()=>Dn.toasts,R2=()=>Dn.getActiveToasts(),Le=Object.assign(x2,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:T2,getToasts:R2});d2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ou(t){return t.label!==void 0}const A2=3,C2="24px",O2="16px",L0=4e3,k2=356,M2=14,D2=45,j2=200;function La(...t){return t.filter(Boolean).join(" ")}function N2(t){const[e,r]=t.split("-"),i=[];return e&&i.push(e),r&&i.push(r),i}const L2=t=>{var e,r,i,o,u,c,f,h,m;const{invert:y,toast:g,unstyled:v,interacting:w,setHeights:S,visibleToasts:T,heights:A,index:C,toasts:D,expanded:k,removeToast:J,defaultRichColors:Z,closeButton:G,style:x,cancelButtonStyle:j,actionButtonStyle:Y,className:fe="",descriptionClassName:ye="",duration:Ae,position:$e,gap:Ue,expandByDefault:xe,classNames:B,icons:W,closeButtonAriaLabel:re="Close toast"}=t,[pe,L]=ue.useState(null),[_,z]=ue.useState(null),[$,X]=ue.useState(!1),[te,ie]=ue.useState(!1),[se,le]=ue.useState(!1),[Se,Ye]=ue.useState(!1),[He,Oe]=ue.useState(!1),[at,je]=ue.useState(0),[Tt,ct]=ue.useState(0),jt=ue.useRef(g.duration||Ae||L0),an=ue.useRef(null),bt=ue.useRef(null),Qt=C===0,Va=C+1<=T,Kt=g.type,Jn=g.dismissible!==!1,dt=g.className||"",ma=g.descriptionClassName||"",jn=ue.useMemo(()=>A.findIndex(De=>De.toastId===g.id)||0,[A,g.id]),Oa=ue.useMemo(()=>{var De;return(De=g.closeButton)!=null?De:G},[g.closeButton,G]),Yt=ue.useMemo(()=>g.duration||Ae||L0,[g.duration,Ae]),Zt=ue.useRef(0),vn=ue.useRef(0),ka=ue.useRef(0),Sn=ue.useRef(null),[pa,pt]=$e.split("-"),En=ue.useMemo(()=>A.reduce((De,ft,Nt)=>Nt>=jn?De:De+ft.height,0),[A,jn]),Ft=w2(),Oi=g.invert||y,Xr=Kt==="loading";vn.current=ue.useMemo(()=>jn*Ue+En,[jn,En]),ue.useEffect(()=>{jt.current=Yt},[Yt]),ue.useEffect(()=>{X(!0)},[]),ue.useEffect(()=>{const De=bt.current;if(De){const ft=De.getBoundingClientRect().height;return ct(ft),S(Nt=>[{toastId:g.id,height:ft,position:g.position},...Nt]),()=>S(Nt=>Nt.filter(Lt=>Lt.toastId!==g.id))}},[S,g.id]),ue.useLayoutEffect(()=>{if(!$)return;const De=bt.current,ft=De.style.height;De.style.height="auto";const Nt=De.getBoundingClientRect().height;De.style.height=ft,ct(Nt),S(Lt=>Lt.find(ht=>ht.toastId===g.id)?Lt.map(ht=>ht.toastId===g.id?{...ht,height:Nt}:ht):[{toastId:g.id,height:Nt,position:g.position},...Lt])},[$,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const Nn=ue.useCallback(()=>{ie(!0),je(vn.current),S(De=>De.filter(ft=>ft.toastId!==g.id)),setTimeout(()=>{J(g)},j2)},[g,J,S,vn]);ue.useEffect(()=>{if(g.promise&&Kt==="loading"||g.duration===1/0||g.type==="loading")return;let De;return k||w||Ft?(()=>{if(ka.current<Zt.current){const Lt=new Date().getTime()-Zt.current;jt.current=jt.current-Lt}ka.current=new Date().getTime()})():jt.current!==1/0&&(Zt.current=new Date().getTime(),De=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Nn()},jt.current)),()=>clearTimeout(De)},[k,w,g,Kt,Ft,Nn]),ue.useEffect(()=>{g.delete&&(Nn(),g.onDismiss==null||g.onDismiss.call(g,g))},[Nn,g.delete]);function ga(){var De;if(W?.loading){var ft;return ue.createElement("div",{className:La(B?.loader,g==null||(ft=g.classNames)==null?void 0:ft.loader,"sonner-loader"),"data-visible":Kt==="loading"},W.loading)}return ue.createElement(m2,{className:La(B?.loader,g==null||(De=g.classNames)==null?void 0:De.loader),visible:Kt==="loading"})}const $a=g.icon||W?.[Kt]||f2(Kt);var ya,Wn;return ue.createElement("li",{tabIndex:0,ref:bt,className:La(fe,dt,B?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,B?.default,B?.[Kt],g==null||(r=g.classNames)==null?void 0:r[Kt]),"data-sonner-toast":"","data-rich-colors":(ya=g.richColors)!=null?ya:Z,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":$,"data-promise":!!g.promise,"data-swiped":He,"data-removed":te,"data-visible":Va,"data-y-position":pa,"data-x-position":pt,"data-index":C,"data-front":Qt,"data-swiping":se,"data-dismissible":Jn,"data-type":Kt,"data-invert":Oi,"data-swipe-out":Se,"data-swipe-direction":_,"data-expanded":!!(k||xe&&$),"data-testid":g.testId,style:{"--index":C,"--toasts-before":C,"--z-index":D.length-C,"--offset":`${te?at:vn.current}px`,"--initial-height":xe?"auto":`${Tt}px`,...x,...g.style},onDragEnd:()=>{le(!1),L(null),Sn.current=null},onPointerDown:De=>{De.button!==2&&(Xr||!Jn||(an.current=new Date,je(vn.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(le(!0),Sn.current={x:De.clientX,y:De.clientY})))},onPointerUp:()=>{var De,ft,Nt;if(Se||!Jn)return;Sn.current=null;const Lt=Number(((De=bt.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ln=Number(((ft=bt.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ht=new Date().getTime()-((Nt=an.current)==null?void 0:Nt.getTime()),hn=pe==="x"?Lt:Ln,Ha=Math.abs(hn)/ht;if(Math.abs(hn)>=D2||Ha>.11){je(vn.current),g.onDismiss==null||g.onDismiss.call(g,g),z(pe==="x"?Lt>0?"right":"left":Ln>0?"down":"up"),Nn(),Ye(!0);return}else{var O,U;(O=bt.current)==null||O.style.setProperty("--swipe-amount-x","0px"),(U=bt.current)==null||U.style.setProperty("--swipe-amount-y","0px")}Oe(!1),le(!1),L(null)},onPointerMove:De=>{var ft,Nt,Lt;if(!Sn.current||!Jn||((ft=window.getSelection())==null?void 0:ft.toString().length)>0)return;const ht=De.clientY-Sn.current.y,hn=De.clientX-Sn.current.x;var Ha;const O=(Ha=t.swipeDirections)!=null?Ha:N2($e);!pe&&(Math.abs(hn)>1||Math.abs(ht)>1)&&L(Math.abs(hn)>Math.abs(ht)?"x":"y");let U={x:0,y:0};const K=ae=>1/(1.5+Math.abs(ae)/20);if(pe==="y"){if(O.includes("top")||O.includes("bottom"))if(O.includes("top")&&ht<0||O.includes("bottom")&&ht>0)U.y=ht;else{const ae=ht*K(ht);U.y=Math.abs(ae)<Math.abs(ht)?ae:ht}}else if(pe==="x"&&(O.includes("left")||O.includes("right")))if(O.includes("left")&&hn<0||O.includes("right")&&hn>0)U.x=hn;else{const ae=hn*K(hn);U.x=Math.abs(ae)<Math.abs(hn)?ae:hn}(Math.abs(U.x)>0||Math.abs(U.y)>0)&&Oe(!0),(Nt=bt.current)==null||Nt.style.setProperty("--swipe-amount-x",`${U.x}px`),(Lt=bt.current)==null||Lt.style.setProperty("--swipe-amount-y",`${U.y}px`)}},Oa&&!g.jsx&&Kt!=="loading"?ue.createElement("button",{"aria-label":re,"data-disabled":Xr,"data-close-button":!0,onClick:Xr||!Jn?()=>{}:()=>{Nn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:La(B?.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(Wn=W?.close)!=null?Wn:b2):null,(Kt||g.icon||g.promise)&&g.icon!==null&&(W?.[Kt]!==null||g.icon)?ue.createElement("div",{"data-icon":"",className:La(B?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ga():null,g.type!=="loading"?$a:null):null,ue.createElement("div",{"data-content":"",className:La(B?.content,g==null||(u=g.classNames)==null?void 0:u.content)},ue.createElement("div",{"data-title":"",className:La(B?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ue.createElement("div",{"data-description":"",className:La(ye,ma,B?.description,g==null||(f=g.classNames)==null?void 0:f.description)},typeof g.description=="function"?g.description():g.description):null),ue.isValidElement(g.cancel)?g.cancel:g.cancel&&Ou(g.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||j,onClick:De=>{Ou(g.cancel)&&Jn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,De),Nn())},className:La(B?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,ue.isValidElement(g.action)?g.action:g.action&&Ou(g.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||Y,onClick:De=>{Ou(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,De),!De.defaultPrevented&&Nn())},className:La(B?.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function U0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function U2(t,e){const r={};return[t,e].forEach((i,o)=>{const u=o===1,c=u?"--mobile-offset":"--offset",f=u?O2:C2;function h(m){["top","right","bottom","left"].forEach(y=>{r[`${c}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof i=="number"||typeof i=="string"?h(i):typeof i=="object"?["top","right","bottom","left"].forEach(m=>{i[m]===void 0?r[`${c}-${m}`]=f:r[`${c}-${m}`]=typeof i[m]=="number"?`${i[m]}px`:i[m]}):h(f)}),r}const z2=ue.forwardRef(function(e,r){const{id:i,invert:o,position:u="bottom-right",hotkey:c=["altKey","KeyT"],expand:f,closeButton:h,className:m,offset:y,mobileOffset:g,theme:v="light",richColors:w,duration:S,style:T,visibleToasts:A=A2,toastOptions:C,dir:D=U0(),gap:k=M2,icons:J,containerAriaLabel:Z="Notifications"}=e,[G,x]=ue.useState([]),j=ue.useMemo(()=>i?G.filter($=>$.toasterId===i):G.filter($=>!$.toasterId),[G,i]),Y=ue.useMemo(()=>Array.from(new Set([u].concat(j.filter($=>$.position).map($=>$.position)))),[j,u]),[fe,ye]=ue.useState([]),[Ae,$e]=ue.useState(!1),[Ue,xe]=ue.useState(!1),[B,W]=ue.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=ue.useRef(null),pe=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=ue.useRef(null),_=ue.useRef(!1),z=ue.useCallback($=>{x(X=>{var te;return(te=X.find(ie=>ie.id===$.id))!=null&&te.delete||Dn.dismiss($.id),X.filter(({id:ie})=>ie!==$.id)})},[]);return ue.useEffect(()=>Dn.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{x(X=>X.map(te=>te.id===$.id?{...te,delete:!0}:te))});return}setTimeout(()=>{$R.flushSync(()=>{x(X=>{const te=X.findIndex(ie=>ie.id===$.id);return te!==-1?[...X.slice(0,te),{...X[te],...$},...X.slice(te+1)]:[$,...X]})})})}),[G]),ue.useEffect(()=>{if(v!=="system"){W(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:X})=>{W(X?"dark":"light")})}catch{$.addListener(({matches:te})=>{try{W(te?"dark":"light")}catch(ie){console.error(ie)}})}},[v]),ue.useEffect(()=>{G.length<=1&&$e(!1)},[G]),ue.useEffect(()=>{const $=X=>{var te;if(c.every(le=>X[le]||X.code===le)){var se;$e(!0),(se=re.current)==null||se.focus()}X.code==="Escape"&&(document.activeElement===re.current||(te=re.current)!=null&&te.contains(document.activeElement))&&$e(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[c]),ue.useEffect(()=>{if(re.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,_.current=!1)}},[re.current]),ue.createElement("section",{ref:r,"aria-label":`${Z} ${pe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map(($,X)=>{var te;const[ie,se]=$.split("-");return j.length?ue.createElement("ol",{key:$,dir:D==="auto"?U0():D,tabIndex:-1,ref:re,className:m,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":ie,"data-x-position":se,style:{"--front-toast-height":`${((te=fe[0])==null?void 0:te.height)||0}px`,"--width":`${k2}px`,"--gap":`${k}px`,...T,...U2(y,g)},onBlur:le=>{_.current&&!le.currentTarget.contains(le.relatedTarget)&&(_.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||_.current||(_.current=!0,L.current=le.relatedTarget)},onMouseEnter:()=>$e(!0),onMouseMove:()=>$e(!0),onMouseLeave:()=>{Ue||$e(!1)},onDragEnd:()=>$e(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||xe(!0)},onPointerUp:()=>xe(!1)},j.filter(le=>!le.position&&X===0||le.position===$).map((le,Se)=>{var Ye,He;return ue.createElement(L2,{key:le.id,icons:J,index:Se,toast:le,defaultRichColors:w,duration:(Ye=C?.duration)!=null?Ye:S,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:o,visibleToasts:A,closeButton:(He=C?.closeButton)!=null?He:h,interacting:Ue,position:$,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:z,toasts:j.filter(Oe=>Oe.position==le.position),heights:fe.filter(Oe=>Oe.position==le.position),setHeights:ye,expandByDefault:f,gap:k,expanded:Ae,swipeDirections:e.swipeDirections})})):null}))});function B2(){const[t,e]=R.useState(null),[r,i]=R.useState(!0),o=async()=>{const{data:{user:u}}=await Pe.auth.getUser();if(!u){e(null),i(!1);return}const{data:c,error:f}=await Pe.from("players").select("nickname").eq("id",u.id).maybeSingle();f&&(console.error(f),Le.error("Failed to load nickname")),e(c?.nickname??null),i(!1)};return R.useEffect(()=>{o()},[]),{nickname:t,loading:r,refreshNickname:o,setNickname:e}}const P2="https://tnmtdsifsfoatwuewzai.supabase.co/functions/v1",V2=({session:t,onLogout:e,onSettings:r})=>{const[i,o]=R.useState(!1),{nickname:u,loading:c}=B2(),f=R.useRef(null),h=Ci(),{roomCode:m}=Dw(),y=!!m;R.useEffect(()=>{const v=w=>{f.current&&!f.current.contains(w.target)&&o(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const g=async()=>{if(t){if(!m){Le.error("No active room found.");return}try{Le.info("Leaving room...");const v=await fetch(`${P2}/leave-room`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({roomCode:m})});if(!v.ok)throw new Error(await v.text());localStorage.removeItem("pendingRoomRedirect"),Le.success("You left the room."),h("/",{replace:!0})}catch(v){console.error(v),h("/",{replace:!0})}}};return V.jsxs("header",{className:"absolute top-0 left-0 w-full z-50 bg-gray-200 dark:bg-gray-800 shadow h-16 flex items-center justify-between px-4 z-100",children:[V.jsxs("div",{className:"flex items-center space-x-1",children:[V.jsx("img",{src:"/logo_flip.png",alt:"NotUnoFlip",className:"h-8 w-8 rounded"}),V.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"UnoFlip.site"})]}),V.jsx("div",{className:"flex items-center space-x-4 relative",children:t?V.jsxs("div",{ref:f,className:"relative",children:[V.jsxs("button",{onClick:()=>o(v=>!v),className:"flex items-center space-x-2 px-2 py-1 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition",children:[V.jsx(Ku,{className:"w-6 h-6 text-gray-900 dark:text-white"}),!c&&V.jsx("span",{className:"text-gray-900 dark:text-white text-sm",children:u||"User"})]}),i&&V.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg py-1 z-50",children:[V.jsxs("button",{onClick:()=>{r(),o(!1)},className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[V.jsx(TA,{size:16,className:"mr-2"}),"Settings"]}),y?V.jsxs("button",{onClick:()=>{g(),o(!1)},className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[V.jsx(lA,{size:16,className:"mr-2"}),"Leave Room"]}):V.jsxs("button",{onClick:()=>{e(),o(!1)},className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:[V.jsx(hA,{size:16,className:"mr-2"}),"Logout"]})]})]}):V.jsx("span",{className:"text-gray-900 dark:text-white text-sm",children:"Not logged in"})})]})};function $2(){const[t,e]=R.useState(null),r=Ci();R.useEffect(()=>{Pe.auth.getSession().then(({data:u})=>e(u.session));const{data:o}=Pe.auth.onAuthStateChange((u,c)=>{if(e(c),c){Le.success(`Logged in as ${c.user.email}`);const f=localStorage.getItem("pendingRoomRedirect");if(f){localStorage.removeItem("pendingRoomRedirect"),r(f);return}}else{const f=window.location.pathname;f.startsWith("/room/")&&localStorage.setItem("pendingRoomRedirect",f),Le.info("You have been logged out"),r("/")}});return()=>o.subscription.unsubscribe()},[]);const i=async()=>{await Pe.auth.signOut(),e(null),Le.success("Successfully logged out")};return V.jsxs("div",{className:"flex flex-col min-h-screen",children:[V.jsx(z2,{richColors:!0,position:"top-right"}),V.jsx(V2,{session:t,onLogout:i,onSettings:function(){throw new Error("Function not implemented.")}}),V.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-700 via-green-800 to-green-900 dark:from-gray-700 dark:via-gray-800 dark:to-gray-900",children:V.jsx(rR,{context:{session:t}})})]})}var H2=Object.defineProperty,q2=Object.defineProperties,I2=Object.getOwnPropertyDescriptors,Ju=Object.getOwnPropertySymbols,i_=Object.prototype.hasOwnProperty,s_=Object.prototype.propertyIsEnumerable,Eh=(t,e,r)=>e in t?H2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gn=(t,e)=>{for(var r in e||(e={}))i_.call(e,r)&&Eh(t,r,e[r]);if(Ju)for(var r of Ju(e))s_.call(e,r)&&Eh(t,r,e[r]);return t},o_=(t,e)=>q2(t,I2(e)),G2=(t,e)=>{var r={};for(var i in t)i_.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&Ju)for(var i of Ju(t))e.indexOf(i)<0&&s_.call(t,i)&&(r[i]=t[i]);return r},nn=(t,e,r)=>(Eh(t,typeof e!="symbol"?e+"":e,r),r),Cs=(t,e,r)=>new Promise((i,o)=>{var u=h=>{try{f(r.next(h))}catch(m){o(m)}},c=h=>{try{f(r.throw(h))}catch(m){o(m)}},f=h=>h.done?i(h.value):Promise.resolve(h.value).then(u,c);f((r=r.apply(t,e)).next())}),K2="hCaptcha-script",Pu="hCaptchaOnLoad",z0="script-error",$r="@hCaptcha/loader";function Y2(t){return Object.entries(t).filter(([,e])=>e||e===!1).map(([e,r])=>`${encodeURIComponent(e)}=${encodeURIComponent(String(r))}`).join("&")}function l_(t){let e=t&&t.ownerDocument||document,r=e.defaultView||e.parentWindow||window;return{document:e,window:r}}function u_(t){return t||document.head}function F2(t){var e;t.setTag("source",$r),t.setTag("url",document.URL),t.setContext("os",{UA:navigator.userAgent}),t.setContext("browser",Gn({},X2())),t.setContext("device",o_(Gn({},W2()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((e=screen.orientation)==null?void 0:e.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function X2(){var t,e,r,i,o,u;let c=navigator.userAgent,f,h;return c.indexOf("Firefox")!==-1?(f="Firefox",h=(t=c.match(/Firefox\/([\d.]+)/))==null?void 0:t[1]):c.indexOf("Edg")!==-1?(f="Microsoft Edge",h=(e=c.match(/Edg\/([\d.]+)/))==null?void 0:e[1]):c.indexOf("Chrome")!==-1&&c.indexOf("Safari")!==-1?(f="Chrome",h=(r=c.match(/Chrome\/([\d.]+)/))==null?void 0:r[1]):c.indexOf("Safari")!==-1&&c.indexOf("Chrome")===-1?(f="Safari",h=(i=c.match(/Version\/([\d.]+)/))==null?void 0:i[1]):c.indexOf("Opera")!==-1||c.indexOf("OPR")!==-1?(f="Opera",h=(o=c.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:o[2]):c.indexOf("MSIE")!==-1||c.indexOf("Trident")!==-1?(f="Internet Explorer",h=(u=c.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:u[2]):(f="Unknown",h="Unknown"),{name:f,version:h}}function J2(t){return new Promise(e=>setTimeout(e,t))}function W2(){let t=navigator.userAgent,e;t.indexOf("Win")!==-1?e="Windows":t.indexOf("Mac")!==-1?e="Mac":t.indexOf("Linux")!==-1?e="Linux":t.indexOf("Android")!==-1?e="Android":t.indexOf("like Mac")!==-1||t.indexOf("iPhone")!==-1||t.indexOf("iPad")!==-1?e="iOS":e="Unknown";let r;return/Mobile|iPhone|iPod|Android/i.test(t)?r="Mobile":/Tablet|iPad/i.test(t)?r="Tablet":r="Desktop",{model:e,family:e,device:r}}var Q2=class c_{constructor(e){nn(this,"_parent"),nn(this,"breadcrumbs",[]),nn(this,"context",{}),nn(this,"extra",{}),nn(this,"tags",{}),nn(this,"request"),nn(this,"user"),this._parent=e}get parent(){return this._parent}child(){return new c_(this)}setRequest(e){return this.request=e,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(e){return typeof e.timestamp>"u"&&(e.timestamp=new Date().toISOString()),this.breadcrumbs.push(e),this}setExtra(e,r){return this.extra[e]=r,this}removeExtra(e){return delete this.extra[e],this}setContext(e,r){return typeof r.type>"u"&&(r.type=e),this.context[e]=r,this}removeContext(e){return delete this.context[e],this}setTags(e){return this.tags=Gn(Gn({},this.tags),e),this}setTag(e,r){return this.tags[e]=r,this}removeTag(e){return delete this.tags[e],this}setUser(e){return this.user=e,this}removeUser(){return this.user=void 0,this}toBody(){let e=[],r=this;for(;r;)e.push(r),r=r.parent;return e.reverse().reduce((i,o)=>{var u;return i.breadcrumbs=[...(u=i.breadcrumbs)!=null?u:[],...o.breadcrumbs],i.extra=Gn(Gn({},i.extra),o.extra),i.contexts=Gn(Gn({},i.contexts),o.context),i.tags=Gn(Gn({},i.tags),o.tags),o.user&&(i.user=o.user),o.request&&(i.request=o.request),i},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},Z2=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ek=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,tk=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,nk=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,ku="?",B0="An unknown error occurred",ak="0.0.4";function rk(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t}function pn(t){return(t+256).toString(16).substring(1)}function ik(){let t=rk(new Array(16));return t[6]=t[6]&15|64,t[8]=t[8]&63|128,pn(t[0])+pn(t[1])+pn(t[2])+pn(t[3])+"-"+pn(t[4])+pn(t[5])+"-"+pn(t[6])+pn(t[7])+"-"+pn(t[8])+pn(t[9])+"-"+pn(t[10])+pn(t[11])+pn(t[12])+pn(t[13])+pn(t[14])+pn(t[15])}var sk=[[Z2,"chrome"],[tk,"winjs"],[ek,"gecko"]];function ok(t){var e,r,i,o;if(!t.stack)return null;let u=[],c=(i=(r=(e=t.stack).split)==null?void 0:r.call(e,`
`))!=null?i:[];for(let f=0;f<c.length;++f){let h=null,m=null,y=null;for(let[g,v]of sk)if(m=g.exec(c[f]),m){y=v;break}if(!(!m||!y)){if(y==="chrome")h={filename:(o=m[2])!=null&&o.startsWith("address at ")?m[2].substring(11):m[2],function:m[1]||ku,lineno:m[3]?+m[3]:null,colno:m[4]?+m[4]:null};else if(y==="winjs")h={filename:m[2],function:m[1]||ku,lineno:+m[3],colno:m[4]?+m[4]:null};else if(y==="gecko")f===0&&!m[5]&&t.columnNumber!==void 0&&u.length>0&&(u[0].column=t.columnNumber+1),h={filename:m[3],function:m[1]||ku,lineno:m[4]?+m[4]:null,colno:m[5]?+m[5]:null};else continue;!h.function&&h.lineno&&(h.function=ku),u.push(h)}}return u.length?u.reverse():null}function lk(t){let e=ok(t);return{type:t.name,value:t.message,stacktrace:{frames:e??[]}}}function uk(t){let e=nk.exec(t),r=e?e.slice(1):[];if(r.length!==6)throw new Error("Invalid DSN");let i=r[5].split("/"),o=i.slice(0,-1).join("/");return r[0]+"://"+r[3]+(r[4]?":"+r[4]:"")+(o?"/"+o:"")+"/api/"+i.pop()+"/envelope/?sentry_version=7&sentry_key="+r[1]+(r[2]?"&sentry_secret="+r[2]:"")}function ck(t,e,r){var i,o;let u=Gn({event_id:ik().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:ak},environment:e,release:r,timestamp:Date.now()/1e3},t.scope.toBody());if(t.type==="exception"){u.message=(o=(i=t.error)==null?void 0:i.message)!=null?o:"Unknown error",u.fingerprint=[u.message];let c=[],f=t.error;for(let h=0;h<5&&f&&(c.push(lk(f)),!(!f.cause||!(f.cause instanceof Error)));h++)f=f.cause;u.exception={values:c.reverse()}}return t.type==="message"&&(u.message=t.message,u.level=t.level),u}function dk(t){if(t instanceof Error)return t;if(typeof t=="string")return new Error(t);if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let r=t,{message:i}=r,o=G2(r,["message"]),u=new Error(typeof i=="string"?i:B0);return Object.assign(u,o)}let e=new Error(B0);return Object.assign(e,{cause:t})}function fk(t,e,r){return Cs(this,null,function*(){var i,o;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let u;if(r){let h=new AbortController;u=h.signal,setTimeout(()=>h.abort(),r)}let c=yield fetch(t,o_(Gn({},e),{signal:u})),f=yield c.text();return{status:c.status,body:f}}return yield new Promise((u,c)=>{var f,h;let m=new XMLHttpRequest;if(m.open((f=e?.method)!=null?f:"GET",t),m.onload=()=>u({status:m.status,body:m.responseText}),m.onerror=()=>c(new Error("XHR Network Error")),e?.headers)for(let[y,g]of Object.entries(e.headers))m.setRequestHeader(y,g);if(r){let y=setTimeout(()=>{m.abort(),c(new Error("Request timed out"))},r);m.onloadend=()=>{clearTimeout(y)}}m.send((h=e?.body)==null?void 0:h.toString())})}catch(u){return{status:0,body:(o=(i=u?.toString)==null?void 0:i.call(u))!=null?o:"Unknown error"}}})}var Mn,xh=(Mn=class{constructor(t){nn(this,"apiURL"),nn(this,"dsn"),nn(this,"environment"),nn(this,"release"),nn(this,"sampleRate"),nn(this,"debug"),nn(this,"_scope"),nn(this,"shouldBuffer",!1),nn(this,"bufferlimit",20),nn(this,"buffer",[]);var e,r,i,o,u;this.environment=t.environment,this.release=t.release,this.sampleRate=(e=t.sampleRate)!=null?e:1,this.debug=(r=t.debug)!=null?r:!1,this._scope=(i=t.scope)!=null?i:new Q2,this.apiURL=uk(t.dsn),this.dsn=t.dsn,this.shouldBuffer=(o=t.buffer)!=null?o:!1,this.bufferlimit=(u=t.bufferLimit)!=null?u:20}static init(t){Mn._instance||(Mn._instance=new Mn(t))}static get instance(){if(!Mn._instance)throw new Error("Sentry has not been initialized");return Mn._instance}log(...t){this.debug&&console.log(...t)}get scope(){return this._scope}static get scope(){return Mn.instance.scope}withScope(t){let e=this._scope.child();t(e)}static withScope(t){Mn.instance.withScope(t)}captureException(t,e){this.captureEvent({type:"exception",level:"error",error:dk(t),scope:e??this._scope})}static captureException(t,e){Mn.instance.captureException(t,e)}captureMessage(t,e="info",r){this.captureEvent({type:"message",level:e,message:t,scope:r??this._scope})}static captureMessage(t,e="info",r){Mn.instance.captureMessage(t,e,r)}captureEvent(t){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(t)}else this.sendEvent(t)}sendEvent(t,e=5e3){return Cs(this,null,function*(){try{this.log("Sending sentry event",t);let r=ck(t,this.environment,this.release),i={event_id:r.event_id,dsn:this.dsn},o={type:"event"},u=JSON.stringify(i)+`
`+JSON.stringify(o)+`
`+JSON.stringify(r),c=yield fk(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:u},e);this.log("Sentry response",c.status),c.status!==200&&(console.log(c.body),console.error("Failed to send event to Sentry",c))}catch(r){console.error("Failed to send event",r)}})}flush(t=5e3){return Cs(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let e=this.buffer.splice(0,this.buffer.length).map(r=>this.sendEvent(r,t));yield Promise.all(e),this.log("Flushed all events")}catch(e){console.error("Failed to flush events",e)}})}static flush(t=5e3){return Mn.instance.flush(t)}static reset(){Mn._instance=void 0}},nn(Mn,"_instance"),Mn),hk="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",mk="2.3.0",pk="production";function gk(t=!0){if(!t)return P0();xh.init({dsn:hk,release:mk,environment:pk});let e=xh.scope;return F2(e),P0(e)}function P0(t=null){return{addBreadcrumb:e=>{t&&t.addBreadcrumb(e)},captureRequest:e=>{t&&t.setRequest(e)},captureException:e=>{t&&xh.captureException(e,t)}}}function yk({scriptLocation:t,query:e,loadAsync:r=!0,crossOrigin:i="anonymous",apihost:o="https://js.hcaptcha.com",cleanup:u=!1,secureApi:c=!1,scriptSource:f=""}={},h){let m=u_(t),y=l_(m);return new Promise((g,v)=>{let w=y.document.createElement("script");w.id=K2,f?w.src=`${f}?onload=${Pu}`:c?w.src=`${o}/1/secure-api.js?onload=${Pu}`:w.src=`${o}/1/api.js?onload=${Pu}`,w.crossOrigin=i,w.async=r;let S=(T,A)=>{try{!c&&u&&m.removeChild(w),A(T)}catch(C){v(C)}};w.onload=T=>S(T,g),w.onerror=T=>{h&&h(w.src),S(T,v)},w.src+=e!==""?`&${e}`:"",m.appendChild(w)})}var Mu=[];function vk(t={cleanup:!1},e){try{e.addBreadcrumb({category:$r,message:"hCaptcha loader params",data:t});let r=u_(t.scriptLocation),i=l_(r),o=Mu.find(({scope:c})=>c===i.window);if(o)return e.addBreadcrumb({category:$r,message:"hCaptcha already loaded"}),o.promise;let u=new Promise((c,f)=>Cs(this,null,function*(){try{i.window[Pu]=()=>{e.addBreadcrumb({category:$r,message:"hCaptcha script called onload function"}),c(i.window.hcaptcha)};let h=Y2({custom:t.custom,render:t.render,sentry:t.sentry,assethost:t.assethost,imghost:t.imghost,reportapi:t.reportapi,endpoint:t.endpoint,host:t.host,recaptchacompat:t.recaptchacompat,hl:t.hl,uj:t.uj});yield yk(Gn({query:h},t),m=>{e.captureRequest({url:m,method:"GET"})}),e.addBreadcrumb({category:$r,message:"hCaptcha loaded",data:o})}catch{e.addBreadcrumb({category:$r,message:"hCaptcha failed to load"});let m=Mu.findIndex(y=>y.scope===i.window);m!==-1&&Mu.splice(m,1),f(new Error(z0))}}));return Mu.push({promise:u,scope:i.window}),u}catch(r){return e.captureException(r),Promise.reject(new Error(z0))}}function d_(t,e,r=0){return Cs(this,null,function*(){var i,o;let u=(i=t.maxRetries)!=null?i:2,c=(o=t.retryDelay)!=null?o:1e3,f=r<u?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield vk(t,e)}catch(h){return e.addBreadcrumb({category:$r,message:f}),r>=u?(e.captureException(h),Promise.reject(h)):(e.addBreadcrumb({category:$r,message:`Waiting ${c}ms before retry attempt ${r+1}`}),yield J2(c),r+=1,d_(t,e,r))}})}function bk(){return Cs(this,arguments,function*(t={}){let e=gk(t.sentry);return yield d_(t,e)})}function V0(t){let e=t&&t.ownerDocument||document,r=e.defaultView||e.parentWindow||window;return{document:e,window:r}}function $0(t){return t||document.head}var wk=class extends R.Component{constructor(t){super(t),this._hcaptcha=void 0,this.renderCaptcha=this.renderCaptcha.bind(this),this.resetCaptcha=this.resetCaptcha.bind(this),this.removeCaptcha=this.removeCaptcha.bind(this),this.isReady=this.isReady.bind(this),this._onReady=null,this.loadCaptcha=this.loadCaptcha.bind(this),this.handleOnLoad=this.handleOnLoad.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleExpire=this.handleExpire.bind(this),this.handleError=this.handleError.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleChallengeExpired=this.handleChallengeExpired.bind(this),this.ref=R.createRef(),this.apiScriptRequested=!1,this.sentryHub=null,this.captchaId="",this._pendingExecute=null,this.state={isApiReady:!1,isRemoved:!1,elementId:t.id}}componentDidMount(){let t=$0(this.props.scriptLocation),e=V0(t);if(this._hcaptcha=e.window.hcaptcha||void 0,typeof this._hcaptcha<"u"){this.setState({isApiReady:!0},()=>{this.renderCaptcha()});return}this.loadCaptcha()}componentWillUnmount(){let t=this._hcaptcha,e=this.captchaId;this._cancelPendingExecute("react-component-unmounted"),this.isReady()&&(t.reset(e),t.remove(e))}shouldComponentUpdate(t,e){return!(this.state.isApiReady!==e.isApiReady||this.state.isRemoved!==e.isRemoved)}componentDidUpdate(t){["sitekey","size","theme","tabindex","languageOverride","endpoint"].every(e=>t[e]===this.props[e])||this.removeCaptcha(()=>{this.renderCaptcha()})}loadCaptcha(){if(this.apiScriptRequested)return;let{apihost:t,assethost:e,endpoint:r,host:i,imghost:o,languageOverride:u,reCaptchaCompat:c,reportapi:f,sentry:h,custom:m,loadAsync:y,scriptLocation:g,scriptSource:v,secureApi:w,cleanup:S=!0,userJourneys:T}=this.props;bk({render:"explicit",apihost:t,assethost:e,endpoint:r,hl:u,host:i,imghost:o,recaptchacompat:c===!1?"off":null,reportapi:f,sentry:h,custom:m,loadAsync:y,scriptLocation:g,scriptSource:v,secureApi:w,cleanup:S,uj:T!==void 0?T:!1}).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}renderCaptcha(t){let{onReady:e}=this.props,{isApiReady:r}=this.state,i=this.captchaId;if(!r||i)return;let o=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),u=this._hcaptcha.render(this.ref.current,o);this.captchaId=u,this.setState({isRemoved:!1},()=>{t&&t(),e&&e(),this._onReady&&this._onReady(u)})}resetCaptcha(){let t=this._hcaptcha,e=this.captchaId;this.isReady()&&(t.reset(e),this._cancelPendingExecute("hcaptcha-reset"))}removeCaptcha(t){let e=this._hcaptcha,r=this.captchaId;this._cancelPendingExecute("hcaptcha-removed"),this.isReady()&&this.setState({isRemoved:!0},()=>{this.captchaId="",e.remove(r),t&&t()})}handleOnLoad(){this.setState({isApiReady:!0},()=>{let t=$0(this.props.scriptLocation),e=V0(t);this._hcaptcha=e.window.hcaptcha,this.renderCaptcha(()=>{let{onLoad:r}=this.props;r&&r()})})}handleSubmit(t){let{onVerify:e}=this.props,{isRemoved:r}=this.state,i=this._hcaptcha,o=this.captchaId;if(typeof i>"u"||r)return;let u=i.getResponse(o),c=i.getRespKey(o);e&&e(u,c)}handleExpire(){let{onExpire:t}=this.props,e=this._hcaptcha,r=this.captchaId;this.isReady()&&(e.reset(r),t&&t())}handleError(t){let{onError:e}=this.props,r=this._hcaptcha,i=this.captchaId;this.isReady()&&r.reset(i),e&&e(t)}isReady(){let{isApiReady:t,isRemoved:e}=this.state;return t&&!e}_cancelPendingExecute(t){if(!this._pendingExecute)return;let e=this._pendingExecute;this._pendingExecute=null;let r=new Error(t);e.reject(r)}handleOpen(){!this.isReady()||!this.props.onOpen||this.props.onOpen()}handleClose(){!this.isReady()||!this.props.onClose||this.props.onClose()}handleChallengeExpired(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()}execute(t=null){t=typeof t=="object"?t:null;try{let e=this._hcaptcha,r=this.captchaId;if(t&&t.async&&this._pendingExecute&&this._cancelPendingExecute("hcaptcha-execute-replaced"),!this.isReady())return t&&t.async?new Promise((o,u)=>{this._pendingExecute={resolve:o,reject:u},this._onReady=c=>{if(this._pendingExecute)try{let f=e.execute(c,t);f&&typeof f.then=="function"?f.then(h=>{this._pendingExecute=null,o(h)}).catch(h=>{this._pendingExecute=null,u(h)}):(this._pendingExecute=null,u(new Error("hcaptcha-execute-no-promise")))}catch(f){this._pendingExecute=null,u(f)}}}):(this._onReady=o=>{e.execute(o,t)},null);let i=e.execute(r,t);return t&&t.async&&i&&typeof i.then=="function"?new Promise((o,u)=>{this._pendingExecute={resolve:o,reject:u},i.then(c=>{this._pendingExecute=null,o(c)}).catch(c=>{this._pendingExecute=null,u(c)})}):i}catch(e){return t&&t.async?Promise.reject(e):null}}close(){let t=this._hcaptcha,e=this.captchaId;if(this._cancelPendingExecute("hcaptcha-closed"),!!this.isReady())return t.close(e)}setData(t){let e=this._hcaptcha,r=this.captchaId;this.isReady()&&(t&&typeof t!="object"&&(t=null),e.setData(r,t))}getResponse(){return this._hcaptcha.getResponse(this.captchaId)}getRespKey(){return this._hcaptcha.getRespKey(this.captchaId)}render(){let{elementId:t}=this.state;return R.createElement("div",{ref:this.ref,id:t})}};R.createContext();var _k=wk;function Sk({onLogin:t}){const[e,r]=R.useState("email"),[i,o]=R.useState(""),[u,c]=R.useState(["","","","","",""]),[f,h]=R.useState(!1),[m,y]=R.useState(null),g=R.useRef(null),v=R.useRef([]);R.useEffect(()=>{e==="code"&&v.current[0]?.focus()},[e]);const w=async()=>{y(null),console.log("[Captcha] executing...");const G=await g.current?.execute();console.log("[Captcha] token received:",G),y(G??null)},S=()=>{console.log("[Captcha] resetting"),g.current?.resetCaptcha(),y(null)};function T(){const G=["tiger","zebra","panda","koala","otter","eagle","shark","whale","hippo","lemur"],x=G[Math.floor(Math.random()*G.length)],j=Math.floor(1e3+Math.random()*9e3);return`${x}${j}`}const A=async()=>{if(await w(),!m){console.log("[Guest Login] captchaToken missing"),Le.error("Captcha verification failed.");return}console.log("[Guest Login] captchaToken before Supabase:",m),h(!0);let G="",x=!1;for(let fe=0;fe<3;fe++){G=T();const{error:ye}=await Pe.from("players").upsert({id:"guest-"+crypto.randomUUID(),nickname:G,is_guest:!0},{onConflict:"nickname"}).select().single();if(!ye){x=!0;break}}if(!x){h(!1),S(),Le.error("Could not create guest. Try again.");return}const{data:j,error:Y}=await Pe.auth.signInAnonymously({options:{captchaToken:m,data:{username:G,is_guest:!0}}});if(console.log("[Guest Login] Supabase response:",{data:j,error:Y}),h(!1),S(),Y||!j.session){Le.error(Y?.message??"Guest login failed.");return}Le.success(`Logged in as ${G}`),t(j.session)},C=async()=>{if(!i){Le.error("Please enter your email.");return}if(await w(),!m){console.log("[Magic Link] captchaToken missing"),Le.error("Captcha verification failed.");return}console.log("[Magic Link] captchaToken before Supabase:",m),h(!0);const{error:G}=await Pe.auth.signInWithOtp({email:i,options:{captchaToken:m,emailRedirectTo:window.location.origin}});console.log("[Magic Link] Supabase response:",{error:G}),h(!1),S(),G?Le.error(G.message):(Le.success(`Magic link sent to ${i}`),r("code"))},D=async G=>{if(!i||!G){Le.error("Enter email and code.");return}if(await w(),!m){console.log("[OTP Login] captchaToken missing"),Le.error("Captcha verification failed.");return}console.log("[OTP Login] captchaToken before Supabase:",m),h(!0);const{data:x,error:j}=await Pe.auth.verifyOtp({email:i,token:G,type:"magiclink",options:{captchaToken:m}});if(console.log("[OTP Login] Supabase response:",{data:x,error:j}),h(!1),S(),j||!x.session){Le.error(j?.message??"Invalid code."),c(["","","","","",""]),v.current[0]?.focus();return}Le.success(`Logged in as ${i}`),t(x.session)},k=(G,x)=>{if(!/^\d*$/.test(x))return;const j=[...u];j[G]=x.slice(-1),c(j),x&&G<5&&v.current[G+1]?.focus(),j.every(Boolean)&&G===5&&D(j.join(""))},J=(G,x)=>{x.key==="Backspace"&&!u[G]&&G>0&&v.current[G-1]?.focus()},Z=G=>{G.preventDefault();const x=G.clipboardData.getData("text").replace(/\D/g,"").slice(0,6),j=[...u];for(let Y=0;Y<x.length;Y++)j[Y]=x[Y];c(j),x.length===6?D(x):v.current[Math.min(x.length,5)]?.focus()};return V.jsxs("div",{className:"space-y-6",children:[V.jsx(_k,{sitekey:"d97cddc0-2708-4c8e-aebc-331a7f40b972",size:"invisible",onVerify:y,ref:g}),V.jsxs("div",{className:"text-center space-y-2",children:[V.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center mx-auto",children:V.jsx(pA,{className:"w-6 h-6 text-white"})}),V.jsx("h2",{className:"text-xl font-semibold",children:e==="email"?"Sign in":"Check your email"})]}),e==="email"&&V.jsxs("div",{className:"space-y-3",children:[V.jsx("input",{type:"email",placeholder:"Enter your email",value:i,onChange:G=>o(G.target.value),onKeyDown:G=>G.key==="Enter"&&C(),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",disabled:f}),V.jsx("button",{onClick:C,disabled:f,className:"w-full bg-green-600 text-white py-2 rounded-lg flex justify-center gap-2",children:f?V.jsx(Gu,{className:"animate-spin"}):"Send Magic Link"}),V.jsxs("div",{className:"flex items-center gap-3 py-2",children:[V.jsx("div",{className:"flex-grow border-t"}),V.jsx("span",{className:"text-xs text-gray-400",children:"OR"}),V.jsx("div",{className:"flex-grow border-t"})]}),V.jsx("button",{onClick:A,disabled:f,className:"w-full border py-2 rounded-lg",children:"Continue as Guest"})]}),e==="code"&&V.jsxs("div",{className:"space-y-4",children:[V.jsxs("button",{onClick:()=>{r("email"),c(["","","","","",""])},className:"flex items-center gap-1 text-sm text-gray-500",children:[V.jsx(XR,{className:"w-4 h-4"}),"Change email"]}),V.jsx("div",{className:"flex gap-2",onPaste:Z,children:u.map((G,x)=>V.jsx("input",{ref:j=>{v.current[x]=j},type:"text",inputMode:"numeric",maxLength:1,value:G,onChange:j=>k(x,j.target.value),onKeyDown:j=>J(x,j),className:"w-full h-12 text-center text-xl border rounded-lg"},x))}),f&&V.jsx("div",{className:"flex justify-center",children:V.jsx(Gu,{className:"animate-spin"})})]})]})}function Th({open:t,onClose:e,children:r,backdrop:i="image",closeable:o=!0}){if(!t)return null;const u=i==="image"?"bg-[url('/loading_1.png')] bg-cover bg-center":"bg-black/50";return V.jsx("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${u}`,children:V.jsxs("div",{className:"relative text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg w-full max-w-md",children:[o?V.jsx("button",{onClick:e,className:"absolute top-3 right-3 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors","aria-label":"Close",children:V.jsx(DA,{size:18})}):V.jsx(V.Fragment,{}),r]})})}function Ek(){const[t,e]=R.useState([]),r=Ci();return R.useEffect(()=>{const i=async u=>{const{data:c,error:f}=await Pe.from("rooms").select(`
          id, 
          code, 
          started_game, 
          created_at,
          room_players(count)
        `).order("created_at",{ascending:!1});if(f)Le.error("Failed to fetch rooms"),console.error(f);else{const h=c.map(m=>({id:m.id,code:m.code,started_game:m.started_game,created_at:m.created_at,player_count:m.room_players[0]?.count||0}));e(h)}};(async()=>{const{data:u,error:c}=await Pe.auth.getSession(),f=u?.session;if(c){console.error("Error fetching session:",c);return}if(f)i(f.access_token);else{const{data:h}=Pe.auth.onAuthStateChange((m,y)=>{y&&i(y.access_token)});return()=>h.subscription.unsubscribe()}})()},[]),R.useEffect(()=>{const i=Pe.channel("realtime-rooms-and-players").on("postgres_changes",{event:"*",schema:"public",table:"rooms"},async o=>{if(console.log("Realtime rooms change:",o),o.eventType==="INSERT"||o.eventType==="UPDATE"){const{data:u}=await Pe.from("rooms").select(`
                id, 
                code, 
                started_game, 
                created_at,
                room_players(count)
              `).eq("id",o.new.id).single();if(u){const c={id:u.id,code:u.code,started_game:u.started_game,created_at:u.created_at,player_count:u.room_players[0]?.count||0};e(f=>o.eventType==="INSERT"?[c,...f]:f.map(h=>h.id===c.id?c:h))}}else o.eventType==="DELETE"&&e(u=>u.filter(c=>c.id!==o.old.id))}).on("postgres_changes",{event:"*",schema:"public",table:"room_players"},async o=>{console.log("Realtime room_players change:",o);const u=o.new?.room_id||o.old?.room_id;if(u){const{data:c}=await Pe.from("rooms").select(`
                id, 
                code, 
                started_game, 
                created_at,
                
                room_players(count)
              `).eq("id",u).single();if(c){const f={id:c.id,code:c.code,started_game:c.started_game,created_at:c.created_at,player_count:c.room_players[0]?.count||0};e(h=>h.map(m=>m.id===u?f:m))}}}).subscribe();return()=>{Pe.removeChannel(i)}},[]),t.length===0?V.jsxs("div",{className:"text-center py-12",children:[V.jsx(Ku,{className:"w-12 h-12 mx-auto text-gray-100 mb-3"}),V.jsx("p",{className:"text-gray-200",children:"No rooms available"}),V.jsx("p",{className:"text-sm text-gray-200 mt-1",children:"Create one to get started"})]}):V.jsx("div",{className:"py-4",children:V.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(i=>V.jsxs("div",{className:"bg-gray-200 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-5 hover:shadow-lg transition-all",children:[V.jsxs("div",{className:"flex items-center justify-between mb-4",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"w-10 h-10 bg-green-400 dark:bg-green-900 rounded-lg flex items-center justify-center",children:i.started_game?V.jsx(bA,{className:"w-5 h-5"}):V.jsx(nA,{className:"w-5 h-5"})}),V.jsxs("div",{children:[V.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Room Code"}),V.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:i.code})]})]}),V.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:i.player_count}).map((o,u)=>V.jsx(Ku,{className:"w-4 h-4 text-black dark:text-green-400"},u))})]}),V.jsxs("p",{className:"text-s font-bold text-gray-400 dark:text-gray-800 mb-4",children:["Created"," ",new Date(i.created_at).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})]}),!i.started_game&&V.jsxs("button",{onClick:()=>r(`/room/${i.code}`),className:"w-full bg-green-700 hover:bg-green-600 text-white py-2.5 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Join Room",V.jsx(d0,{className:"w-4 h-4"})]}),i.started_game&&V.jsxs("button",{onClick:()=>r(`/room/${i.code}`),className:"w-full bg-gray-100 hover:bg-green-600 text-white py-2.5 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Spectate",V.jsx(d0,{className:"w-4 h-4"})]})]},i.id))})})}const xk="https://tnmtdsifsfoatwuewzai.supabase.co/functions/v1";function Tk(){const[t,e]=R.useState(null),[r,i]=R.useState(!1),[o,u]=R.useState(null),[c,f]=R.useState(""),[h,m]=R.useState(!1),y=Ci();R.useEffect(()=>{Pe.auth.getSession().then(({data:T})=>{T.session?e(T.session):i(!0)});const{data:S}=Pe.auth.onAuthStateChange((T,A)=>{e(A),i(!A)});return()=>S.subscription.unsubscribe()},[]),R.useEffect(()=>{(async()=>{if(!t)return;const{data:T,error:A}=await Pe.from("players").select("*").eq("id",t.user.id).maybeSingle();if(A){console.error("Error checking player:",A);return}T?u(T):m(!0)})()},[t,h]);const g=async()=>{if(!c||!t)return;if(!/^[a-z0-9]{3,10}$/.test(c)){Le.error("Nickname must be 310 lowercase letters or numbers.");return}const{data:S,error:T}=await Pe.from("players").upsert({id:t.user.id,nickname:c},{onConflict:"id"});if(T){Le.error("Nickname taken. Choose another one"),console.error(T);return}u(S?.[0]||{id:t.user.id,nickname:c}),m(!1),Le.success("Nickname saved!"),window.location.reload()},v=async()=>{if(!o?.nickname){Le.error("Set your nickname first.."),m(!0);return}try{Le.info("Creating room...");const S=await fetch(`${xk}/create-room`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t?.access_token}`},body:JSON.stringify({playerName:o.nickname})});if(!S.ok)throw new Error(await S.text());const{room:T}=await S.json();Le.success(`Room ${T.code} created!`),y(`/room/${T.code}`)}catch(S){console.error(S),Le.error(S instanceof Error?S.message:"Failed to create room")}};async function w(S){const{data:T,error:A}=await Pe.from("room_players").select(`
      room_id,
      room:rooms (
        id,
        code,
        host_id,
        players_in_room:room_players (
          player_id,
          players ( nickname )
        )
      )
    `).eq("player_id",S).single();if(A)throw A;if(!T?.room?.[0])return null;const C=T.room[0];return{roomId:C.id,roomCode:C.code,hostId:C.host_id,players:C.players_in_room??[]}}return R.useEffect(()=>{(async()=>{if(o?.id)try{const T=await w(o.id);console.log(T),T?.roomCode&&y(`/room/${T.roomCode}`)}catch(T){console.error("Autojoin failed:",T)}})()},[o]),V.jsxs("div",{children:[V.jsxs("main",{className:"p-12 mt-12 text-gray-900 dark:text-white space-y-4",children:[V.jsxs("div",{className:"flex items-center justify-between mb-2",children:[V.jsx("h2",{className:"font-bold text-white",children:"Lobby"}),V.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded",onClick:v,children:"Create Room"})]}),V.jsx(Ek,{})]}),V.jsx(Th,{open:r,onClose:()=>i(!1),closeable:!1,children:V.jsx(Sk,{onLogin:e})}),V.jsx(Th,{open:h,onClose:()=>m(!1),children:V.jsxs("div",{className:"p-4 space-y-2 text-white",children:[V.jsx("h2",{className:"text-lg text-black dark:text-white font-bold",children:"Choose a nickname"}),V.jsx("input",{type:"text",placeholder:"alphanumeric 3-10 characters",value:c,onChange:S=>{const T=S.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");f(T)},className:"border p-2 rounded w-full text-white bg-gray-900",onKeyDown:S=>{S.key==="Enter"&&g()}}),V.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded",onClick:g,children:"Save"})]})})]})}const f_=(t,e,r=60)=>{const i=-r/2,o=e>1?r/(e-1):0,u=i+t*o,c=t*30-(e-1)*30/2;return{rotation:u,offsetX:c}},um=R.createContext({});function cm(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const h_=typeof window<"u",m_=h_?R.useLayoutEffect:R.useEffect,fc=R.createContext(null);function dm(t,e){t.indexOf(e)===-1&&t.push(e)}function fm(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Pa=(t,e,r)=>r>e?e:r<t?t:r;let hm=()=>{};const dr={},p_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function g_(t){return typeof t=="object"&&t!==null}const y_=t=>/^0[^.\s]+$/u.test(t);function mm(t){let e;return()=>(e===void 0&&(e=t()),e)}const da=t=>t,Rk=(t,e)=>r=>e(t(r)),ol=(...t)=>t.reduce(Rk),Jo=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i};class pm{constructor(){this.subscriptions=[]}add(e){return dm(this.subscriptions,e),()=>fm(this.subscriptions,e)}notify(e,r,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,i);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cr=t=>t*1e3,ca=t=>t/1e3;function v_(t,e){return e?t*(1e3/e):0}const b_=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Ak=1e-7,Ck=12;function Ok(t,e,r,i,o){let u,c,f=0;do c=e+(r-e)/2,u=b_(c,i,o)-t,u>0?r=c:e=c;while(Math.abs(u)>Ak&&++f<Ck);return c}function ll(t,e,r,i){if(t===e&&r===i)return da;const o=u=>Ok(u,0,1,t,r);return u=>u===0||u===1?u:b_(o(u),e,i)}const w_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,__=t=>e=>1-t(1-e),S_=ll(.33,1.53,.69,.99),gm=__(S_),E_=w_(gm),x_=t=>(t*=2)<1?.5*gm(t):.5*(2-Math.pow(2,-10*(t-1))),ym=t=>1-Math.sin(Math.acos(t)),T_=__(ym),R_=w_(ym),kk=ll(.42,0,1,1),Mk=ll(0,0,.58,1),A_=ll(.42,0,.58,1),Dk=t=>Array.isArray(t)&&typeof t[0]!="number",C_=t=>Array.isArray(t)&&typeof t[0]=="number",jk={linear:da,easeIn:kk,easeInOut:A_,easeOut:Mk,circIn:ym,circInOut:R_,circOut:T_,backIn:gm,backInOut:E_,backOut:S_,anticipate:x_},Nk=t=>typeof t=="string",H0=t=>{if(C_(t)){hm(t.length===4);const[e,r,i,o]=t;return ll(e,r,i,o)}else if(Nk(t))return jk[t];return t},Du=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Lk(t,e){let r=new Set,i=new Set,o=!1,u=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(y){c.has(y)&&(m.schedule(y),t()),y(f)}const m={schedule:(y,g=!1,v=!1)=>{const S=v&&o?r:i;return g&&c.add(y),S.has(y)||S.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(f=y,o){u=!0;return}o=!0,[r,i]=[i,r],r.forEach(h),r.clear(),o=!1,u&&(u=!1,m.process(y))}};return m}const Uk=40;function O_(t,e){let r=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,c=Du.reduce((k,J)=>(k[J]=Lk(u),k),{}),{setup:f,read:h,resolveKeyframes:m,preUpdate:y,update:g,preRender:v,render:w,postRender:S}=c,T=()=>{const k=dr.useManualTiming?o.timestamp:performance.now();r=!1,dr.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(k-o.timestamp,Uk),1)),o.timestamp=k,o.isProcessing=!0,f.process(o),h.process(o),m.process(o),y.process(o),g.process(o),v.process(o),w.process(o),S.process(o),o.isProcessing=!1,r&&e&&(i=!1,t(T))},A=()=>{r=!0,i=!0,o.isProcessing||t(T)};return{schedule:Du.reduce((k,J)=>{const Z=c[J];return k[J]=(G,x=!1,j=!1)=>(r||A(),Z.schedule(G,x,j)),k},{}),cancel:k=>{for(let J=0;J<Du.length;J++)c[Du[J]].cancel(k)},state:o,steps:c}}const{schedule:vt,cancel:Ir,state:fn,steps:If}=O_(typeof requestAnimationFrame<"u"?requestAnimationFrame:da,!0);let Vu;function zk(){Vu=void 0}const wn={now:()=>(Vu===void 0&&wn.set(fn.isProcessing||dr.useManualTiming?fn.timestamp:performance.now()),Vu),set:t=>{Vu=t,queueMicrotask(zk)}},k_=t=>e=>typeof e=="string"&&e.startsWith(t),M_=k_("--"),Bk=k_("var(--"),vm=t=>Bk(t)?Pk.test(t.split("/*")[0].trim()):!1,Pk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function q0(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Ms={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wo={...Ms,transform:t=>Pa(0,1,t)},ju={...Ms,default:1},zo=t=>Math.round(t*1e5)/1e5,bm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vk(t){return t==null}const $k=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wm=(t,e)=>r=>!!(typeof r=="string"&&$k.test(r)&&r.startsWith(t)||e&&!Vk(r)&&Object.prototype.hasOwnProperty.call(r,e)),D_=(t,e,r)=>i=>{if(typeof i!="string")return i;const[o,u,c,f]=i.match(bm);return{[t]:parseFloat(o),[e]:parseFloat(u),[r]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},Hk=t=>Pa(0,255,t),Gf={...Ms,transform:t=>Math.round(Hk(t))},xi={test:wm("rgb","red"),parse:D_("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Gf.transform(t)+", "+Gf.transform(e)+", "+Gf.transform(r)+", "+zo(Wo.transform(i))+")"};function qk(t){let e="",r="",i="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Rh={test:wm("#"),parse:qk,transform:xi.transform},ul=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ur=ul("deg"),za=ul("%"),me=ul("px"),Ik=ul("vh"),Gk=ul("vw"),I0={...za,parse:t=>za.parse(t)/100,transform:t=>za.transform(t*100)},_s={test:wm("hsl","hue"),parse:D_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+za.transform(zo(e))+", "+za.transform(zo(r))+", "+zo(Wo.transform(i))+")"},Gt={test:t=>xi.test(t)||Rh.test(t)||_s.test(t),parse:t=>xi.test(t)?xi.parse(t):_s.test(t)?_s.parse(t):Rh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xi.transform(t):_s.transform(t),getAnimatableNone:t=>{const e=Gt.parse(t);return e.alpha=0,Gt.transform(e)}},Kk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yk(t){return isNaN(t)&&typeof t=="string"&&(t.match(bm)?.length||0)+(t.match(Kk)?.length||0)>0}const j_="number",N_="color",Fk="var",Xk="var(",G0="${}",Jk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qo(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},o=[];let u=0;const f=e.replace(Jk,h=>(Gt.test(h)?(i.color.push(u),o.push(N_),r.push(Gt.parse(h))):h.startsWith(Xk)?(i.var.push(u),o.push(Fk),r.push(h)):(i.number.push(u),o.push(j_),r.push(parseFloat(h))),++u,G0)).split(G0);return{values:r,split:f,indexes:i,types:o}}function L_(t){return Qo(t).values}function U_(t){const{split:e,types:r}=Qo(t),i=e.length;return o=>{let u="";for(let c=0;c<i;c++)if(u+=e[c],o[c]!==void 0){const f=r[c];f===j_?u+=zo(o[c]):f===N_?u+=Gt.transform(o[c]):u+=o[c]}return u}}const Wk=t=>typeof t=="number"?0:Gt.test(t)?Gt.getAnimatableNone(t):t;function Qk(t){const e=L_(t);return U_(t)(e.map(Wk))}const Gr={test:Yk,parse:L_,createTransformer:U_,getAnimatableNone:Qk};function Kf(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Zk({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let o=0,u=0,c=0;if(!e)o=u=c=r;else{const f=r<.5?r*(1+e):r+e-r*e,h=2*r-f;o=Kf(h,f,t+1/3),u=Kf(h,f,t),c=Kf(h,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:i}}function Wu(t,e){return r=>r>0?e:t}const xt=(t,e,r)=>t+(e-t)*r,Yf=(t,e,r)=>{const i=t*t,o=r*(e*e-i)+i;return o<0?0:Math.sqrt(o)},eM=[Rh,xi,_s],tM=t=>eM.find(e=>e.test(t));function K0(t){const e=tM(t);if(!e)return!1;let r=e.parse(t);return e===_s&&(r=Zk(r)),r}const Y0=(t,e)=>{const r=K0(t),i=K0(e);if(!r||!i)return Wu(t,e);const o={...r};return u=>(o.red=Yf(r.red,i.red,u),o.green=Yf(r.green,i.green,u),o.blue=Yf(r.blue,i.blue,u),o.alpha=xt(r.alpha,i.alpha,u),xi.transform(o))},Ah=new Set(["none","hidden"]);function nM(t,e){return Ah.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function aM(t,e){return r=>xt(t,e,r)}function _m(t){return typeof t=="number"?aM:typeof t=="string"?vm(t)?Wu:Gt.test(t)?Y0:sM:Array.isArray(t)?z_:typeof t=="object"?Gt.test(t)?Y0:rM:Wu}function z_(t,e){const r=[...t],i=r.length,o=t.map((u,c)=>_m(u)(u,e[c]));return u=>{for(let c=0;c<i;c++)r[c]=o[c](u);return r}}function rM(t,e){const r={...t,...e},i={};for(const o in r)t[o]!==void 0&&e[o]!==void 0&&(i[o]=_m(t[o])(t[o],e[o]));return o=>{for(const u in i)r[u]=i[u](o);return r}}function iM(t,e){const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][i[u]],f=t.values[c]??0;r[o]=f,i[u]++}return r}const sM=(t,e)=>{const r=Gr.createTransformer(e),i=Qo(t),o=Qo(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Ah.has(t)&&!o.values.length||Ah.has(e)&&!i.values.length?nM(t,e):ol(z_(iM(i,o),o.values),r):Wu(t,e)};function B_(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?xt(t,e,r):_m(t)(t,e)}const oM=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>vt.update(e,r),stop:()=>Ir(e),now:()=>fn.isProcessing?fn.timestamp:wn.now()}},P_=(t,e,r=10)=>{let i="";const o=Math.max(Math.round(e/r),2);for(let u=0;u<o;u++)i+=Math.round(t(u/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Qu=2e4;function Sm(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<Qu;)e+=r,i=t.next(e);return e>=Qu?1/0:e}function lM(t,e=100,r){const i=r({...t,keyframes:[0,e]}),o=Math.min(Sm(i),Qu);return{type:"keyframes",ease:u=>i.next(o*u).value/e,duration:ca(o)}}const uM=5;function V_(t,e,r){const i=Math.max(e-uM,0);return v_(r-t(i),e-i)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ff=.001;function cM({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:r=Mt.velocity,mass:i=Mt.mass}){let o,u,c=1-e;c=Pa(Mt.minDamping,Mt.maxDamping,c),t=Pa(Mt.minDuration,Mt.maxDuration,ca(t)),c<1?(o=m=>{const y=m*c,g=y*t,v=y-r,w=Ch(m,c),S=Math.exp(-g);return Ff-v/w*S},u=m=>{const g=m*c*t,v=g*r+r,w=Math.pow(c,2)*Math.pow(m,2)*t,S=Math.exp(-g),T=Ch(Math.pow(m,2),c);return(-o(m)+Ff>0?-1:1)*((v-w)*S)/T}):(o=m=>{const y=Math.exp(-m*t),g=(m-r)*t+1;return-Ff+y*g},u=m=>{const y=Math.exp(-m*t),g=(r-m)*(t*t);return y*g});const f=5/t,h=fM(o,u,f);if(t=cr(t),isNaN(h))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const dM=12;function fM(t,e,r){let i=r;for(let o=1;o<dM;o++)i=i-t(i)/e(i);return i}function Ch(t,e){return t*Math.sqrt(1-e*e)}const hM=["duration","bounce"],mM=["stiffness","damping","mass"];function F0(t,e){return e.some(r=>t[r]!==void 0)}function pM(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!F0(t,mM)&&F0(t,hM))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),o=i*i,u=2*Pa(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Mt.mass,stiffness:o,damping:u}}else{const r=cM(t);e={...e,...r,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function Zu(t=Mt.visualDuration,e=Mt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=r;const u=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],f={done:!1,value:u},{stiffness:h,damping:m,mass:y,duration:g,velocity:v,isResolvedFromDuration:w}=pM({...r,velocity:-ca(r.velocity||0)}),S=v||0,T=m/(2*Math.sqrt(h*y)),A=c-u,C=ca(Math.sqrt(h/y)),D=Math.abs(A)<5;i||(i=D?Mt.restSpeed.granular:Mt.restSpeed.default),o||(o=D?Mt.restDelta.granular:Mt.restDelta.default);let k;if(T<1){const Z=Ch(C,T);k=G=>{const x=Math.exp(-T*C*G);return c-x*((S+T*C*A)/Z*Math.sin(Z*G)+A*Math.cos(Z*G))}}else if(T===1)k=Z=>c-Math.exp(-C*Z)*(A+(S+C*A)*Z);else{const Z=C*Math.sqrt(T*T-1);k=G=>{const x=Math.exp(-T*C*G),j=Math.min(Z*G,300);return c-x*((S+T*C*A)*Math.sinh(j)+Z*A*Math.cosh(j))/Z}}const J={calculatedDuration:w&&g||null,next:Z=>{const G=k(Z);if(w)f.done=Z>=g;else{let x=Z===0?S:0;T<1&&(x=Z===0?cr(S):V_(k,Z,G));const j=Math.abs(x)<=i,Y=Math.abs(c-G)<=o;f.done=j&&Y}return f.value=f.done?c:G,f},toString:()=>{const Z=Math.min(Sm(J),Qu),G=P_(x=>J.next(Z*x).value,Z,30);return Z+"ms "+G},toTransition:()=>{}};return J}Zu.applyToOptions=t=>{const e=lM(t,100,Zu);return t.ease=e.ease,t.duration=cr(e.duration),t.type="keyframes",t};function Oh({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:f,max:h,restDelta:m=.5,restSpeed:y}){const g=t[0],v={done:!1,value:g},w=j=>f!==void 0&&j<f||h!==void 0&&j>h,S=j=>f===void 0?h:h===void 0||Math.abs(f-j)<Math.abs(h-j)?f:h;let T=r*e;const A=g+T,C=c===void 0?A:c(A);C!==A&&(T=C-g);const D=j=>-T*Math.exp(-j/i),k=j=>C+D(j),J=j=>{const Y=D(j),fe=k(j);v.done=Math.abs(Y)<=m,v.value=v.done?C:fe};let Z,G;const x=j=>{w(v.value)&&(Z=j,G=Zu({keyframes:[v.value,S(v.value)],velocity:V_(k,j,v.value),damping:o,stiffness:u,restDelta:m,restSpeed:y}))};return x(0),{calculatedDuration:null,next:j=>{let Y=!1;return!G&&Z===void 0&&(Y=!0,J(j),x(j)),Z!==void 0&&j>=Z?G.next(j-Z):(!Y&&J(j),v)}}}function gM(t,e,r){const i=[],o=r||dr.mix||B_,u=t.length-1;for(let c=0;c<u;c++){let f=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||da:e;f=ol(h,f)}i.push(f)}return i}function yM(t,e,{clamp:r=!0,ease:i,mixer:o}={}){const u=t.length;if(hm(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=gM(e,i,o),h=f.length,m=y=>{if(c&&y<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(y<t[g+1]);g++);const v=Jo(t[g],t[g+1],y);return f[g](v)};return r?y=>m(Pa(t[0],t[u-1],y)):m}function vM(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const o=Jo(0,e,i);t.push(xt(r,1,o))}}function bM(t){const e=[0];return vM(e,t.length-1),e}function wM(t,e){return t.map(r=>r*e)}function _M(t,e){return t.map(()=>e||A_).splice(0,t.length-1)}function Bo({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const o=Dk(i)?i.map(H0):H0(i),u={done:!1,value:e[0]},c=wM(r&&r.length===e.length?r:bM(e),t),f=yM(c,e,{ease:Array.isArray(o)?o:_M(e,o)});return{calculatedDuration:t,next:h=>(u.value=f(h),u.done=h>=t,u)}}const SM=t=>t!==null;function Em(t,{repeat:e,repeatType:r="loop"},i,o=1){const u=t.filter(SM),f=o<0||e&&r!=="loop"&&e%2===1?0:u.length-1;return!f||i===void 0?u[f]:i}const EM={decay:Oh,inertia:Oh,tween:Bo,keyframes:Bo,spring:Zu};function $_(t){typeof t.type=="string"&&(t.type=EM[t.type])}class xm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const xM=t=>t/100;class Tm extends xm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$_(e);const{type:r=Bo,repeat:i=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:f}=e;const h=r||Bo;h!==Bo&&typeof f[0]!="number"&&(this.mixKeyframes=ol(xM,B_(f[0],f[1])),f=[0,100]);const m=h({...e,keyframes:f});u==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...f].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Sm(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=m}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:i,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:g,repeatType:v,repeatDelay:w,type:S,onUpdate:T,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let k=this.currentTime,J=i;if(g){const j=Math.min(this.currentTime,o)/f;let Y=Math.floor(j),fe=j%1;!fe&&j>=1&&(fe=1),fe===1&&Y--,Y=Math.min(Y,g+1),Y%2&&(v==="reverse"?(fe=1-fe,w&&(fe-=w/f)):v==="mirror"&&(J=c)),k=Pa(0,1,fe)*f}const Z=D?{done:!1,value:y[0]}:J.next(k);u&&(Z.value=u(Z.value));let{done:G}=Z;!D&&h!==null&&(G=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return x&&S!==Oh&&(Z.value=Em(y,this.options,A,this.speed)),T&&T(Z.value),x&&this.finish(),Z}then(e,r){return this.finished.then(e,r)}get duration(){return ca(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ca(e)}get time(){return ca(this.currentTime)}set time(e){e=cr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ca(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=oM,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function TM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ti=t=>t*180/Math.PI,kh=t=>{const e=Ti(Math.atan2(t[1],t[0]));return Mh(e)},RM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:kh,rotateZ:kh,skewX:t=>Ti(Math.atan(t[1])),skewY:t=>Ti(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Mh=t=>(t=t%360,t<0&&(t+=360),t),X0=kh,J0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),W0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:J0,scaleY:W0,scale:t=>(J0(t)+W0(t))/2,rotateX:t=>Mh(Ti(Math.atan2(t[6],t[5]))),rotateY:t=>Mh(Ti(Math.atan2(-t[2],t[0]))),rotateZ:X0,rotate:X0,skewX:t=>Ti(Math.atan(t[4])),skewY:t=>Ti(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Dh(t){return t.includes("scale")?1:0}function jh(t,e){if(!t||t==="none")return Dh(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(r)i=AM,o=r;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=RM,o=f}if(!o)return Dh(e);const u=i[e],c=o[1].split(",").map(OM);return typeof u=="function"?u(c):c[u]}const CM=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return jh(r,e)};function OM(t){return parseFloat(t.trim())}const Ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],js=new Set(Ds),Q0=t=>t===Ms||t===me,kM=new Set(["x","y","z"]),MM=Ds.filter(t=>!kM.has(t));function DM(t){const e=[];return MM.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const qr={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jh(e,"x"),y:(t,{transform:e})=>jh(e,"y")};qr.translateX=qr.x;qr.translateY=qr.y;const Ri=new Set;let Nh=!1,Lh=!1,Uh=!1;function H_(){if(Lh){const t=Array.from(Ri).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const o=DM(i);o.length&&(r.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=r.get(i);o&&o.forEach(([u,c])=>{i.getValue(u)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Lh=!1,Nh=!1,Ri.forEach(t=>t.complete(Uh)),Ri.clear()}function q_(){Ri.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lh=!0)})}function jM(){Uh=!0,q_(),H_(),Uh=!1}class Rm{constructor(e,r,i,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ri.add(this),Nh||(Nh=!0,vt.read(q_),vt.resolveKeyframes(H_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:o}=this;if(e[0]===null){const u=o?.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&r){const f=i.readValue(r,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}TM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ri.delete(this)}cancel(){this.state==="scheduled"&&(Ri.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NM=t=>t.startsWith("--");function LM(t,e,r){NM(e)?t.style.setProperty(e,r):t.style[e]=r}const UM=mm(()=>window.ScrollTimeline!==void 0),zM={};function BM(t,e){const r=mm(t);return()=>zM[e]??r()}const I_=BM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Do=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,Z0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Do([0,.65,.55,1]),circOut:Do([.55,0,1,.45]),backIn:Do([.31,.01,.66,-.59]),backOut:Do([.33,1.53,.69,.99])};function G_(t,e){if(t)return typeof t=="function"?I_()?P_(t,e):"ease-out":C_(t)?Do(t):Array.isArray(t)?t.map(r=>G_(r,e)||Z0.easeOut):Z0[t]}function PM(t,e,r,{delay:i=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:f="easeOut",times:h}={},m=void 0){const y={[e]:r};h&&(y.offset=h);const g=G_(f,o);Array.isArray(g)&&(y.easing=g);const v={delay:i,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),t.animate(y,v)}function K_(t){return typeof t=="function"&&"applyToOptions"in t}function VM({type:t,...e}){return K_(t)&&I_()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $M extends xm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:i,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:f,onComplete:h}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,hm(typeof e.type!="string");const m=VM(e);this.animation=PM(r,i,o,m,u),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Em(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):LM(r,i,y),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ca(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ca(e)}get time(){return ca(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=cr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&UM()?(this.animation.timeline=e,da):r(this)}}const Y_={anticipate:x_,backInOut:E_,circInOut:R_};function HM(t){return t in Y_}function qM(t){typeof t.ease=="string"&&HM(t.ease)&&(t.ease=Y_[t.ease])}const Xf=10;class IM extends $M{constructor(e){qM(e),$_(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:i,onComplete:o,element:u,...c}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const f=new Tm({...c,autoplay:!1}),h=Math.max(Xf,wn.now()-this.startTime),m=Pa(0,Xf,h-Xf);r.setWithVelocity(f.sample(Math.max(0,h-m)).value,f.sample(h).value,m),f.stop()}}const eb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gr.test(t)||t==="0")&&!t.startsWith("url("));function GM(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function KM(t,e,r,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=eb(o,e),f=eb(u,e);return!c||!f?!1:GM(t)||(r==="spring"||K_(r))&&i}function zh(t){t.duration=0,t.type="keyframes"}const YM=new Set(["opacity","clipPath","filter","transform"]),FM=mm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XM(t){const{motionValue:e,name:r,repeatDelay:i,repeatType:o,damping:u,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return FM()&&r&&YM.has(r)&&(r!=="transform"||!m)&&!h&&!i&&o!=="mirror"&&u!==0&&c!=="inertia"}const JM=40;class WM extends xm{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:f,name:h,motionValue:m,element:y,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const v={autoplay:e,delay:r,type:i,repeat:o,repeatDelay:u,repeatType:c,name:h,motionValue:m,element:y,...g},w=y?.KeyframeResolver||Rm;this.keyframeResolver=new w(f,(S,T,A)=>this.onKeyframesResolved(S,T,v,!A),h,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,i,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:f,delay:h,isHandoff:m,onUpdate:y}=i;this.resolvedAt=wn.now(),KM(e,u,c,f)||((dr.instantAnimations||!h)&&y?.(Em(e,i,r)),e[0]=e[e.length-1],zh(i),i.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>JM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:e},w=!m&&XM(v)?new IM({...v,element:v.motionValue.owner.current}):new Tm(v);w.finished.then(()=>this.notifyFinished()).catch(da),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),jM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const QM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZM(t){const e=QM.exec(t);if(!e)return[,];const[,r,i,o]=e;return[`--${r??i}`,o]}function F_(t,e,r=1){const[i,o]=ZM(t);if(!i)return;const u=window.getComputedStyle(e).getPropertyValue(i);if(u){const c=u.trim();return p_(c)?parseFloat(c):c}return vm(o)?F_(o,e,r+1):o}function Am(t,e){return t?.[e]??t?.default??t}const eD={type:"spring",stiffness:500,damping:25,restSpeed:10},tD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nD={type:"keyframes",duration:.8},aD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rD=(t,{keyframes:e})=>e.length>2?nD:js.has(t)?t.startsWith("scale")?tD(e[1]):eD:aD;function iD({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:f,from:h,elapsed:m,...y}){return!!Object.keys(y).length}const sD=t=>t!==null;function oD(t,{repeat:e,repeatType:r="loop"},i){const o=t.filter(sD),u=e&&r!=="loop"&&e%2===1?0:o.length-1;return o[u]}function X_(t,e,r,i=0,o=1){const u=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*i;return typeof r=="function"?r(u,c):o===1?u*i:f-u*i}const Cm=(t,e,r,i={},o,u)=>c=>{const f=Am(i,t)||{},h=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-cr(h);const y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:v=>{e.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:u?void 0:o};iD(f)||Object.assign(y,rD(t,y)),y.duration&&(y.duration=cr(y.duration)),y.repeatDelay&&(y.repeatDelay=cr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let g=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(zh(y),y.delay===0&&(g=!0)),(dr.instantAnimations||dr.skipAnimations)&&(g=!0,zh(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,g&&!u&&e.get()!==void 0){const v=oD(y.keyframes,f);if(v!==void 0){vt.update(()=>{y.onUpdate(v),y.onComplete()});return}}return f.isSync?new Tm(y):new WM(y)},J_=new Set(["width","height","top","left","right","bottom",...Ds]),tb=30,lD=t=>!isNaN(parseFloat(t));class uD{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=wn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new pm);const i=this.events[e].add(r);return e==="change"?()=>{i(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tb)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,tb);return v_(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(t,e){return new uD(t,e)}function nb(t){const e=[{},{}];return t?.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function Om(t,e,r,i){if(typeof e=="function"){const[o,u]=nb(i);e=e(r!==void 0?r:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=nb(i);e=e(r!==void 0?r:t.custom,o,u)}return e}function As(t,e,r){const i=t.getProps();return Om(i,e,r!==void 0?r:i.custom,t)}const Bh=t=>Array.isArray(t);function cD(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Os(r))}function dD(t){return Bh(t)?t[t.length-1]||0:t}function fD(t,e){const r=As(t,e);let{transitionEnd:i={},transition:o={},...u}=r||{};u={...u,...i};for(const c in u){const f=dD(u[c]);cD(t,c,f)}}const yn=t=>!!(t&&t.getVelocity);function hD(t){return!!(yn(t)&&t.add)}function Ph(t,e){const r=t.getValue("willChange");if(hD(r))return r.add(e);if(!r&&dr.WillChange){const i=new dr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function km(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const mD="framerAppearId",W_="data-"+km(mD);function Q_(t){return t.props[W_]}function pD({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function Z_(t,e,{delay:r=0,transitionOverride:i,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...f}=e;i&&(u=i);const h=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const y in f){const g=t.getValue(y,t.latestValues[y]??null),v=f[y];if(v===void 0||m&&pD(m,y))continue;const w={delay:r,...Am(u||{},y)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===S&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const C=Q_(t);if(C){const D=window.MotionHandoffAnimation(C,y,vt);D!==null&&(w.startTime=D,T=!0)}}Ph(t,y),g.start(Cm(y,g,v,t.shouldReduceMotion&&J_.has(y)?{type:!1}:w,t,T));const A=g.animation;A&&h.push(A)}return c&&Promise.all(h).then(()=>{vt.update(()=>{c&&fD(t,c)})}),h}function Vh(t,e,r={}){const i=As(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);const u=i?()=>Promise.all(Z_(t,i,r)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:g}=o;return gD(t,e,h,m,y,g,r)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,m]=f==="beforeChildren"?[u,c]:[c,u];return h().then(()=>m())}else return Promise.all([u(),c(r.delay)])}function gD(t,e,r=0,i=0,o=0,u=1,c){const f=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),f.push(Vh(h,e,{...c,delay:r+(typeof i=="function"?0:i)+X_(t.variantChildren,h,i,o,u)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(f)}function yD(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(u=>Vh(t,u,r));i=Promise.all(o)}else if(typeof e=="string")i=Vh(t,e,r);else{const o=typeof e=="function"?As(t,e,r.custom):e;i=Promise.all(Z_(t,o,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}const vD={test:t=>t==="auto",parse:t=>t},eS=t=>e=>e.test(t),tS=[Ms,me,za,Ur,Gk,Ik,vD],ab=t=>tS.find(eS(t));function bD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||y_(t):!0}const wD=new Set(["brightness","contrast","saturate","opacity"]);function _D(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(bm)||[];if(!i)return t;const o=r.replace(i,"");let u=wD.has(e)?1:0;return i!==r&&(u*=100),e+"("+u+o+")"}const SD=/\b([a-z-]*)\(.*?\)/gu,$h={...Gr,getAnimatableNone:t=>{const e=t.match(SD);return e?e.map(_D).join(" "):t}},rb={...Ms,transform:Math.round},ED={rotate:Ur,rotateX:Ur,rotateY:Ur,rotateZ:Ur,scale:ju,scaleX:ju,scaleY:ju,scaleZ:ju,skew:Ur,skewX:Ur,skewY:Ur,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Wo,originX:I0,originY:I0,originZ:me},Mm={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,inset:me,insetBlock:me,insetBlockStart:me,insetBlockEnd:me,insetInline:me,insetInlineStart:me,insetInlineEnd:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,paddingBlock:me,paddingBlockStart:me,paddingBlockEnd:me,paddingInline:me,paddingInlineStart:me,paddingInlineEnd:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,marginBlock:me,marginBlockStart:me,marginBlockEnd:me,marginInline:me,marginInlineStart:me,marginInlineEnd:me,backgroundPositionX:me,backgroundPositionY:me,...ED,zIndex:rb,fillOpacity:Wo,strokeOpacity:Wo,numOctaves:rb},xD={...Mm,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:$h,WebkitFilter:$h},nS=t=>xD[t];function aS(t,e){let r=nS(t);return r!==$h&&(r=Gr),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const TD=new Set(["auto","none","0"]);function RD(t,e,r){let i=0,o;for(;i<t.length&&!o;){const u=t[i];typeof u=="string"&&!TD.has(u)&&Qo(u).values.length&&(o=t[i]),i++}if(o&&r)for(const u of e)t[u]=aS(r,o)}class AD extends Rm{constructor(e,r,i,o,u){super(e,r,i,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let g=e[y];if(typeof g=="string"&&(g=g.trim(),vm(g))){const v=F_(g,r.current);v!==void 0&&(e[y]=v),y===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!J_.has(i)||e.length!==2)return;const[o,u]=e,c=ab(o),f=ab(u),h=q0(o),m=q0(u);if(h!==m&&qr[i]){this.needsMeasurement=!0;return}if(c!==f)if(Q0(c)&&Q0(f))for(let y=0;y<e.length;y++){const g=e[y];typeof g=="string"&&(e[y]=parseFloat(g))}else qr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||bD(e[o]))&&i.push(o);i.length&&RD(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(r);o&&o.jump(this.measuredOrigin,!1);const u=i.length-1,c=i[u];i[u]=qr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,h])=>{e.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function CD(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=r?.[t]??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const rS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function iS(t){return g_(t)&&"offsetHeight"in t}const{schedule:Dm}=O_(queueMicrotask,!1),Ra={x:!1,y:!1};function sS(){return Ra.x||Ra.y}function OD(t){return t==="x"||t==="y"?Ra[t]?null:(Ra[t]=!0,()=>{Ra[t]=!1}):Ra.x||Ra.y?null:(Ra.x=Ra.y=!0,()=>{Ra.x=Ra.y=!1})}function oS(t,e){const r=CD(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[r,o,()=>i.abort()]}function ib(t){return!(t.pointerType==="touch"||sS())}function kD(t,e,r={}){const[i,o,u]=oS(t,r),c=f=>{if(!ib(f))return;const{target:h}=f,m=e(h,f);if(typeof m!="function"||!h)return;const y=g=>{ib(g)&&(m(g),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,o)};return i.forEach(f=>{f.addEventListener("pointerenter",c,o)}),u}const lS=(t,e)=>e?t===e?!0:lS(t,e.parentElement):!1,jm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,MD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uS(t){return MD.has(t.tagName)||t.isContentEditable===!0}const $u=new WeakSet;function sb(t){return e=>{e.key==="Enter"&&t(e)}}function Jf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const DD=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=sb(()=>{if($u.has(r))return;Jf(r,"down");const o=sb(()=>{Jf(r,"up")}),u=()=>Jf(r,"cancel");r.addEventListener("keyup",o,e),r.addEventListener("blur",u,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function ob(t){return jm(t)&&!sS()}function jD(t,e,r={}){const[i,o,u]=oS(t,r),c=f=>{const h=f.currentTarget;if(!ob(f))return;$u.add(h);const m=e(h,f),y=(w,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),$u.has(h)&&$u.delete(h),ob(w)&&typeof m=="function"&&m(w,{success:S})},g=w=>{y(w,h===window||h===document||r.useGlobalTarget||lS(h,w.target))},v=w=>{y(w,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",v,o)};return i.forEach(f=>{(r.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),iS(f)&&(f.addEventListener("focus",m=>DD(m,o)),!uS(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function cS(t){return g_(t)&&"ownerSVGElement"in t}function ND(t){return cS(t)&&t.tagName==="svg"}const LD=[...tS,Gt,Gr],UD=t=>LD.find(eS(t)),lb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ss=()=>({x:lb(),y:lb()}),ub=()=>({min:0,max:0}),Wt=()=>({x:ub(),y:ub()}),Hh={current:null},dS={current:!1},zD=typeof window<"u";function BD(){if(dS.current=!0,!!zD)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hh.current=t.matches;t.addEventListener("change",e),e()}else Hh.current=!1}const PD=new WeakMap;function hc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zo(t){return typeof t=="string"||Array.isArray(t)}const Nm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lm=["initial",...Nm];function mc(t){return hc(t.animate)||Lm.some(e=>Zo(t[e]))}function fS(t){return!!(mc(t)||t.variants)}function VD(t,e,r){for(const i in e){const o=e[i],u=r[i];if(yn(o))t.addValue(i,o);else if(yn(u))t.addValue(i,Os(o,{owner:t}));else if(u!==o)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(i);t.addValue(i,Os(c!==void 0?c:o,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const cb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ec={};function hS(t){ec=t}function $D(){return ec}class HD{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=wn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,vt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=mc(r),this.isVariantNode=fS(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in g){const w=g[v];h[v]!==void 0&&yn(w)&&w.set(h[v])}}mount(e){this.current=e,PD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(dS.current||BD(),this.shouldReduceMotion=Hh.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ir(this.notifyUpdate),Ir(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=js.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&vt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{o(),u&&u(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ec){const r=ec[e];if(!r)continue;const{isEnabled:i,Feature:o}=r;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<cb.length;i++){const o=cb[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=VD(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Os(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(p_(i)||y_(i))?i=parseFloat(i):!UD(i)&&Gr.test(r)&&(i=aS(e,r)),this.setBaseTarget(e,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const u=Om(this.props,r,this.presenceContext?.custom);u&&(i=u[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!yn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new pm),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Dm.render(this.render)}}class Fr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mS extends HD{constructor(){super(...arguments),this.KeyframeResolver=AD}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const i=e.style;return i?i[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function pS({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function qD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ID(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Wf(t){return t===void 0||t===1}function qh({scale:t,scaleX:e,scaleY:r}){return!Wf(t)||!Wf(e)||!Wf(r)}function bi(t){return qh(t)||gS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gS(t){return db(t.x)||db(t.y)}function db(t){return t&&t!=="0%"}function tc(t,e,r){const i=t-r,o=e*i;return r+o}function fb(t,e,r,i,o){return o!==void 0&&(t=tc(t,o,i)),tc(t,r,i)+e}function Ih(t,e=0,r=1,i,o){t.min=fb(t.min,e,r,i,o),t.max=fb(t.max,e,r,i,o)}function yS(t,{x:e,y:r}){Ih(t.x,e.translate,e.scale,e.originPoint),Ih(t.y,r.translate,r.scale,r.originPoint)}const hb=.999999999999,mb=1.0000000000001;function GD(t,e,r,i=!1){const o=r.length;if(!o)return;e.x=e.y=1;let u,c;for(let f=0;f<o;f++){u=r[f],c=u.projectionDelta;const{visualElement:h}=u.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xs(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,yS(t,c)),i&&bi(u.latestValues)&&xs(t,u.latestValues))}e.x<mb&&e.x>hb&&(e.x=1),e.y<mb&&e.y>hb&&(e.y=1)}function Es(t,e){t.min=t.min+e,t.max=t.max+e}function pb(t,e,r,i,o=.5){const u=xt(t.min,t.max,o);Ih(t,e,r,u,i)}function xs(t,e){pb(t.x,e.x,e.scaleX,e.scale,e.originX),pb(t.y,e.y,e.scaleY,e.scale,e.originY)}function vS(t,e){return pS(ID(t.getBoundingClientRect(),e))}function KD(t,e,r){const i=vS(t,r),{scroll:o}=e;return o&&(Es(i.x,o.offset.x),Es(i.y,o.offset.y)),i}const YD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FD=Ds.length;function XD(t,e,r){let i="",o=!0;for(let u=0;u<FD;u++){const c=Ds[u],f=t[c];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(c.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||r){const m=rS(f,Mm[c]);if(!h){o=!1;const y=YD[c]||c;i+=`${y}(${m}) `}r&&(e[c]=m)}}return i=i.trim(),r?i=r(e,o?"":i):o&&(i="none"),i}function Um(t,e,r){const{style:i,vars:o,transformOrigin:u}=t;let c=!1,f=!1;for(const h in e){const m=e[h];if(js.has(h)){c=!0;continue}else if(M_(h)){o[h]=m;continue}else{const y=rS(m,Mm[h]);h.startsWith("origin")?(f=!0,u[h]=y):i[h]=y}}if(e.transform||(c||r?i.transform=XD(e,t.transform,r):i.transform&&(i.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:y=0}=u;i.transformOrigin=`${h} ${m} ${y}`}}function bS(t,{style:e,vars:r},i,o){const u=t.style;let c;for(c in e)u[c]=e[c];o?.applyProjectionStyles(u,i);for(c in r)u.setProperty(c,r[c])}function gb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Co={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const r=gb(t,e.target.x),i=gb(t,e.target.y);return`${r}% ${i}%`}},JD={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,o=Gr.parse(t);if(o.length>5)return i;const u=Gr.createTransformer(t),c=typeof o[0]!="number"?1:0,f=r.x.scale*e.x,h=r.y.scale*e.y;o[0+c]/=f,o[1+c]/=h;const m=xt(f,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),u(o)}},Gh={borderRadius:{...Co,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Co,borderTopRightRadius:Co,borderBottomLeftRadius:Co,borderBottomRightRadius:Co,boxShadow:JD};function wS(t,{layout:e,layoutId:r}){return js.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Gh[t]||t==="opacity")}function zm(t,e,r){const i=t.style,o=e?.style,u={};if(!i)return u;for(const c in i)(yn(i[c])||o&&yn(o[c])||wS(c,t)||r?.getValue(c)?.liveStyle!==void 0)&&(u[c]=i[c]);return u}function WD(t){return window.getComputedStyle(t)}class QD extends mS{constructor(){super(...arguments),this.type="html",this.renderInstance=bS}readValueFromInstance(e,r){if(js.has(r))return this.projection?.isProjecting?Dh(r):CM(e,r);{const i=WD(e),o=(M_(r)?i.getPropertyValue(r):i[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return vS(e,r)}build(e,r,i){Um(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return zm(e,r,i)}}const ZD={offset:"stroke-dashoffset",array:"stroke-dasharray"},ej={offset:"strokeDashoffset",array:"strokeDasharray"};function tj(t,e,r=1,i=0,o=!0){t.pathLength=1;const u=o?ZD:ej;t[u.offset]=me.transform(-i);const c=me.transform(e),f=me.transform(r);t[u.array]=`${c} ${f}`}const nj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _S(t,{attrX:e,attrY:r,attrScale:i,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...f},h,m,y){if(Um(t,f,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=y?.transformBox??"fill-box",delete g.transformBox);for(const w of nj)g[w]!==void 0&&(v[w]=g[w],delete g[w]);e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),i!==void 0&&(g.scale=i),o!==void 0&&tj(g,o,u,c,!1)}const SS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),ES=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aj(t,e,r,i){bS(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(SS.has(o)?o:km(o),e.attrs[o])}function xS(t,e,r){const i=zm(t,e,r);for(const o in t)if(yn(t[o])||yn(e[o])){const u=Ds.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[u]=t[o]}return i}class rj extends mS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(js.has(r)){const i=nS(r);return i&&i.default||0}return r=SS.has(r)?r:km(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return xS(e,r,i)}build(e,r,i){_S(e,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,r,i,o){aj(e,r,i,o)}mount(e){this.isSVGTag=ES(e.tagName),super.mount(e)}}const ij=Lm.length;function TS(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?TS(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<ij;r++){const i=Lm[r],o=t.props[i];(Zo(o)||o===!1)&&(e[i]=o)}return e}function RS(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}const sj=[...Nm].reverse(),oj=Nm.length;function lj(t){return e=>Promise.all(e.map(({animation:r,options:i})=>yD(t,r,i)))}function uj(t){let e=lj(t),r=yb(),i=!0;const o=h=>(m,y)=>{const g=As(t,y,h==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:w,...S}=g;m={...m,...S,...w}}return m};function u(h){e=h(t)}function c(h){const{props:m}=t,y=TS(t.parent)||{},g=[],v=new Set;let w={},S=1/0;for(let A=0;A<oj;A++){const C=sj[A],D=r[C],k=m[C]!==void 0?m[C]:y[C],J=Zo(k),Z=C===h?D.isActive:null;Z===!1&&(S=A);let G=k===y[C]&&k!==m[C]&&J;if(G&&i&&t.manuallyAnimateOnMount&&(G=!1),D.protectedKeys={...w},!D.isActive&&Z===null||!k&&!D.prevProp||hc(k)||typeof k=="boolean")continue;const x=cj(D.prevProp,k);let j=x||C===h&&D.isActive&&!G&&J||A>S&&J,Y=!1;const fe=Array.isArray(k)?k:[k];let ye=fe.reduce(o(C),{});Z===!1&&(ye={});const{prevResolvedValues:Ae={}}=D,$e={...Ae,...ye},Ue=W=>{j=!0,v.has(W)&&(Y=!0,v.delete(W)),D.needsAnimating[W]=!0;const re=t.getValue(W);re&&(re.liveStyle=!1)};for(const W in $e){const re=ye[W],pe=Ae[W];if(w.hasOwnProperty(W))continue;let L=!1;Bh(re)&&Bh(pe)?L=!RS(re,pe):L=re!==pe,L?re!=null?Ue(W):v.add(W):re!==void 0&&v.has(W)?Ue(W):D.protectedKeys[W]=!0}D.prevProp=k,D.prevResolvedValues=ye,D.isActive&&(w={...w,...ye}),i&&t.blockInitialAnimation&&(j=!1);const xe=G&&x;j&&(!xe||Y)&&g.push(...fe.map(W=>{const re={type:C};if(typeof W=="string"&&i&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,L=As(pe,W);if(pe.enteringChildren&&L){const{delayChildren:_}=L.transition||{};re.delay=X_(pe.enteringChildren,t,_)}}return{animation:W,options:re}}))}if(v.size){const A={};if(typeof m.initial!="boolean"){const C=As(t,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(A.transition=C.transition)}v.forEach(C=>{const D=t.getBaseTarget(C),k=t.getValue(C);k&&(k.liveStyle=!0),A[C]=D??null}),g.push({animation:A})}let T=!!g.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(g):Promise.resolve()}function f(h,m){if(r[h].isActive===m)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(h,m)),r[h].isActive=m;const y=c(h);for(const g in r)r[g].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:u,getState:()=>r,reset:()=>{r=yb()}}}function cj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RS(e,t):!1}function yi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yb(){return{animate:yi(!0),whileInView:yi(),whileHover:yi(),whileTap:yi(),whileDrag:yi(),whileFocus:yi(),exit:yi()}}const AS=1e-4,dj=1-AS,fj=1+AS,CS=.01,hj=0-CS,mj=0+CS;function _n(t){return t.max-t.min}function pj(t,e,r){return Math.abs(t-e)<=r}function vb(t,e,r,i=.5){t.origin=i,t.originPoint=xt(e.min,e.max,t.origin),t.scale=_n(r)/_n(e),t.translate=xt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=dj&&t.scale<=fj||isNaN(t.scale))&&(t.scale=1),(t.translate>=hj&&t.translate<=mj||isNaN(t.translate))&&(t.translate=0)}function Po(t,e,r,i){vb(t.x,e.x,r.x,i?i.originX:void 0),vb(t.y,e.y,r.y,i?i.originY:void 0)}function bb(t,e,r){t.min=r.min+e.min,t.max=t.min+_n(e)}function gj(t,e,r){bb(t.x,e.x,r.x),bb(t.y,e.y,r.y)}function wb(t,e,r){t.min=e.min-r.min,t.max=t.min+_n(e)}function nc(t,e,r){wb(t.x,e.x,r.x),wb(t.y,e.y,r.y)}function _b(t,e,r,i,o){return t-=e,t=tc(t,1/r,i),o!==void 0&&(t=tc(t,1/o,i)),t}function yj(t,e=0,r=1,i=.5,o,u=t,c=t){if(za.test(e)&&(e=parseFloat(e),e=xt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=xt(u.min,u.max,i);t===u&&(f-=e),t.min=_b(t.min,e,r,f,o),t.max=_b(t.max,e,r,f,o)}function Sb(t,e,[r,i,o],u,c){yj(t,e[r],e[i],e[o],e.scale,u,c)}const vj=["x","scaleX","originX"],bj=["y","scaleY","originY"];function Eb(t,e,r,i){Sb(t.x,e,vj,r?r.x:void 0,i?i.x:void 0),Sb(t.y,e,bj,r?r.y:void 0,i?i.y:void 0)}function xb(t,e){t.min=e.min,t.max=e.max}function xa(t,e){xb(t.x,e.x),xb(t.y,e.y)}function Tb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Rb(t){return t.translate===0&&t.scale===1}function OS(t){return Rb(t.x)&&Rb(t.y)}function Ab(t,e){return t.min===e.min&&t.max===e.max}function wj(t,e){return Ab(t.x,e.x)&&Ab(t.y,e.y)}function Cb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kS(t,e){return Cb(t.x,e.x)&&Cb(t.y,e.y)}function Ob(t){return _n(t.x)/_n(t.y)}function kb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function la(t){return[t("x"),t("y")]}function _j(t,e,r){let i="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=r?.z||0;if((o||u||c)&&(i=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:y,rotateX:g,rotateY:v,skewX:w,skewY:S}=r;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),w&&(i+=`skewX(${w}deg) `),S&&(i+=`skewY(${S}deg) `)}const f=t.x.scale*e.x,h=t.y.scale*e.y;return(f!==1||h!==1)&&(i+=`scale(${f}, ${h})`),i||"none"}const MS=["TopLeft","TopRight","BottomLeft","BottomRight"],Sj=MS.length,Mb=t=>typeof t=="string"?parseFloat(t):t,Db=t=>typeof t=="number"||me.test(t);function Ej(t,e,r,i,o,u){o?(t.opacity=xt(0,r.opacity??1,xj(i)),t.opacityExit=xt(e.opacity??1,0,Tj(i))):u&&(t.opacity=xt(e.opacity??1,r.opacity??1,i));for(let c=0;c<Sj;c++){const f=`border${MS[c]}Radius`;let h=jb(e,f),m=jb(r,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Db(h)===Db(m)?(t[f]=Math.max(xt(Mb(h),Mb(m),i),0),(za.test(m)||za.test(h))&&(t[f]+="%")):t[f]=m}(e.rotate||r.rotate)&&(t.rotate=xt(e.rotate||0,r.rotate||0,i))}function jb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xj=DS(0,.5,T_),Tj=DS(.5,.95,da);function DS(t,e,r){return i=>i<t?0:i>e?1:r(Jo(t,e,i))}function Rj(t,e){const r=wn.now(),i=({timestamp:o})=>{const u=o-r;u>=e&&(Ir(i),t(u-e))};return vt.setup(i,!0),()=>Ir(i)}function el(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function Hu(t){return yn(t)?t.get():t}function Aj(t,e,r){const i=yn(t)?t:Os(t);return i.start(Cm("",i,e,r)),i.animation}const Cj=(t,e)=>t.depth-e.depth;class Oj{constructor(){this.children=[],this.isDirty=!1}add(e){dm(this.children,e),this.isDirty=!0}remove(e){fm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Cj),this.isDirty=!1,this.children.forEach(e)}}class kj{constructor(){this.members=[]}add(e){dm(this.members,e),e.scheduleRender()}remove(e){if(fm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let i;for(let o=r;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const qu={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Qf=["","X","Y","Z"],Mj=1e3;let Dj=0;function Zf(t,e,r,i){const{latestValues:o}=e;o[t]&&(r[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function jS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Q_(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",vt,!(o||u))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&jS(i)}function NS({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},f=e?.()){this.id=Dj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Lj),this.nodes.forEach(Pj),this.nodes.forEach(Vj),this.nodes.forEach(Uj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new pm),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const h=this.eventHandlers.get(c);h&&h.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=cS(c)&&!ND(c),this.instance=c;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),t){let y,g=0;const v=()=>this.root.updateBlockedByResize=!1;vt.read(()=>{g=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,y&&y(),y=Rj(v,250),qu.hasAnimatedSinceResize&&(qu.hasAnimatedSinceResize=!1,this.nodes.forEach(Ub)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||m.getDefaultTransition()||Gj,{onLayoutAnimationStart:T,onLayoutAnimationComplete:A}=m.getProps(),C=!this.targetLayout||!kS(this.targetLayout,w),D=!g&&v;if(this.options.layoutRoot||this.resumeFrom||D||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Am(S,"layout"),onPlay:T,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(y,D)}else g||Ub(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($j),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const g=this.path[y];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Bj),this.nodes.forEach(jj),this.nodes.forEach(Nj)):this.nodes.forEach(Lb),this.clearAllSnapshots();const f=wn.now();fn.delta=Pa(0,1e3/60,f-fn.timestamp),fn.timestamp=f,fn.isProcessing=!0,If.update.process(fn),If.preRender.process(fn),If.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zj),this.sharedNodes.forEach(Hj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!OS(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(f||bi(this.latestValues)||y)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return c&&(h=this.removeTransform(h)),Kj(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Wt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Yj))){const{scroll:m}=this.root;m&&(Es(f.x,m.offset.x),Es(f.y,m.offset.y))}return f}removeElementScroll(c){const f=Wt();if(xa(f,c),this.scroll?.wasRoot)return f;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:y,options:g}=m;m!==this.root&&y&&g.layoutScroll&&(y.wasRoot&&xa(f,c),Es(f.x,y.offset.x),Es(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const h=Wt();xa(h,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&xs(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),bi(y.latestValues)&&xs(h,y.latestValues)}return bi(this.latestValues)&&xs(h,this.latestValues),h}removeTransform(c){const f=Wt();xa(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!bi(m.latestValues))continue;qh(m.latestValues)&&m.updateSnapshot();const y=Wt(),g=m.measurePageBox();xa(y,g),Eb(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return bi(this.latestValues)&&Eb(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:g}=this.options;if(!this.layout||!(y||g))return;this.resolvedRelativeTargetAt=fn.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xa(this.target,this.layout.layoutBox),yS(this.target,this.targetDelta)):xa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||qh(this.parent.latestValues)||gS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),nc(this.relativeTargetOrigin,f,h),xa(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;xa(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;GD(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Wt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tb(this.prevProjectionDelta.x,this.projectionDelta.x),Tb(this.prevProjectionDelta.y,this.projectionDelta.y)),Po(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!kb(this.projectionDelta.x,this.prevProjectionDelta.x)||!kb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ss(),this.projectionDelta=Ss(),this.projectionDeltaWithTransform=Ss()}setAnimationOrigin(c,f=!1){const h=this.snapshot,m=h?h.latestValues:{},y={...this.latestValues},g=Ss();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=Wt(),w=h?h.source:void 0,S=this.layout?this.layout.source:void 0,T=w!==S,A=this.getStack(),C=!A||A.members.length<=1,D=!!(T&&!C&&this.options.crossfade===!0&&!this.path.some(Ij));this.animationProgress=0;let k;this.mixTargetDelta=J=>{const Z=J/1e3;zb(g.x,c.x,Z),zb(g.y,c.y,Z),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qj(this.relativeTarget,this.relativeTargetOrigin,v,Z),k&&wj(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Wt()),xa(k,this.relativeTarget)),T&&(this.animationValues=y,Ej(y,m,this.latestValues,Z,D,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{qu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Os(0)),this.currentAnimation=Aj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:y}=c;if(!(!f||!h||!m)){if(this!==c&&this.layout&&m&&LS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Wt();const g=_n(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+g;const v=_n(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}xa(f,h),xs(f,y),Po(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new kj),this.sharedNodes.get(c).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&Zf("z",c,m,this.animationValues);for(let y=0;y<Qf.length;y++)Zf(`rotate${Qf[y]}`,c,m,this.animationValues),Zf(`skew${Qf[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Hu(f?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Hu(f?.pointerEvents)||""),this.hasProjected&&!bi(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let g=_j(this.projectionDeltaWithTransform,this.treeScale,y);h&&(g=h(y,g)),c.transform=g;const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in Gh){if(y[S]===void 0)continue;const{correct:T,applyTo:A,isCSSVariable:C}=Gh[S],D=g==="none"?y[S]:T(y[S],m);if(A){const k=A.length;for(let J=0;J<k;J++)c[A[J]]=D}else C?this.options.visualElement.renderState.vars[S]=D:c[S]=D}this.options.layoutId&&(c.pointerEvents=m===this?Hu(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Nb),this.root.sharedNodes.clear()}}}function jj(t){t.updateLayout()}function Nj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,u=e.source!==t.layout.source;o==="size"?la(y=>{const g=u?e.measuredBox[y]:e.layoutBox[y],v=_n(g);g.min=r[y].min,g.max=g.min+v}):LS(o,e.layoutBox,r)&&la(y=>{const g=u?e.measuredBox[y]:e.layoutBox[y],v=_n(r[y]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+v)});const c=Ss();Po(c,r,e.layoutBox);const f=Ss();u?Po(f,t.applyTransform(i,!0),e.measuredBox):Po(f,r,e.layoutBox);const h=!OS(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:g,layout:v}=y;if(g&&v){const w=Wt();nc(w,e.layoutBox,g.layoutBox);const S=Wt();nc(S,r,v.layoutBox),kS(w,S)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Lj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Uj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zj(t){t.clearSnapshot()}function Nb(t){t.clearMeasurements()}function Lb(t){t.isLayoutDirty=!1}function Bj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ub(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Pj(t){t.resolveTargetDelta()}function Vj(t){t.calcProjection()}function $j(t){t.resetSkewAndRotation()}function Hj(t){t.removeLeadSnapshot()}function zb(t,e,r){t.translate=xt(e.translate,0,r),t.scale=xt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Bb(t,e,r,i){t.min=xt(e.min,r.min,i),t.max=xt(e.max,r.max,i)}function qj(t,e,r,i){Bb(t.x,e.x,r.x,i),Bb(t.y,e.y,r.y,i)}function Ij(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Gj={duration:.45,ease:[.4,0,.1,1]},Pb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Vb=Pb("applewebkit/")&&!Pb("chrome/")?Math.round:da;function $b(t){t.min=Vb(t.min),t.max=Vb(t.max)}function Kj(t){$b(t.x),$b(t.y)}function LS(t,e,r){return t==="position"||t==="preserve-aspect"&&!pj(Ob(e),Ob(r),.2)}function Yj(t){return t!==t.root&&t.scroll?.wasRoot}const Fj=NS({attachResizeListener:(t,e)=>el(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eh={current:void 0},US=NS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!eh.current){const t=new Fj({});t.mount(window),t.setOptions({layoutScroll:!0}),eh.current=t}return eh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Bm=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Hb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xj(...t){return e=>{let r=!1;const i=t.map(o=>{const u=Hb(o,e);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let o=0;o<i.length;o++){const u=i[o];typeof u=="function"?u():Hb(t[o],null)}}}}function Jj(...t){return R.useCallback(Xj(...t),t)}class Wj extends R.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=r.offsetParent,o=iS(i)&&i.offsetWidth||0,u=this.props.sizeRef.current;u.height=r.offsetHeight||0,u.width=r.offsetWidth||0,u.top=r.offsetTop,u.left=r.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Qj({children:t,isPresent:e,anchorX:r,root:i}){const o=R.useId(),u=R.useRef(null),c=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=R.useContext(Bm),h=t.props?.ref??t?.ref,m=Jj(u,h);return R.useInsertionEffect(()=>{const{width:y,height:g,top:v,left:w,right:S}=c.current;if(e||!u.current||!y||!g)return;const T=r==="left"?`left: ${w}`:`right: ${S}`;u.current.dataset.motionPopId=o;const A=document.createElement("style");f&&(A.nonce=f);const C=i??document.head;return C.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${g}px !important;
            ${T}px !important;
            top: ${v}px !important;
          }
        `),()=>{C.contains(A)&&C.removeChild(A)}},[e]),V.jsx(Wj,{isPresent:e,childRef:u,sizeRef:c,children:R.cloneElement(t,{ref:m})})}const Zj=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:u,mode:c,anchorX:f,root:h})=>{const m=cm(eN),y=R.useId();let g=!0,v=R.useMemo(()=>(g=!1,{id:y,initial:e,isPresent:r,custom:o,onExitComplete:w=>{m.set(w,!0);for(const S of m.values())if(!S)return;i&&i()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[r,m,i]);return u&&g&&(v={...v}),R.useMemo(()=>{m.forEach((w,S)=>m.set(S,!1))},[r]),R.useEffect(()=>{!r&&!m.size&&i&&i()},[r]),c==="popLayout"&&(t=V.jsx(Qj,{isPresent:r,anchorX:f,root:h,children:t})),V.jsx(fc.Provider,{value:v,children:t})};function eN(){return new Map}function zS(t=!0){const e=R.useContext(fc);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:o}=e,u=R.useId();R.useEffect(()=>{if(t)return o(u)},[t]);const c=R.useCallback(()=>t&&i&&i(u),[u,i,t]);return!r&&i?[!1,c]:[!0]}const Nu=t=>t.key||"";function qb(t){const e=[];return R.Children.forEach(t,r=>{R.isValidElement(r)&&e.push(r)}),e}const tN=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:f="left",root:h})=>{const[m,y]=zS(c),g=R.useMemo(()=>qb(t),[t]),v=c&&!m?[]:g.map(Nu),w=R.useRef(!0),S=R.useRef(g),T=cm(()=>new Map),A=R.useRef(new Set),[C,D]=R.useState(g),[k,J]=R.useState(g);m_(()=>{w.current=!1,S.current=g;for(let x=0;x<k.length;x++){const j=Nu(k[x]);v.includes(j)?(T.delete(j),A.current.delete(j)):T.get(j)!==!0&&T.set(j,!1)}},[k,v.length,v.join("-")]);const Z=[];if(g!==C){let x=[...g];for(let j=0;j<k.length;j++){const Y=k[j],fe=Nu(Y);v.includes(fe)||(x.splice(j,0,Y),Z.push(Y))}return u==="wait"&&Z.length&&(x=Z),J(qb(x)),D(g),null}const{forceRender:G}=R.useContext(um);return V.jsx(V.Fragment,{children:k.map(x=>{const j=Nu(x),Y=c&&!m?!1:g===k||v.includes(j),fe=()=>{if(A.current.has(j))return;if(A.current.add(j),T.has(j))T.set(j,!0);else return;let ye=!0;T.forEach(Ae=>{Ae||(ye=!1)}),ye&&(G?.(),J(S.current),c&&y?.(),i&&i())};return V.jsx(Zj,{isPresent:Y,initial:!w.current||r?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,root:h,onExitComplete:Y?void 0:fe,anchorX:f,children:x},j)})})},BS=R.createContext({strict:!1}),Ib={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Gb=!1;function nN(){if(Gb)return;const t={};for(const e in Ib)t[e]={isEnabled:r=>Ib[e].some(i=>!!r[i])};hS(t),Gb=!0}function PS(){return nN(),$D()}function aN(t){const e=PS();for(const r in t)e[r]={...e[r],...t[r]};hS(e)}const rN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ac(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rN.has(t)}let VS=t=>!ac(t);function iN(t){typeof t=="function"&&(VS=e=>e.startsWith("on")?!ac(e):t(e))}try{iN(require("@emotion/is-prop-valid").default)}catch{}function sN(t,e,r){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(VS(o)||r===!0&&ac(o)||!e&&!ac(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const pc=R.createContext({});function oN(t,e){if(mc(t)){const{initial:r,animate:i}=t;return{initial:r===!1||Zo(r)?r:void 0,animate:Zo(i)?i:void 0}}return t.inherit!==!1?e:{}}function lN(t){const{initial:e,animate:r}=oN(t,R.useContext(pc));return R.useMemo(()=>({initial:e,animate:r}),[Kb(e),Kb(r)])}function Kb(t){return Array.isArray(t)?t.join(" "):t}const Pm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $S(t,e,r){for(const i in e)!yn(e[i])&&!wS(i,r)&&(t[i]=e[i])}function uN({transformTemplate:t},e){return R.useMemo(()=>{const r=Pm();return Um(r,e,t),Object.assign({},r.vars,r.style)},[e])}function cN(t,e){const r=t.style||{},i={};return $S(i,r,t),Object.assign(i,uN(t,e)),i}function dN(t,e){const r={},i=cN(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const HS=()=>({...Pm(),attrs:{}});function fN(t,e,r,i){const o=R.useMemo(()=>{const u=HS();return _S(u,e,ES(i),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};$S(u,t.style,t),o.style={...u,...o.style}}return o}const hN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vm(t){return typeof t!="string"||t.includes("-")?!1:!!(hN.indexOf(t)>-1||/[A-Z]/u.test(t))}function mN(t,e,r,{latestValues:i},o,u=!1,c){const h=(c??Vm(t)?fN:dN)(e,i,o,t),m=sN(e,typeof t=="string",u),y=t!==R.Fragment?{...m,...h,ref:r}:{},{children:g}=e,v=R.useMemo(()=>yn(g)?g.get():g,[g]);return R.createElement(t,{...y,children:v})}function pN({scrapeMotionValuesFromProps:t,createRenderState:e},r,i,o){return{latestValues:gN(r,i,o,t),renderState:e()}}function gN(t,e,r,i){const o={},u=i(t,{});for(const v in u)o[v]=Hu(u[v]);let{initial:c,animate:f}=t;const h=mc(t),m=fS(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=r?r.initial===!1:!1;y=y||c===!1;const g=y?f:c;if(g&&typeof g!="boolean"&&!hc(g)){const v=Array.isArray(g)?g:[g];for(let w=0;w<v.length;w++){const S=Om(t,v[w]);if(S){const{transitionEnd:T,transition:A,...C}=S;for(const D in C){let k=C[D];if(Array.isArray(k)){const J=y?k.length-1:0;k=k[J]}k!==null&&(o[D]=k)}for(const D in T)o[D]=T[D]}}}return o}const qS=t=>(e,r)=>{const i=R.useContext(pc),o=R.useContext(fc),u=()=>pN(t,e,i,o);return r?u():cm(u)},yN=qS({scrapeMotionValuesFromProps:zm,createRenderState:Pm}),vN=qS({scrapeMotionValuesFromProps:xS,createRenderState:HS}),bN=Symbol.for("motionComponentSymbol");function wN(t,e,r){const i=R.useRef(r);R.useInsertionEffect(()=>{i.current=r});const o=R.useRef(null);return R.useCallback(u=>{u&&t.onMount?.(u),e&&(u?e.mount(u):e.unmount());const c=i.current;if(typeof c=="function")if(u){const f=c(u);typeof f=="function"&&(o.current=f)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[e])}const IS=R.createContext({});function jo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _N(t,e,r,i,o,u){const{visualElement:c}=R.useContext(pc),f=R.useContext(BS),h=R.useContext(fc),m=R.useContext(Bm).reducedMotion,y=R.useRef(null);i=i||f.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:c,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m,isSVG:u}));const g=y.current,v=R.useContext(IS);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&SN(y.current,r,o,v);const w=R.useRef(!1);R.useInsertionEffect(()=>{g&&w.current&&g.update(r,h)});const S=r[W_],T=R.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return m_(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),T.current&&g.animationState&&g.animationState.animateChanges())}),R.useEffect(()=>{g&&(!T.current&&g.animationState&&g.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),T.current=!1),g.enteringChildren=void 0)}),g}function SN(t,e,r,i){const{layoutId:o,layout:u,drag:c,dragConstraints:f,layoutScroll:h,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:GS(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||f&&jo(f),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:h,layoutRoot:m})}function GS(t){if(t)return t.options.allowProjection!==!1?t.projection:GS(t.parent)}function th(t,{forwardMotionProps:e=!1,type:r}={},i,o){i&&aN(i);const u=r?r==="svg":Vm(t),c=u?vN:yN;function f(m,y){let g;const v={...R.useContext(Bm),...m,layoutId:EN(m)},{isStatic:w}=v,S=lN(m),T=c(m,w);if(!w&&h_){xN();const A=TN(v);g=A.MeasureLayout,S.visualElement=_N(t,T,v,o,A.ProjectionNode,u)}return V.jsxs(pc.Provider,{value:S,children:[g&&S.visualElement?V.jsx(g,{visualElement:S.visualElement,...v}):null,mN(t,m,wN(T,S.visualElement,y),T,w,e,u)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=R.forwardRef(f);return h[bN]=t,h}function EN({layoutId:t}){const e=R.useContext(um).id;return e&&t!==void 0?e+"-"+t:t}function xN(t,e){R.useContext(BS).strict}function TN(t){const e=PS(),{drag:r,layout:i}=e;if(!r&&!i)return{};const o={...r,...i};return{MeasureLayout:r?.isEnabled(t)||i?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function RN(t,e){if(typeof Proxy>"u")return th;const r=new Map,i=(u,c)=>th(u,c,t,e),o=(u,c)=>i(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?i:(r.has(c)||r.set(c,th(c,void 0,t,e)),r.get(c))})}const AN=(t,e)=>e.isSVG??Vm(t)?new rj(e):new QD(e,{allowProjection:t!==R.Fragment});class CN extends Fr{constructor(e){super(e),e.animationState||(e.animationState=uj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ON=0;class kN extends Fr{constructor(){super(...arguments),this.id=ON++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);r&&!e&&o.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MN={animation:{Feature:CN},exit:{Feature:kN}};function cl(t){return{point:{x:t.pageX,y:t.pageY}}}const DN=t=>e=>jm(e)&&t(e,cl(e));function Vo(t,e,r,i){return el(t,e,DN(r),i)}const KS=({current:t})=>t?t.ownerDocument.defaultView:null,Yb=(t,e)=>Math.abs(t-e);function jN(t,e){const r=Yb(t.x,e.x),i=Yb(t.y,e.y);return Math.sqrt(r**2+i**2)}const Fb=new Set(["auto","scroll"]);class YS{constructor(e,r,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ah(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=jN(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:A}=w,{timestamp:C}=fn;this.history.push({...A,timestamp:C});const{onStart:D,onMove:k}=this.handlers;S||(D&&D(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,w)},this.handlePointerMove=(w,S)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=nh(S,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(w,S)=>{this.end();const{onEnd:T,onSessionEnd:A,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=ah(w.type==="pointercancel"?this.lastMoveEventInfo:nh(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(w,D),A&&A(w,D)},!jm(e))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=o||window;const h=cl(e),m=nh(h,this.transformPagePoint),{point:y}=m,{timestamp:g}=fn;this.history=[{...y,timestamp:g}];const{onSessionStart:v}=r;v&&v(e,ah(m,this.history)),this.removeListeners=ol(Vo(this.contextWindow,"pointermove",this.handlePointerMove),Vo(this.contextWindow,"pointerup",this.handlePointerUp),Vo(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let r=e.parentElement;for(;r;){const i=getComputedStyle(r);(Fb.has(i.overflowX)||Fb.has(i.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const i=e===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},u={x:o.x-r.x,y:o.y-r.y};u.x===0&&u.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(e,o),vt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ir(this.updatePoint)}}function nh(t,e){return e?{point:e(t.point)}:t}function Xb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ah({point:t},e){return{point:t,delta:Xb(t,FS(e)),offset:Xb(t,NN(e)),velocity:LN(e,.1)}}function NN(t){return t[0]}function FS(t){return t[t.length-1]}function LN(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const o=FS(t);for(;r>=0&&(i=t[r],!(o.timestamp-i.timestamp>cr(e)));)r--;if(!i)return{x:0,y:0};const u=ca(o.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-i.x)/u,y:(o.y-i.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function UN(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?xt(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?xt(r,t,i.max):Math.min(t,r)),t}function Jb(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function zN(t,{top:e,left:r,bottom:i,right:o}){return{x:Jb(t.x,r,o),y:Jb(t.y,e,i)}}function Wb(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function BN(t,e){return{x:Wb(t.x,e.x),y:Wb(t.y,e.y)}}function PN(t,e){let r=.5;const i=_n(t),o=_n(e);return o>i?r=Jo(e.min,e.max-i,t.min):i>o&&(r=Jo(t.min,t.max-o,e.min)),Pa(0,1,r)}function VN(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Kh=.35;function $N(t=Kh){return t===!1?t=0:t===!0&&(t=Kh),{x:Qb(t,"left","right"),y:Qb(t,"top","bottom")}}function Qb(t,e,r){return{min:Zb(t,e),max:Zb(t,r)}}function Zb(t,e){return typeof t=="number"?t:t[e]||0}const HN=new WeakMap;class qN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=g=>{r?(this.stopAnimation(),this.snapToCursor(cl(g).point)):this.pauseAnimation()},c=(g,v)=>{this.stopAnimation();const{drag:w,dragPropagation:S,onDragStart:T}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OD(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),la(C=>{let D=this.getAxisMotionValue(C).get()||0;if(za.test(D)){const{projection:k}=this.visualElement;if(k&&k.layout){const J=k.layout.layoutBox[C];J&&(D=_n(J)*(parseFloat(D)/100))}}this.originPoint[C]=D}),T&&vt.postRender(()=>T(g,v)),Ph(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},f=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:T,onDrag:A}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:C}=v;if(S&&this.currentDirection===null){this.currentDirection=IN(C),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),A&&A(g,v)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>la(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new YS(e,{onSessionStart:u,onStart:c,onMove:f,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:KS(this.visualElement),element:this.visualElement.current})}stop(e,r){const i=e||this.latestPointerEvent,o=r||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!i)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&vt.postRender(()=>f(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:o}=this.getProps();if(!i||!Lu(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=UN(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&jo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=zN(i.layoutBox,e):this.constraints=!1,this.elastic=$N(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&la(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=VN(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!jo(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=KD(i,o.root,this.visualElement.getTransformPagePoint());let c=BN(o.layout.layoutBox,u);if(r){const f=r(qD(c));this.hasMutatedConstraints=!!f,f&&(c=pS(f))}return c}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=la(y=>{if(!Lu(y,r,this.currentDirection))return;let g=h&&h[y]||{};c&&(g={min:0,max:0});const v=o?200:1e6,w=o?40:1e7,S={type:"inertia",velocity:i?e[y]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...g};return this.startAxisValueAnimation(y,S)});return Promise.all(m).then(f)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return Ph(this.visualElement,e),i.start(Cm(e,i,0,r,this.visualElement,!1))}stopAnimation(){la(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){la(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[r];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){la(r=>{const{drag:i}=this.getProps();if(!Lu(r,i,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[r],h=u.get()||0;u.set(e[r]-xt(c,f,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!jo(r)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};la(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const h=f.get();o[c]=PN({min:h,max:h},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),la(c=>{if(!Lu(c,e,null))return;const f=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];f.set(xt(h,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;HN.set(this.visualElement,this);const e=this.visualElement.current,r=Vo(e,"pointerdown",h=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&!uS(h.target)&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();jo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),vt.read(i);const c=el(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(la(y=>{const g=this.getAxisMotionValue(y);g&&(this.originPoint[y]+=h[y].translate,g.set(g.get()+h[y].translate))}),this.visualElement.render())}));return()=>{c(),r(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Kh,dragMomentum:f=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:f}}}function Lu(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function IN(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class GN extends Fr{constructor(e){super(e),this.removeGroupControls=da,this.removeListeners=da,this.controls=new qN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||da}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const ew=t=>(e,r)=>{t&&vt.postRender(()=>t(e,r))};class KN extends Fr{constructor(){super(...arguments),this.removePointerDownListener=da}onPointerDown(e){this.session=new YS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:ew(e),onStart:ew(r),onMove:i,onEnd:(u,c)=>{delete this.session,o&&vt.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Vo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let rh=!1;class YN extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:o}=this.props,{projection:u}=e;u&&(r.group&&r.group.add(u),i&&i.register&&o&&i.register(u),rh&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),qu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:o,isPresent:u}=this.props,{projection:c}=i;return c&&(c.isPresent=u,rh=!0,o||e.layoutDependency!==r||r===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||vt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Dm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:o}=e;rh=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XS(t){const[e,r]=zS(),i=R.useContext(um);return V.jsx(YN,{...t,layoutGroup:i,switchLayoutGroup:R.useContext(IS),isPresent:e,safeToRemove:r})}const FN={pan:{Feature:KN},drag:{Feature:GN,ProjectionNode:US,MeasureLayout:XS}};function tw(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,u=i[o];u&&vt.postRender(()=>u(e,cl(e)))}class XN extends Fr{mount(){const{current:e}=this.node;e&&(this.unmount=kD(e,(r,i)=>(tw(this.node,i,"Start"),o=>tw(this.node,o,"End"))))}unmount(){}}class JN extends Fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ol(el(this.node.current,"focus",()=>this.onFocus()),el(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nw(t,e,r){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),u=i[o];u&&vt.postRender(()=>u(e,cl(e)))}class WN extends Fr{mount(){const{current:e}=this.node;e&&(this.unmount=jD(e,(r,i)=>(nw(this.node,i,"Start"),(o,{success:u})=>nw(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yh=new WeakMap,ih=new WeakMap,QN=t=>{const e=Yh.get(t.target);e&&e(t)},ZN=t=>{t.forEach(QN)};function eL({root:t,...e}){const r=t||document;ih.has(r)||ih.set(r,{});const i=ih.get(r),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(ZN,{root:t,...e})),i[o]}function tL(t,e,r){const i=eL(e);return Yh.set(t,r),i.observe(t),()=>{Yh.delete(t),i.unobserve(t)}}const nL={some:0,all:1};class aL extends Fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:o="some",once:u}=e,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:nL[o]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,u&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:g}=this.node.getProps(),v=m?y:g;v&&v(h)};return tL(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(rL(e,r))&&this.startObserver()}unmount(){}}function rL({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const iL={inView:{Feature:aL},tap:{Feature:WN},focus:{Feature:JN},hover:{Feature:XN}},sL={layout:{ProjectionNode:US,MeasureLayout:XS}},oL={...MN,...iL,...FN,...sL},ur=RN(oL,AN),aw={red:"bg-gradient-to-br from-red-500 to-red-600",blue:"bg-gradient-to-br from-blue-500 to-blue-600",yellow:"bg-gradient-to-br from-yellow-400 to-yellow-500",green:"bg-gradient-to-br from-green-500 to-green-600",orange:"bg-gradient-to-br from-orange-400 to-orange-600",purple:"bg-gradient-to-br from-purple-400 to-purple-600",pink:"bg-gradient-to-br from-pink-400 to-pink-600",light_blue:"bg-gradient-to-br from-sky-400 to-sky-600",black:"bg-gradient-to-br from-neutral-800 to-black"},lL={red:"orange",yellow:"purple",green:"pink",blue:"light_blue"},uL=(t,e)=>aw[e?lL[t??""]:t]??aw.black,sh=(t,e=!1)=>{if(!t)return null;const r=e?"w-4 h-4":"w-8 h-8",i=u=>V.jsxs("div",{className:"flex items-center",children:[V.jsx(_A,{className:e?"w-3 h-3":"w-6 h-6"}),V.jsx("span",{className:e?"text-xs font-bold":"text-2xl font-bold",children:u})]});return{skip:V.jsx(QR,{className:r}),skip_everyone:V.jsx(AA,{className:r}),reverse:V.jsx(EA,{className:r}),draw_one:i("1"),draw_two:i("2"),draw_five:i("5"),wild_draw_two:i("2"),wild:V.jsx(yA,{className:r}),wild_draw_until:V.jsx(eA,{className:r}),flip:V.jsx(cA,{className:r})}[t]??V.jsx("span",{className:e?"text-sm":"text-4xl font-bold",children:t})},tl=({lightColor:t,lightValue:e,darkColor:r,darkValue:i,isFlipped:o=!1,isHoverable:u,onClick:c,onDragEnd:f,delay:h=0,className:m="",style:y,rotation:g=0,showBothSides:v=!1,isDarkSide:w=!1})=>{const[S,T]=R.useState(o);R.useEffect(()=>{T(v?w:!w)},[v,w]);const A=()=>{v&&(T(!S),c?.())},C=(D,k,J=!1)=>V.jsxs("div",{className:`absolute inset-0 rounded-xl shadow-lg border-4 ${J?"border-purple-900":"border-white"} flex items-center justify-center ${uL(D,J)}`,style:{transform:J?"rotateY(180deg)":void 0,backfaceVisibility:"hidden"},children:[V.jsx("div",{className:"absolute top-1 left-2 text-white drop-shadow",children:sh(k,!0)}),V.jsx("div",{className:"text-white",children:sh(k)}),V.jsx("div",{className:"absolute bottom-1 right-2 text-white drop-shadow rotate-180",children:sh(k,!0)})]});return V.jsx(ur.div,{className:`relative w-20 h-28 cursor-pointer ${m}`,style:{...y,rotate:g},initial:{opacity:0,scale:.5,y:-200,rotate:-10},animate:{opacity:1,scale:1,y:0,rotate:g},transition:{delay:h/1e3,type:"spring",stiffness:260,damping:20},whileHover:u?{y:-20,scale:1.05}:{},drag:u,dragElastic:.8,onDragEnd:f,onClick:A,children:V.jsxs(ur.div,{className:"w-full h-full rounded-xl",style:{transformStyle:"preserve-3d"},animate:{rotateY:S?180:0},transition:{duration:.6,ease:"easeInOut"},children:[C(t??void 0,e),C(r??void 0,i,!0)]})})};function JS(t){const[e,r]=R.useState([]),[i,o]=R.useState(!0),[u,c]=R.useState(null),[f,h]=R.useState(null),m=R.useRef(!0);R.useEffect(()=>{if(!t)return;(async()=>{const{data:v,error:w}=await Pe.from("rooms").select("id").eq("code",t).single();if(w){m.current&&(c(w.message),o(!1));return}m.current&&v&&h(v.id)})()},[t]);const y=R.useCallback(async()=>{if(!f)return;const{data:g,error:v}=await Pe.from("room_players").select("player_id,last_seen,joined_at,players(nickname)").eq("room_id",f).order("joined_at",{ascending:!0});if(v){console.error("Failed to fetch players:",v),m.current&&(c(v.message),o(!1));return}m.current&&(r((g||[]).map(w=>({player_id:w.player_id,last_seen:w.last_seen,joined_at:w.joined_at,nickname:w.players?.nickname}))),o(!1))},[f]);return R.useEffect(()=>{if(!f)return;const g=async()=>{const w=(await Pe.auth.getUser()).data.user;w&&await Pe.from("room_players").update({last_seen:new Date().toISOString()}).eq("room_id",f).eq("player_id",w.id)};g();const v=setInterval(g,1e4);return()=>clearInterval(v)},[f]),R.useEffect(()=>{if(!f)return;y();const g=Pe.channel(`room_players:${f}`).on("postgres_changes",{event:"*",schema:"public",table:"room_players",filter:`room_id=eq.${f}`},()=>{y()}).subscribe();return()=>{Pe.removeChannel(g)}},[f,y]),R.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]),{players:e,loading:i,error:u}}function cL({player:t,isCurrent:e,isActive:r,inactive:i,isDarkSide:o,position:u,onPlayCard:c}){const[f,h]=R.useState(null),[m,y]=R.useState(!1),g=R.useRef(!1),v=R.useRef(null),w=t.cards.length===1;R.useEffect(()=>{if(w&&!g.current){g.current=!0,y(!0);const T=setTimeout(()=>y(!1),1500);return()=>clearTimeout(T)}w||(g.current=!1)},[w]);const S=(T,A)=>{if(e){if(v.current){clearTimeout(v.current),v.current=null,h(null),c?.(A);return}v.current=setTimeout(()=>{v.current=null,h(A.room_card_id)},220)}};return V.jsx(ur.div,{className:"absolute flex flex-col items-center gap-1",style:{transform:`translate(${u.translateX}px, ${u.translateY}px) scale(${e?1.2:1})`},children:V.jsxs("div",{className:"h-32 mt-2",style:{transform:`rotate(${u.rotation}deg)`},children:[V.jsx(tN,{children:m&&V.jsx(ur.div,{initial:{scale:0,y:20,opacity:0},animate:{scale:1.4,y:-40,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300},className:"absolute -top-10 text-red-500 font-black text-2xl drop-shadow-lg pointer-events-none",children:"UNO!"})}),V.jsx(ur.div,{className:"relative flex items-start cursor-grab w-full",drag:"x",dragConstraints:{left:-Math.max(t.cards.length*30-200,0),right:0},children:t.cards.map((T,A)=>{const{light:C,dark:D}=T.visible_card??{light:{color:null,value:null},dark:{color:null,value:null}},{rotation:k,offsetX:J}=f_(A,t.cards.length),Z=f===T.room_card_id;return V.jsx(ur.div,{className:`absolute top-0 cursor-pointer ${i?"opacity-50":""}`,style:{left:J,zIndex:e?50:10},animate:Z?{scale:1.1,y:-20,zIndex:10}:{scale:1,y:0,zIndex:1},onClick:()=>S(A,T),children:V.jsx(tl,{lightColor:C.color??"red",lightValue:C.value??"0",darkColor:D.color??"blue",darkValue:D.value??"flip",isFlipped:!1,showBothSides:e,isDarkSide:o,isHoverable:!1,rotation:k})},T.room_card_id)})}),V.jsx("div",{className:`text-sm font-semibold -translate-y-8 px-3 py-1 h-7 rounded-full backdrop-blur-sm transition-colors z-50 ${i?"bg-red-600/70 text-white":r?"bg-green-600 text-white":"bg-black/40 text-white/90"}`,children:e?"You":t.nickname})]})})}const dL=({cards:t,currentUserId:e,currentCard:r,drawCardTop:i,activePlayerId:o,isDarkSide:u=!1,roomCode:c,direction:f,drawStack:h=0,playerOrder:m,onCardPlay:y,onDrawCard:g})=>{const{players:v}=JS(c||""),w=o===e,S=x=>{const j=v.find(ye=>ye.player_id===x);if(!j?.last_seen)return!0;const Y=new Date(j.last_seen).getTime();return Date.now()-Y>4e4};if(!t?.length)return V.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:"Waiting for cards..."});const T=t.reduce((x,j)=>{const Y=j.owner_id??"unknown";return x[Y]||(x[Y]=[]),x[Y].push(j),x},{}),C=(m?.filter(x=>T[x])??Object.keys(T)).map(x=>({id:x,nickname:T[x][0]?.nickname||"Player",cards:T[x]})),D=C.findIndex(x=>x.id===e),k=C.length||1,J={bottom:{x:x=>x/2,y:(x,j,Y)=>j-Y+50,rotation:0},bottom1:{x:x=>x*.25,y:(x,j,Y)=>j-Y+50,rotation:0},bottom2:{x:x=>x*.75,y:(x,j,Y)=>j-Y+50,rotation:0},left:{x:(x,j,Y)=>Y-80,y:(x,j)=>j/2,rotation:90},left1:{x:(x,j,Y)=>Y-80,y:(x,j)=>j*.25,rotation:90},left2:{x:(x,j,Y)=>Y-80,y:(x,j)=>j*.75,rotation:90},top:{x:x=>x/2,y:(x,j,Y)=>Y-80,rotation:180},top1:{x:x=>x*.25,y:(x,j,Y)=>Y-80,rotation:180},top2:{x:x=>x*.75,y:(x,j,Y)=>Y-80,rotation:180},right:{x:(x,j,Y)=>x-Y+100,y:(x,j)=>j/2,rotation:270},right1:{x:(x,j,Y)=>x-Y+100,y:(x,j)=>j*.25,rotation:270},right2:{x:(x,j,Y)=>x-Y+100,y:(x,j)=>j*.75,rotation:270}},Z=x=>{const j=window.innerWidth,Y=window.innerHeight;return x===5?Y>j?["bottom1","left1","left2","right1","right2"]:["bottom1","top1","top2","left1","right1"]:x===6?Y>j?["bottom1","left1","left2","right1","right2","top1"]:["bottom1","top1","top2","left1","left2","right1"]:{2:["bottom","top"],3:["bottom","top","right"],4:["bottom","left","top","right"]}[x]??["bottom","left","top","right","left1","right1"]},G=(x,j)=>{const Y=window.innerWidth,fe=window.innerHeight,ye=80,Ae=(x-D+k)%k,Ue=Z(k)[Ae],xe=J[Ue];let B=xe.x(Y,fe,ye),W=xe.y(Y,fe,ye);if(j)switch(Ue[0]){case"r":B-=50;break;case"l":B+=50;break;case"t":W+=50;break;case"b":W-=50;break}return{translateX:B-Y/2,translateY:W-fe/2,rotation:xe.rotation}};return V.jsxs("div",{className:"relative w-full h-[95vh] flex items-center justify-center",children:[V.jsx(ur.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none",animate:{rotate:f==="clockwise"?360:-360},transition:{repeat:1/0,duration:9,ease:"linear"},style:{zIndex:10,opacity:.5},children:V.jsxs("svg",{width:300,height:300,viewBox:"0 0 200 200",children:[V.jsx("circle",{cx:"100",cy:"100",r:"90",stroke:"white",strokeWidth:"4",fill:"none",strokeOpacity:.2}),V.jsx("path",{d:f==="clockwise"?"M190,100 L180,95 L180,105 Z":"M10,100 L20,95 L20,105 Z",fill:"white",opacity:.2})]})}),V.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex gap-3",children:[r&&V.jsx(tl,{lightColor:r.light.color??"black",lightValue:r.light.value??null,darkColor:r.dark.color??"black",darkValue:r.dark.value??null,isDarkSide:!u}),V.jsxs("button",{onClick:()=>w&&g?.(),disabled:!w,className:`relative group transition-transform ${w?"hover:scale-105":"opacity-40 cursor-not-allowed"}`,children:[V.jsx("div",{className:"absolute inset-0 rounded-md scale-95 bg-black/10 rotate-3",style:{zIndex:0}}),h>0&&V.jsxs(ur.div,{initial:{scale:.8,opacity:0},animate:{scale:Math.min(1+h*.05,1.6),opacity:1},transition:{type:"spring",stiffness:300},className:`
        absolute -top-3 -right-3 z-20
        rounded-full px-3 py-1
        font-extrabold text-white
        shadow-lg
        ${h>=6?"bg-red-600 animate-pulse":h>=3?"bg-amber-500":"bg-slate-700"}
      `,children:["+",h]}),V.jsx(tl,{lightColor:i?.light.color??"blue",lightValue:i?.light.value??"7",darkColor:i?.dark.color??"red",darkValue:i?.dark.value??"7",isDarkSide:u,style:{zIndex:1,position:"relative"}}),V.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs text-gray-300",children:"Draw"})]})]}),C.map((x,j)=>{const Y=G(j,x.id===o);return V.jsx(cL,{player:x,isCurrent:x.id===e,isActive:x.id===o,inactive:S(x.id),isDarkSide:u,position:Y,onPlayCard:y},x.id)})]})};var $m={};(function t(e,r,i,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var L=new OffscreenCanvas(1,1),_=L.getContext("2d");_.fillRect(0,0,1,1);var z=L.transferToImageBitmap();_.createPattern(z,"no-repeat")}catch{return!1}return!0})();function h(){}function m(L){var _=r.exports.Promise,z=_!==void 0?_:e.Promise;return typeof z=="function"?new z(L):(L(h,h),null)}var y=(function(L,_){return{transform:function(z){if(L)return z;if(_.has(z))return _.get(z);var $=new OffscreenCanvas(z.width,z.height),X=$.getContext("2d");return X.drawImage(z,0,0),_.set(z,$),$},clear:function(){_.clear()}}})(f,new Map),g=(function(){var L=Math.floor(16.666666666666668),_,z,$={},X=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(te){var ie=Math.random();return $[ie]=requestAnimationFrame(function se(le){X===le||X+L-1<le?(X=le,delete $[ie],te()):$[ie]=requestAnimationFrame(se)}),ie},z=function(te){$[te]&&cancelAnimationFrame($[te])}):(_=function(te){return setTimeout(te,L)},z=function(te){return clearTimeout(te)}),{frame:_,cancel:z}})(),v=(function(){var L,_,z={};function $(X){function te(ie,se){X.postMessage({options:ie||{},callback:se})}X.init=function(se){var le=se.transferControlToOffscreen();X.postMessage({canvas:le},[le])},X.fire=function(se,le,Se){if(_)return te(se,null),_;var Ye=Math.random().toString(36).slice(2);return _=m(function(He){function Oe(at){at.data.callback===Ye&&(delete z[Ye],X.removeEventListener("message",Oe),_=null,y.clear(),Se(),He())}X.addEventListener("message",Oe),te(se,Ye),z[Ye]=Oe.bind(null,{data:{callback:Ye}})}),_},X.reset=function(){X.postMessage({reset:!0});for(var se in z)z[se](),delete z[se]}}return function(){if(L)return L;if(!i&&u){var X=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{L=new Worker(URL.createObjectURL(new Blob([X])))}catch(te){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",te),null}$(L)}return L}})(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(L,_){return _?_(L):L}function T(L){return L!=null}function A(L,_,z){return S(L&&T(L[_])?L[_]:w[_],z)}function C(L){return L<0?0:Math.floor(L)}function D(L,_){return Math.floor(Math.random()*(_-L))+L}function k(L){return parseInt(L,16)}function J(L){return L.map(Z)}function Z(L){var _=String(L).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:k(_.substring(0,2)),g:k(_.substring(2,4)),b:k(_.substring(4,6))}}function G(L){var _=A(L,"origin",Object);return _.x=A(_,"x",Number),_.y=A(_,"y",Number),_}function x(L){L.width=document.documentElement.clientWidth,L.height=document.documentElement.clientHeight}function j(L){var _=L.getBoundingClientRect();L.width=_.width,L.height=_.height}function Y(L){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=L,_}function fe(L,_,z,$,X,te,ie,se,le){L.save(),L.translate(_,z),L.rotate(te),L.scale($,X),L.arc(0,0,1,ie,se,le),L.restore()}function ye(L){var _=L.angle*(Math.PI/180),z=L.spread*(Math.PI/180);return{x:L.x,y:L.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:L.startVelocity*.5+Math.random()*L.startVelocity,angle2D:-_+(.5*z-Math.random()*z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:L.color,shape:L.shape,tick:0,totalTicks:L.ticks,decay:L.decay,drift:L.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:L.gravity*3,ovalScalar:.6,scalar:L.scalar,flat:L.flat}}function Ae(L,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var z=_.tick++/_.totalTicks,$=_.x+_.random*_.tiltCos,X=_.y+_.random*_.tiltSin,te=_.wobbleX+_.random*_.tiltCos,ie=_.wobbleY+_.random*_.tiltSin;if(L.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-z)+")",L.beginPath(),c&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))L.fill(W(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(te-$)*.1,Math.abs(ie-X)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var se=Math.PI/10*_.wobble,le=Math.abs(te-$)*.1,Se=Math.abs(ie-X)*.1,Ye=_.shape.bitmap.width*_.scalar,He=_.shape.bitmap.height*_.scalar,Oe=new DOMMatrix([Math.cos(se)*le,Math.sin(se)*le,-Math.sin(se)*Se,Math.cos(se)*Se,_.x,_.y]);Oe.multiplySelf(new DOMMatrix(_.shape.matrix));var at=L.createPattern(y.transform(_.shape.bitmap),"no-repeat");at.setTransform(Oe),L.globalAlpha=1-z,L.fillStyle=at,L.fillRect(_.x-Ye/2,_.y-He/2,Ye,He),L.globalAlpha=1}else if(_.shape==="circle")L.ellipse?L.ellipse(_.x,_.y,Math.abs(te-$)*_.ovalScalar,Math.abs(ie-X)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):fe(L,_.x,_.y,Math.abs(te-$)*_.ovalScalar,Math.abs(ie-X)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var je=Math.PI/2*3,Tt=4*_.scalar,ct=8*_.scalar,jt=_.x,an=_.y,bt=5,Qt=Math.PI/bt;bt--;)jt=_.x+Math.cos(je)*ct,an=_.y+Math.sin(je)*ct,L.lineTo(jt,an),je+=Qt,jt=_.x+Math.cos(je)*Tt,an=_.y+Math.sin(je)*Tt,L.lineTo(jt,an),je+=Qt;else L.moveTo(Math.floor(_.x),Math.floor(_.y)),L.lineTo(Math.floor(_.wobbleX),Math.floor(X)),L.lineTo(Math.floor(te),Math.floor(ie)),L.lineTo(Math.floor($),Math.floor(_.wobbleY));return L.closePath(),L.fill(),_.tick<_.totalTicks}function $e(L,_,z,$,X){var te=_.slice(),ie=L.getContext("2d"),se,le,Se=m(function(Ye){function He(){se=le=null,ie.clearRect(0,0,$.width,$.height),y.clear(),X(),Ye()}function Oe(){i&&!($.width===o.width&&$.height===o.height)&&($.width=L.width=o.width,$.height=L.height=o.height),!$.width&&!$.height&&(z(L),$.width=L.width,$.height=L.height),ie.clearRect(0,0,$.width,$.height),te=te.filter(function(at){return Ae(ie,at)}),te.length?se=g.frame(Oe):He()}se=g.frame(Oe),le=He});return{addFettis:function(Ye){return te=te.concat(Ye),Se},canvas:L,promise:Se,reset:function(){se&&g.cancel(se),le&&le()}}}function Ue(L,_){var z=!L,$=!!A(_||{},"resize"),X=!1,te=A(_,"disableForReducedMotion",Boolean),ie=u&&!!A(_||{},"useWorker"),se=ie?v():null,le=z?x:j,Se=L&&se?!!L.__confetti_initialized:!1,Ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,He;function Oe(je,Tt,ct){for(var jt=A(je,"particleCount",C),an=A(je,"angle",Number),bt=A(je,"spread",Number),Qt=A(je,"startVelocity",Number),Va=A(je,"decay",Number),Kt=A(je,"gravity",Number),Jn=A(je,"drift",Number),dt=A(je,"colors",J),ma=A(je,"ticks",Number),jn=A(je,"shapes"),Oa=A(je,"scalar"),Yt=!!A(je,"flat"),Zt=G(je),vn=jt,ka=[],Sn=L.width*Zt.x,pa=L.height*Zt.y;vn--;)ka.push(ye({x:Sn,y:pa,angle:an,spread:bt,startVelocity:Qt,color:dt[vn%dt.length],shape:jn[D(0,jn.length)],ticks:ma,decay:Va,gravity:Kt,drift:Jn,scalar:Oa,flat:Yt}));return He?He.addFettis(ka):(He=$e(L,ka,le,Tt,ct),He.promise)}function at(je){var Tt=te||A(je,"disableForReducedMotion",Boolean),ct=A(je,"zIndex",Number);if(Tt&&Ye)return m(function(Qt){Qt()});z&&He?L=He.canvas:z&&!L&&(L=Y(ct),document.body.appendChild(L)),$&&!Se&&le(L);var jt={width:L.width,height:L.height};se&&!Se&&se.init(L),Se=!0,se&&(L.__confetti_initialized=!0);function an(){if(se){var Qt={getBoundingClientRect:function(){if(!z)return L.getBoundingClientRect()}};le(Qt),se.postMessage({resize:{width:Qt.width,height:Qt.height}});return}jt.width=jt.height=null}function bt(){He=null,$&&(X=!1,e.removeEventListener("resize",an)),z&&L&&(document.body.contains(L)&&document.body.removeChild(L),L=null,Se=!1)}return $&&!X&&(X=!0,e.addEventListener("resize",an,!1)),se?se.fire(je,jt,bt):Oe(je,jt,bt)}return at.reset=function(){se&&se.reset(),He&&He.reset()},at}var xe;function B(){return xe||(xe=Ue(null,{useWorker:!0,resize:!0})),xe}function W(L,_,z,$,X,te,ie){var se=new Path2D(L),le=new Path2D;le.addPath(se,new DOMMatrix(_));var Se=new Path2D;return Se.addPath(le,new DOMMatrix([Math.cos(ie)*X,Math.sin(ie)*X,-Math.sin(ie)*te,Math.cos(ie)*te,z,$])),Se}function re(L){if(!c)throw new Error("path confetti are not supported in this browser");var _,z;typeof L=="string"?_=L:(_=L.path,z=L.matrix);var $=new Path2D(_),X=document.createElement("canvas"),te=X.getContext("2d");if(!z){for(var ie=1e3,se=ie,le=ie,Se=0,Ye=0,He,Oe,at=0;at<ie;at+=2)for(var je=0;je<ie;je+=2)te.isPointInPath($,at,je,"nonzero")&&(se=Math.min(se,at),le=Math.min(le,je),Se=Math.max(Se,at),Ye=Math.max(Ye,je));He=Se-se,Oe=Ye-le;var Tt=10,ct=Math.min(Tt/He,Tt/Oe);z=[ct,0,0,ct,-Math.round(He/2+se)*ct,-Math.round(Oe/2+le)*ct]}return{type:"path",path:_,matrix:z}}function pe(L){var _,z=1,$="#000000",X='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof L=="string"?_=L:(_=L.text,z="scalar"in L?L.scalar:z,X="fontFamily"in L?L.fontFamily:X,$="color"in L?L.color:$);var te=10*z,ie=""+te+"px "+X,se=new OffscreenCanvas(te,te),le=se.getContext("2d");le.font=ie;var Se=le.measureText(_),Ye=Math.ceil(Se.actualBoundingBoxRight+Se.actualBoundingBoxLeft),He=Math.ceil(Se.actualBoundingBoxAscent+Se.actualBoundingBoxDescent),Oe=2,at=Se.actualBoundingBoxLeft+Oe,je=Se.actualBoundingBoxAscent+Oe;Ye+=Oe+Oe,He+=Oe+Oe,se=new OffscreenCanvas(Ye,He),le=se.getContext("2d"),le.font=ie,le.fillStyle=$,le.fillText(_,at,je);var Tt=1/z;return{type:"bitmap",bitmap:se.transferToImageBitmap(),matrix:[Tt,0,0,Tt,-Ye*Tt/2,-He*Tt/2]}}r.exports=function(){return B().apply(this,arguments)},r.exports.reset=function(){B().reset()},r.exports.create=Ue,r.exports.shapeFromPath=re,r.exports.shapeFromText=pe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),$m,!1);const fL=$m.exports;$m.exports.create;function WS(t){const[e,r]=R.useState(null),[i,o]=R.useState(!0),[u,c]=R.useState(!1),[f,h]=R.useState(null),m=R.useRef(null),y=R.useRef(!1);R.useEffect(()=>{m.current=e,y.current=u},[e,u]);const g=async(v,w)=>{if(!v)return;const{data:S}=await Pe.from("cards").select("*").eq("id",v).single();if(!S)return;const T={light:{color:S.light_color??"black",value:S.light_value??null},dark:{color:S.dark_color??"black",value:S.dark_value??null}},A=w.current_side??"light";T[A].value?.startsWith("wild")&&(T[A].color=w.wild_color??"black"),h(T)};return R.useEffect(()=>{if(!t)return;let v=!0;return(async()=>{o(!0);const{data:S}=await Pe.from("rooms").select("*").eq("code",t).single();!v||!S||(r(S),c(S.started_game),S.current_card&&await g(S.current_card,S),o(!1))})(),()=>{v=!1}},[t]),R.useEffect(()=>{if(!t)return;const v=Pe.channel(`room-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"rooms",filter:`code=eq.${t}`},async({new:w,old:S})=>{if(r(w),!y.current&&w.started_game?(Le.success("Game started!"),c(!0)):y.current&&!w.started_game&&c(!1),w.current_card!==S.current_card){w.current_card?await g(w.current_card,w):h(null);return}const T=w.wild_color!==S.wild_color,A=w.current_side!==S.current_side;(T||A)&&w.current_card&&await g(w.current_card,w)}).subscribe();return()=>{Pe.removeChannel(v)}},[t]),R.useEffect(()=>{if(!t)return;const v=async()=>{const S=m.current;if(!S?.id)return;const{data:T}=await Pe.from("rooms").select("*").eq("code",t).single();!T||!(T.started_game!==S.started_game||T.turn_player_id!==S.turn_player_id||T.current_side!==S.current_side||T.current_card!==S.current_card||T.winner_id!==S.winner_id||T.draw_stack!==S.draw_stack)||(r(T),T.current_card?await g(T.current_card,T):h(null))};v();const w=setInterval(v,5e3);return()=>clearInterval(w)},[t]),document.documentElement.classList.toggle("dark",e?.current_side==="dark"),{loading:i,room:e,started:e?.started_game??!1,roomId:e?.id??null,hostId:e?.host_id??null,activePlayerId:e?.turn_player_id??null,direction:e?.direction??"clockwise",player_order:e?.player_order??[],currentSide:e?.current_side??"light",currentCardId:e?.current_card??null,drawStack:e?.draw_stack??0,currentCard:f,setCurrentCard:h,winner:e?.winner_id??null}}function hL({roomCode:t,winner:e,currentCard:r,currentSide:i}){const o=Ci(),u=`unoflip.site/room/${t}`,{players:c,loading:f,error:h}=JS(t),{hostId:m}=WS(t),y=v=>{if(!v)return!0;const w=new Date(v).getTime();return Date.now()-w>4e4},g=async()=>{await navigator.clipboard.writeText(u),Le.success("Room link copied!")};return R.useEffect(()=>{e&&fL({particleCount:200,spread:100,origin:{y:.3}})},[e]),R.useEffect(()=>{h&&Le.error(h)},[h]),f?V.jsxs("div",{className:"flex justify-center items-center py-10 text-gray-500",children:[V.jsx(Gu,{className:"animate-spin w-6 h-6 mr-2"}),"Loading players..."]}):(c.length===0&&(Le.error("No players found in the room."),o("/")),V.jsxs("div",{children:[V.jsxs("div",{className:"flex items-center gap-3 bg-gray-100 px-3 py-1 my-3 rounded-lg border border-gray-200 dark:border-gray-800",children:[V.jsx("input",{type:"text",value:u,readOnly:!0,className:"flex-1 bg-transparent text-sm px-2 py-1 outline-none overflow-hidden text-ellipsis"}),V.jsx("button",{onClick:g,className:"flex items-center gap-1 px-3 py-2 rounded-md bg-green-100 text-white text-sm hover:bg-white transition",children:V.jsx(rA,{className:"w-4 h-4 mr-1 text-green-500"})})]}),V.jsxs("div",{className:"flex items-start gap-3",children:[V.jsx("ul",{className:`flex-1 divide-y divide-gray-200 dark:divide-gray-700 rounded-lg 
                   border border-gray-200 dark:border-gray-800 overflow-hidden`,children:c.map(v=>{const w=y(v.last_seen);return V.jsxs("li",{className:`flex items-center justify-between px-4 py-3 transition relative overflow-hidden
        hover:bg-gray-50 dark:hover:bg-gray-300
        ${w?"text-red-500":"dark:text-gray-800"}
        ${e===v.player_id?`before:absolute before:inset-1 before:rounded-md
               before:bg-yellow-200 before:blur-lg before:opacity-40 before:-z-10
               animate-pulse`:""}`,children:[V.jsxs("span",{className:"font-medium flex items-center gap-2",children:[V.jsx(Ku,{className:"w-6 h-6"}),v.nickname??"Unknown",e===v.player_id&&V.jsx(OA,{className:"w-4 h-4 text-yellow-500"})]}),m===v.player_id&&V.jsxs("div",{className:"flex items-center text-yellow-500 text-sm",children:[V.jsx(sA,{className:"w-4 h-4 mr-1"}),"Host"]})]},v.player_id)})}),e&&r&&V.jsx("div",{className:"shrink-0 m-1",children:V.jsx(tl,{lightColor:r.light.color,lightValue:r.light.value,darkColor:r.dark.color,darkValue:r.dark.value,isDarkSide:i==="dark",showBothSides:!0,className:"scale-110"})})]})]}))}function mL(t,e,r){const[i,o]=R.useState(null),[u,c]=R.useState([]),f=R.useCallback(async()=>{if(!(!e||!r))try{const{data:y,error:g}=await Pe.rpc("fn_preview_draw",{p_room:e});if(g)throw g;if(!y||y.length===0)return;const v=y[0],w={light:{color:v.visible_side==="light"?v.color:"black",value:v.visible_side==="light"?v.value:null},dark:{color:v.visible_side==="dark"?v.color:"black",value:v.visible_side==="dark"?v.value:null}};o(w)}catch(y){console.error("Error fetching preview card:",y)}},[e,r]),h=y=>{const g=y.visible_card??{},v={color:"black",value:null};let w=v,S=v;if(g.light||g.dark)w={color:g.light?.color??"black",value:g.light?.value??null},S={color:g.dark?.color??"black",value:g.dark?.value??null};else if(g.side==="light"||g.side==="dark"){const T={color:g.color??"black",value:g.value??null};g.side==="light"?w=T:S=T}return{...y,visible_card:{light:w,dark:S}}},m=R.useCallback(async()=>{if(!e||!t||!r)return;const{data:y,error:g}=await Pe.from("secure_room_cards").select("room_card_id, owner_id, nickname, visible_card").eq("room_id",e);if(g){Le.error("Could not fetch table cards");return}c(y.map(h))},[e,t,r]);return R.useEffect(()=>{if(!e||!r)return;f(),m();const y=Pe.channel(`room-${e}-cards-shared`).on("postgres_changes",{event:"*",schema:"public",table:"room_cards",filter:`room_id=eq.${e}`},async()=>{await f(),await m()}).subscribe();return()=>{Pe.removeChannel(y)}},[e,r,f,m]),{previewCard:i,tableCards:u,setPreviewCard:o,setTableCards:c}}const rw="https://tnmtdsifsfoatwuewzai.supabase.co/functions/v1";function pL(){const{session:t}=NT(),{roomCode:e}=Dw(),{loading:r,started:i,hostId:o,activePlayerId:u,currentSide:c,currentCard:f,winner:h,drawStack:m,direction:y,player_order:g,roomId:v}=WS(e),{tableCards:w,previewCard:S}=mL(t,v,i),[T,A]=R.useState(!1),[C,D]=R.useState(null),k=async()=>{if(!(!t||!v))try{const{data:x,error:j}=await gL();if(j||!x?.session)throw new Error("No active session");Le.info("Starting game...");const Y=await fetch(`${rw}/start-game`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x.session.access_token}`},body:JSON.stringify({room_id:v,cards_per_player:7})});if(!Y.ok)throw new Error(await Y.text());Le.success("Game started!")}catch(x){console.error(x),Le.error(x instanceof Error?x.message:"Failed to start game")}},J=x=>{if(!t||!v)return;if(u!==t.user.id)return Le.error("Not your turn!");const j=c,Y=x.visible_card[j]?.value;if(Y==="wild"||Y==="wild_draw_two"||Y==="wild_draw_until"){D(x),A(!0);return}Z(x,null)},Z=async(x,j)=>{if(v)try{const{error:Y}=await Pe.rpc("fn_play_card",{p_room:v,p_room_card:x.room_card_id,p_chosen_color:j});if(Y)throw Y}catch(Y){console.error(Y),Le.error(Y instanceof Error?Y.message:"Failed to play card")}finally{D(null)}};R.useEffect(()=>{(async()=>{if(!t||!v)return;console.log(v);const{data:j,error:Y}=await Pe.from("room_players").select("player_id").eq("room_id",v).eq("player_id",t.user.id).maybeSingle();if(Y){console.error("Failed to check room membership:",Y);return}if(!j)try{const{data:{session:fe},error:ye}=await Pe.auth.getSession();if(ye||!fe)throw new Error("No active session");Le.info("Joining room...");const Ae=await fetch(`${rw}/join-room`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${fe.access_token}`},body:JSON.stringify({roomCode:e})});if(!Ae.ok){const $e=await Ae.text();console.warn("Join room failed:",$e),Le.info("You're viewing as a spectator.");return}Le.success("Joined room!")}catch(fe){console.error("Join error:",fe),Le.error("Could not join room")}})()},[t,v]);const G=async()=>{if(!(!t||!v)){if(u!==t.user.id)return Le.error("Not your turn!");try{const{error:x}=await Pe.rpc("fn_draw_card",{p_room:v});if(x)throw x}catch(x){console.error(x),Le.error(x instanceof Error?x.message:"Failed to draw card")}}};return r||!t||!v||!e?V.jsxs("div",{className:"flex justify-center items-center h-screen text-gray-400",children:[V.jsx(Gu,{className:"animate-spin w-6 h-6 mr-2"})," Loading..."]}):!i||h?V.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:V.jsxs("div",{className:"max-w-md w-full rounded-2xl shadow-xl p-6 space-y-5 bg-gray-100 text-black border border-gray-200",children:[V.jsx("h1",{className:"text-2xl font-bold text-center",children:"Waiting Room"}),V.jsx(hL,{roomCode:e,winner:h,currentCard:f,currentSide:c}),o===t.user.id&&V.jsx("div",{className:"pt-4 text-center",children:V.jsx("button",{onClick:k,className:"px-5 py-2 rounded-xl shadow-md bg-green-600 hover:bg-green-700 text-white",children:"Start Game"})})]})}):V.jsxs("div",{className:"pt-16",children:[V.jsxs(Th,{open:T,onClose:()=>{A(!1),D(null)},backdrop:"blur",children:[V.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"Choose a Color"}),V.jsx("div",{className:"relative h-36",children:["red","yellow","green","blue"].map((x,j,Y)=>{const{rotation:fe,offsetX:ye}=f_(j,Y.length,60);return V.jsx(ur.div,{className:"absolute top-0 cursor-pointer",style:{left:"42%"},initial:{y:-50,scale:.8,opacity:0},animate:{y:0,scale:1,opacity:1,rotate:fe,x:ye},whileHover:{scale:1.1,y:-10,zIndex:10},onClick:()=>{C&&(Z(C,x),A(!1))},children:V.jsx(tl,{lightColor:x,lightValue:"wild",darkColor:x,darkValue:"wild",isHoverable:!1,showBothSides:!0,isDarkSide:c==="dark",rotation:0})},x)})})]}),V.jsx(dL,{cards:w,currentUserId:t.user.id,drawCardTop:S,currentCard:f,activePlayerId:u??void 0,isDarkSide:c==="dark",onCardPlay:x=>J(x),onDrawCard:G,drawStack:m,direction:y,roomCode:e,playerOrder:g})]})}async function gL(){try{return await Pe.auth.getSession()}catch(t){return{data:null,error:t}}}function yL(){return R.useEffect(()=>{Le.error("Page not found")},[]),V.jsx(aR,{to:"/",replace:!0})}const vL=OR([{element:V.jsx($2,{}),children:[{path:"/",element:V.jsx(Tk,{})},{path:"/room/:roomCode",element:V.jsx(pL,{})},{path:"*",element:V.jsx(yL,{})}]}]);mx.createRoot(document.getElementById("root")).render(V.jsx(R.StrictMode,{children:V.jsx(HR,{router:vL})}));
